import{_ as Sa}from"../chunks/preload-helper.a4192956.js";import{s as Xd,y as kd,g as u,c as y,z as H,l as R,h as d,i as g,x as S,d as b,A as G,m as B,k as l,w as _u,D as xl,F as Bl,G as Cl,o as Cd,E as Bh,B as U,H as Uo,I as ta,J as na,j as lu,K as Jr}from"../chunks/scheduler.bb20601e.js";import{S as Zd,i as Qd,d as mt,v as Yd,q as Ro,e as p,g as i,a as Ke,n as s,o as N,p as Lo,s as de,b as Wc,t as mu,c as Nh,j as Vh,k as Mh,m as Fh,l as zh,h as qh}from"../chunks/index.64c527e2.js";import{g as $d}from"../chunks/globals.7f7f1b26.js";import{g as Hh,c as $i}from"../chunks/_commonjsHelpers.23102255.js";const Ed="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";function cu(){return Ed.charAt(Math.floor(Math.random()*Ed.length))}function kl(){const n=Array.from({length:3},()=>cu()).join(""),e=Array.from({length:4},()=>cu()).join(""),t=Array.from({length:4},()=>cu()).join("");return`${n}-${e}-${t}`}function yu(n){const e=[];for(let t=0;t<n;t++)e.push(kl());return e}function bu(n){return/^[A-HJ-NP-Z0-9]{3}-[A-HJ-NP-Z0-9]{4}-[A-HJ-NP-Z0-9]{4}$/.test(n)}function eh(n,e){return e.includes(n)}function th(n){let e,t=0;const r=100;do if(e=kl(),t++,t>r)throw new Error("Unable to generate unique code after maximum attempts");while(eh(e,n));return e}function Gh(n,e){const t=[],r=[...e];for(let o=0;o<n;o++){const a=th(r);t.push(a),r.push(a)}return t}const Wh=Object.freeze(Object.defineProperty({__proto__:null,generateMultipleCodes:yu,generateSecureTrackingCode:kl,generateUniqueCode:th,generateUniqueCodes:Gh,isCodeInUse:eh,validateTrackingCode:bu},Symbol.toStringTag,{value:"Module"})),Jh=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Sa(()=>Promise.resolve().then(()=>Sl),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Zu extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Kh extends Zu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xd extends Zu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sd extends Zu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(wu||(wu={}));var Xh=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};class Zh{constructor(e,{headers:t={},customFetch:r,region:o=wu.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=Jh(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Xh(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:h}=t;let f={},{region:v}=t;v||(v=this.region);const m=new URL(`${this.url}/${e}`);v&&v!=="any"&&(f["x-region"]=v,m.searchParams.set("forceFunctionRegion",v));let _;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(f["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(f["Content-Type"]="application/json",_=JSON.stringify(h)));const C=yield this.fetch(m.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:_}).catch(O=>{throw new Kh(O)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new xd(C);if(!C.ok)throw new Sd(C);let I=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return I==="application/json"?T=yield C.json():I==="application/octet-stream"?T=yield C.blob():I==="text/event-stream"?T=C:I==="multipart/form-data"?T=yield C.formData():T=yield C.text(),{data:T,error:null,response:C}}catch(o){return{data:null,error:o,response:o instanceof Sd||o instanceof xd?o.context:void 0}}})}}var ci={},Qu={},Xc={},Vl={},Zc={},Qc={},Qh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},El=Qh();const Yh=El.fetch,sh=El.fetch.bind(El),rh=El.Headers,$h=El.Request,ef=El.Response,Sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:rh,Request:$h,Response:ef,default:sh,fetch:Yh},Symbol.toStringTag,{value:"Module"})),tf=Hh(Sl);var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});let sf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Yc.default=sf;var nh=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qc,"__esModule",{value:!0});const rf=nh(tf),nf=nh(Yc);let of=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=rf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var h,f,v,m;let _=null,C=null,E=null,I=a.status,T=a.statusText;if(a.ok){if(this.method!=="HEAD"){const D=await a.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?C=D:C=JSON.parse(D))}const w=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),k=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");w&&k&&k.length>1&&(E=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(_={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,E=null,I=406,T="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const w=await a.text();try{_=JSON.parse(w),Array.isArray(_)&&a.status===404&&(C=[],_=null,I=200,T="OK")}catch{a.status===404&&w===""?(I=204,T="No Content"):_={message:w}}if(_&&this.isMaybeSingle&&(!((m=_==null?void 0:_.details)===null||m===void 0)&&m.includes("0 rows"))&&(_=null,I=200,T="OK"),_&&this.shouldThrowOnError)throw new nf.default(_)}return{error:_,data:C,count:E,status:I,statusText:T}});return this.shouldThrowOnError||(o=o.catch(a=>{var h,f,v;return{error:{message:`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(v=a==null?void 0:a.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};Qc.default=of;var af=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zc,"__esModule",{value:!0});const lf=af(Qc);let cf=class extends lf.default{select(e){let t=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const h=a?`${a}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(h,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:h="text"}={}){var f;const v=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Zc.default=cf;var uf=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vl,"__esModule",{value:!0});const df=uf(Zc);let hf=class extends df.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${h}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Vl.default=hf;var ff=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Xc,"__esModule",{value:!0});const Dl=ff(Vl);let pf=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,{head:t=!1,count:r}={}){const o=t?"HEAD":"GET";let a=!1;const h=(e??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join("");return this.url.searchParams.set("select",h),r&&this.headers.append("Prefer",`count=${r}`),new Dl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new Dl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const v=e.reduce((m,_)=>m.concat(Object.keys(_)),[]);if(v.length>0){const m=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",m.join(","))}}return new Dl.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(e,{count:t}={}){var r;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Dl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Dl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};Xc.default=pf;var ih=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qu,"__esModule",{value:!0});const gf=ih(Xc),vf=ih(Vl);let _f=class oh{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){const t=new URL(`${this.url}/${e}`);return new gf.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new oh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:a}={}){var h;let f;const v=new URL(`${this.url}/rpc/${e}`);let m;r||o?(f=r?"HEAD":"GET",Object.entries(t).filter(([C,E])=>E!==void 0).map(([C,E])=>[C,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([C,E])=>{v.searchParams.append(C,E)})):(f="POST",m=t);const _=new Headers(this.headers);return a&&_.set("Prefer",`count=${a}`),new vf.default({method:f,url:v,headers:_,schema:this.schemaName,body:m,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};Qu.default=_f;var Il=$i&&$i.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ci,"__esModule",{value:!0});ci.PostgrestError=ci.PostgrestBuilder=ci.PostgrestTransformBuilder=ci.PostgrestFilterBuilder=ci.PostgrestQueryBuilder=ci.PostgrestClient=void 0;const ah=Il(Qu);ci.PostgrestClient=ah.default;const lh=Il(Xc);ci.PostgrestQueryBuilder=lh.default;const ch=Il(Vl);ci.PostgrestFilterBuilder=ch.default;const uh=Il(Zc);ci.PostgrestTransformBuilder=uh.default;const dh=Il(Qc);ci.PostgrestBuilder=dh.default;const hh=Il(Yc);ci.PostgrestError=hh.default;var mf=ci.default={PostgrestClient:ah.default,PostgrestQueryBuilder:lh.default,PostgrestFilterBuilder:ch.default,PostgrestTransformBuilder:uh.default,PostgrestBuilder:dh.default,PostgrestError:hh.default};const{PostgrestClient:yf,PostgrestQueryBuilder:x0,PostgrestFilterBuilder:S0,PostgrestTransformBuilder:I0,PostgrestBuilder:T0,PostgrestError:j0}=mf;class bf{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wf="2.15.1",kf=`realtime-js/${wf}`,Cf="1.0.0",ku=1e4,Ef=1e3,xf=100;var Ll;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ll||(Ll={}));var Br;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Br||(Br={}));var vo;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(vo||(vo={}));var Cu;(function(n){n.websocket="websocket"})(Cu||(Cu={}));var Na;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Na||(Na={}));class Sf{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2);let h=this.HEADER_LENGTH+2;const f=r.decode(e.slice(h,h+o));h=h+o;const v=r.decode(e.slice(h,h+a));h=h+a;const m=JSON.parse(r.decode(e.slice(h,e.byteLength)));return{ref:null,topic:f,event:v,payload:m}}}class fh{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Yt||(Yt={}));const Id=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,h)=>(a[h]=If(h,n,e,o),a),{})},If=(n,e,t,r)=>{const o=e.find(f=>f.name===n),a=o==null?void 0:o.type,h=t[n];return a&&!r.includes(a)?ph(a,h):Eu(h)},ph=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return Df(e,t)}switch(n){case Yt.bool:return Tf(e);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return jf(e);case Yt.json:case Yt.jsonb:return Pf(e);case Yt.timestamp:return Af(e);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return Eu(e);default:return Eu(e)}},Eu=n=>n,Tf=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},jf=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Pf=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},Df=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const h=n.slice(1,t);try{a=JSON.parse("["+h+"]")}catch{a=h?h.split(","):[]}return a.map(f=>ph(e,f))}return n},Af=n=>typeof n=="string"?n.replace(" ","T"):n,gh=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class uu{constructor(e,t,r={},o=ku){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Td;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Td||(Td={}));class Ul{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,o,a,h),this.pendingDiffs.forEach(v=>{this.state=Ul.syncDiff(this.state,v,a,h)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ul.syncDiff(this.state,o,a,h),f())}),this.onJoin((o,a,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:h})}),this.onLeave((o,a,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const a=this.cloneDeep(e),h=this.transformState(t),f={},v={};return this.map(a,(m,_)=>{h[m]||(v[m]=_)}),this.map(h,(m,_)=>{const C=a[m];if(C){const E=_.map(w=>w.presence_ref),I=C.map(w=>w.presence_ref),T=_.filter(w=>I.indexOf(w.presence_ref)<0),O=C.filter(w=>E.indexOf(w.presence_ref)<0);T.length>0&&(f[m]=T),O.length>0&&(v[m]=O)}else f[m]=_}),this.syncDiff(a,{joins:f,leaves:v},r,o)}static syncDiff(e,t,r,o){const{joins:a,leaves:h}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(f,v)=>{var m;const _=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(v),_.length>0){const C=e[f].map(I=>I.presence_ref),E=_.filter(I=>C.indexOf(I.presence_ref)<0);e[f].unshift(...E)}r(f,_,v)}),this.map(h,(f,v)=>{let m=e[f];if(!m)return;const _=v.map(C=>C.presence_ref);m=m.filter(C=>_.indexOf(C.presence_ref)<0),e[f]=m,o(f,m,v),m.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jd;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(jd||(jd={}));var Rl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Rl||(Rl={}));var ra;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class Yu{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Br.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,vo.join,this.params,this.timeout),this.rejoinTimer=new fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Br.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Br.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Br.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vo.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ul(this),this.broadcastEndpointURL=gh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Br.closed){const{config:{broadcast:a,presence:h,private:f}}=this.params,v=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(E=>E.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0,_={},C={broadcast:a,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:v,private:f};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(ra.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:C},_)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:E})=>{var I;if(this.socket.setAuth(),E===void 0){e==null||e(ra.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(I=T==null?void 0:T.length)!==null&&I!==void 0?I:0,w=[];for(let k=0;k<O;k++){const D=T[k],{filter:{event:P,schema:A,table:M,filter:L}}=D,W=E&&E[k];if(W&&W.event===P&&W.schema===A&&W.table===M&&W.filter===L)w.push(Object.assign(Object.assign({},D),{id:W.id}));else{this.unsubscribe(),this.state=Br.errored,e==null||e(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ra.SUBSCRIBED);return}}).receive("error",E=>{this.state=Br.errored,e==null||e(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Br.joined&&e===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:h}=e,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:h,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var h,f,v;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||v===void 0)&&v.ack)&&a("ok"),m.receive("ok",()=>a("ok")),m.receive("error",()=>a("error")),m.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Br.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vo.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new uu(this,vo.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Br.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),h=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),h}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new uu(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>xf){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,a;const h=e.toLocaleLowerCase(),{close:f,error:v,leave:m,join:_}=vo;if(r&&[f,v,m,_].indexOf(h)>=0&&r!==this._joinRef())return;let E=this._onMessage(h,t,r);if(t&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(I=>{var T,O,w;return((T=I.filter)===null||T===void 0?void 0:T.event)==="*"||((w=(O=I.filter)===null||O===void 0?void 0:O.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===h}).map(I=>I.callback(E,r)):(a=this.bindings[h])===null||a===void 0||a.filter(I=>{var T,O,w,k,D,P;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in I){const A=I.id,M=(T=I.filter)===null||T===void 0?void 0:T.event;return A&&((O=t.ids)===null||O===void 0?void 0:O.includes(A))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(D=(k=I==null?void 0:I.filter)===null||k===void 0?void 0:k.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return A==="*"||A===((P=t==null?void 0:t.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===h}).map(I=>{if(typeof E=="object"&&"ids"in E){const T=E.data,{schema:O,table:w,commit_timestamp:k,type:D,errors:P}=T;E=Object.assign(Object.assign({},{schema:O,table:w,commit_timestamp:k,eventType:D,new:{},old:{},errors:P}),this._getPayloadRecords(T))}I.callback(E,r)})}_isClosed(){return this.state===Br.closed}_isJoined(){return this.state===Br.joined}_isJoining(){return this.state===Br.joining}_isLeaving(){return this.state===Br.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Yu.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vo.close,{},e)}_onError(e){this._on(vo.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Br.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Id(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Id(e.columns,e.old_record)),t}}const Pd=()=>{},Fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Of=[1e3,2e3,5e3,1e4],Lf=1e4,Uf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rf{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ku,this.transport=null,this.heartbeatIntervalMs=Fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pd,this.ref=0,this.reconnectTimer=null,this.logger=Pd,this.conn=null,this.sendBuffer=[],this.serializer=new Sf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...h)=>Sa(()=>Promise.resolve().then(()=>Sl),void 0,import.meta.url).then(({default:f})=>f(...h)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...h)=>a(...h)},!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Cu.websocket}`,this.httpEndpoint=gh(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cf}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ll.connecting:return Na.Connecting;case Ll.open:return Na.Open;case Ll.closing:return Na.Closing;default:return Na.Closed}}isConnected(){return this.connectionState()===Na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Yu(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:o,ref:a}=e,h=()=>{this.encode(e,f=>{var v;(v=this.conn)===null||v===void 0||v.send(f)})};this.log("push",`${t} ${r} (${a})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ef,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:h}=t,f=h?`(${h})`:"",v=a.status||"";this.log("receive",`${v} ${r} ${o} ${f}`.trim(),a),this.channels.filter(m=>m._isMember(r)).forEach(m=>m._trigger(o,a,h)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(vo.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([Uf],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:kf};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(vo.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,a,h,f,v,m;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ku,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Fc.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(h=e==null?void 0:e.accessToken)!==null&&h!==void 0?h:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:_=>Of[_-1]||Lf,this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:(_,C)=>C(JSON.stringify(_)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $u extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Nr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class Bf extends $u{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xu extends $u{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Nf=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};const vh=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Sa(()=>Promise.resolve().then(()=>Sl),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Vf=()=>Nf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sa(()=>Promise.resolve().then(()=>Sl),void 0,import.meta.url)).Response:Response}),Su=n=>{if(Array.isArray(n))return n.map(t=>Su(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Su(r)}),e},Mf=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Va=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};const du=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Ff=(n,e,t)=>Va(void 0,void 0,void 0,function*(){const r=yield Vf();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const a=n.status||500,h=(o==null?void 0:o.statusCode)||a+"";e(new Bf(du(o),a,h))}).catch(o=>{e(new xu(du(o),o))}):e(new xu(du(n),n))}),zf=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(Mf(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Ml(n,e,t,r,o,a){return Va(this,void 0,void 0,function*(){return new Promise((h,f)=>{n(t,zf(e,r,o,a)).then(v=>{if(!v.ok)throw v;return r!=null&&r.noResolveJson?v:v.json()}).then(v=>h(v)).catch(v=>Ff(v,f,r))})})}function Jc(n,e,t,r){return Va(this,void 0,void 0,function*(){return Ml(n,"GET",e,t,r)})}function Oo(n,e,t,r,o){return Va(this,void 0,void 0,function*(){return Ml(n,"POST",e,r,o,t)})}function Iu(n,e,t,r,o){return Va(this,void 0,void 0,function*(){return Ml(n,"PUT",e,r,o,t)})}function qf(n,e,t,r){return Va(this,void 0,void 0,function*(){return Ml(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function _h(n,e,t,r,o){return Va(this,void 0,void 0,function*(){return Ml(n,"DELETE",e,r,o,t)})}var Qn=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};const Hf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Gf{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=vh(o)}uploadOrUpdate(e,t,r,o){return Qn(this,void 0,void 0,function*(){try{let a;const h=Object.assign(Object.assign({},Dd),o);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(h.upsert)});const v=h.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",h.cacheControl),v&&a.append("metadata",this.encodeMetadata(v)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",h.cacheControl),v&&a.append("metadata",this.encodeMetadata(v))):(a=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,v&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),o!=null&&o.headers&&(f=Object.assign(Object.assign({},f),o.headers));const m=this._removeEmptyFolders(t),_=this._getFinalPath(m),C=yield(e=="PUT"?Iu:Oo)(this.fetch,`${this.url}/object/${_}`,a,Object.assign({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:m,id:C.Id,fullPath:C.Key},error:null}}catch(a){if(Nr(a))return{data:null,error:a};throw a}})}upload(e,t,r){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Qn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),h=this._getFinalPath(a),f=new URL(this.url+`/object/upload/sign/${h}`);f.searchParams.set("token",t);try{let v;const m=Object.assign({upsert:Dd.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&r instanceof Blob?(v=new FormData,v.append("cacheControl",m.cacheControl),v.append("",r)):typeof FormData<"u"&&r instanceof FormData?(v=r,v.append("cacheControl",m.cacheControl)):(v=r,_["cache-control"]=`max-age=${m.cacheControl}`,_["content-type"]=m.contentType);const C=yield Iu(this.fetch,f.toString(),v,{headers:_});return{data:{path:a,fullPath:C.Key},error:null}}catch(v){if(Nr(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(e,t){return Qn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const a=yield Oo(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),h=new URL(this.url+a.url),f=h.searchParams.get("token");if(!f)throw new $u("No token returned by API");return{data:{signedUrl:h.toString(),path:e,token:f},error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}update(e,t,r){return Qn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Qn(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Nr(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Qn(this,void 0,void 0,function*(){try{return{data:{path:(yield Oo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Nr(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Qn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Oo(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${h}`)},{data:a,error:null}}catch(o){if(Nr(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Qn(this,void 0,void 0,function*(){try{const o=yield Oo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${a}`):null})),error:null}}catch(o){if(Nr(o))return{data:null,error:o};throw o}})}download(e,t){return Qn(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),h=a?`?${a}`:"";try{const f=this._getFinalPath(e);return{data:yield(yield Jc(this.fetch,`${this.url}/${o}/${f}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Nr(f))return{data:null,error:f};throw f}})}info(e){return Qn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Jc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Su(r),error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}exists(e){return Qn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qf(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Nr(r)&&r instanceof xu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&o.push(a);const f=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});v!==""&&o.push(v);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${m}`)}}}remove(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Nr(t))return{data:null,error:t};throw t}})}list(e,t,r){return Qn(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Hf),t),{prefix:e||""});return{data:yield Oo(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Nr(o))return{data:null,error:o};throw o}})}listV2(e,t){return Qn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Oo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Wf="2.11.0",Jf={"X-Client-Info":`storage-js/${Wf}`};var gl=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};class Kf{constructor(e,t={},r,o){const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Jf),t),this.fetch=vh(r)}listBuckets(){return gl(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Nr(e))return{data:null,error:e};throw e}})}getBucket(e){return gl(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Nr(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return gl(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return gl(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gl(this,void 0,void 0,function*(){try{return{data:yield Oo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Nr(t))return{data:null,error:t};throw t}})}deleteBucket(e){return gl(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Nr(t))return{data:null,error:t};throw t}})}}class Xf extends Kf{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new Gf(this.url,this.headers,e,this.fetch)}}const Zf="2.56.0";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const Qf={"X-Client-Info":`supabase-js-${Al}/${Zf}`},Yf={headers:Qf},$f={schema:"public"},e1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t1={};var s1=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};const r1=n=>{let e;return n?e=n:typeof fetch>"u"?e=sh:e=fetch,(...t)=>e(...t)},n1=()=>typeof Headers>"u"?rh:Headers,i1=(n,e,t)=>{const r=r1(t),o=n1();return(a,h)=>s1(void 0,void 0,void 0,function*(){var f;const v=(f=yield e())!==null&&f!==void 0?f:n;let m=new o(h==null?void 0:h.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${v}`),r(a,Object.assign(Object.assign({},h),{headers:m}))})};var o1=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};function a1(n){return n.endsWith("/")?n:n+"/"}function l1(n,e){var t,r;const{db:o,auth:a,realtime:h,global:f}=n,{db:v,auth:m,realtime:_,global:C}=e,E={db:Object.assign(Object.assign({},v),o),auth:Object.assign(Object.assign({},m),a),realtime:Object.assign(Object.assign({},_),h),storage:{},global:Object.assign(Object.assign(Object.assign({},C),f),{headers:Object.assign(Object.assign({},(t=C==null?void 0:C.headers)!==null&&t!==void 0?t:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>o1(this,void 0,void 0,function*(){return""})};return n.accessToken?E.accessToken=n.accessToken:delete E.accessToken,E}const mh="2.71.1",bl=30*1e3,Tu=3,hu=Tu*bl,c1="http://localhost:9999",u1="supabase.auth.token",d1={"X-Client-Info":`gotrue-js/${mh}`},ju="X-Supabase-Api-Version",yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f1=10*60*1e3;class ed extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class p1 extends ed{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function g1(n){return Ie(n)&&n.name==="AuthApiError"}class bh extends ed{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ia extends ed{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Ea extends Ia{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v1(n){return Ie(n)&&n.name==="AuthSessionMissingError"}class zc extends Ia{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qc extends Ia{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hc extends Ia{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _1(n){return Ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ad extends Ia{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pu extends Ia{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function fu(n){return Ie(n)&&n.name==="AuthRetryableFetchError"}class Od extends Ia{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Du extends Ia{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ld=` 	
\r=`.split(""),m1=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Ld.length;e+=1)n[Ld[e].charCodeAt(0)]=-2;for(let e=0;e<Kc.length;e+=1)n[Kc[e].charCodeAt(0)]=e;return n})();function Ud(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Kc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Kc[r]),e.queuedBits-=6}}function wh(n,e,t){const r=m1[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Rd(n){const e=[],t=h=>{e.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=h=>{w1(h,r,t)};for(let h=0;h<n.length;h+=1)wh(n.charCodeAt(h),o,a);return e.join("")}function y1(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function b1(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}y1(r,e)}}function w1(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function k1(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)wh(n.charCodeAt(o),t,r);return new Uint8Array(e)}function C1(n){const e=[];return b1(n,t=>e.push(t)),new Uint8Array(e)}function E1(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>Ud(o,t,r)),Ud(null,t,r),e.join("")}function x1(n){return Math.round(Date.now()/1e3)+n}function S1(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const go=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},kh=()=>{if(!go())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function I1(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const Ch=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Sa(()=>Promise.resolve().then(()=>Sl),void 0,import.meta.url).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},T1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",wl=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Ra=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ca=async(n,e)=>{await n.removeItem(e)};class $c{constructor(){this.promise=new $c.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}$c.promiseConstructor=Promise;function pu(n){const e=n.split(".");if(e.length!==3)throw new Du("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!h1.test(e[r]))throw new Du("JWT not in base64url format");return{header:JSON.parse(Rd(e[0])),payload:JSON.parse(Rd(e[1])),signature:k1(e[2]),raw:{header:e[0],payload:e[1]}}}async function j1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function P1(n,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const h=await n(a);if(!e(a,null,h)){r(h);return}}catch(h){if(!e(a,h)){o(h);return}}})()})}function D1(n){return("0"+n.toString(16)).substr(-2)}function A1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,D1).join("")}async function O1(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function L1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await O1(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vl(n,e,t=!1){const r=A1();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await wl(n,`${e}-code-verifier`,o);const a=await L1(r);return[a,r===a?"plain":"s256"]}const U1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R1(n){const e=n.headers.get(ju);if(!e||!e.match(U1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function B1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function N1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const V1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _l(n){if(!V1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bd(n){return JSON.parse(JSON.stringify(n))}var M1=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};const Ba=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),F1=[502,503,504];async function Nd(n){var e;if(!T1(n))throw new Pu(Ba(n),0);if(F1.includes(n.status))throw new Pu(Ba(n),n.status);let t;try{t=await n.json()}catch(a){throw new bh(Ba(a),a)}let r;const o=R1(n);if(o&&o.getTime()>=yh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Od(Ba(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ea}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,h)=>a&&typeof h=="string",!0))throw new Od(Ba(t),n.status,t.weak_password.reasons);throw new p1(Ba(t),n.status||500,r)}const z1=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function Ge(n,e,t,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[ju]||(a[ju]=yh["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const h=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",v=await q1(n,e,t+f,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(v):{data:Object.assign({},v),error:null}}async function q1(n,e,t,r,o,a){const h=z1(e,r,o,a);let f;try{f=await n(t,Object.assign({},h))}catch(v){throw console.error(v),new Pu(Ba(v),0)}if(f.ok||await Nd(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(v){await Nd(v)}}function sa(n){var e;let t=null;J1(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=x1(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Vd(n){const e=sa(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function xa(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function H1(n){return{data:n,error:null}}function G1(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a}=n,h=M1(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a},v=Object.assign({},h);return{data:{properties:f,user:v},error:null}}function W1(n){return n}function J1(n){return n.access_token&&n.refresh_token&&n.expires_in}const vu=["global","local","others"];var K1=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class X1{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Ch(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=vu[0]){if(vu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vu.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xa})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=K1(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:G1,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ie(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xa})}catch(t){if(Ie(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,a,h,f,v;try{const m={nextPage:null,lastPage:0,total:0},_=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:W1});if(_.error)throw _.error;const C=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,I=(v=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&v!==void 0?v:[];return I.length>0&&(I.forEach(T=>{const O=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(T.split(";")[1].split("=")[1]);m[`${w}Page`]=O}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},C),m),error:null}}catch(m){if(Ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){_l(e);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xa})}catch(t){if(Ie(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){_l(e);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xa})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){_l(e);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xa})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){_l(e.userId);try{const{data:t,error:r}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(Ie(t))return{data:null,error:t};throw t}}async _deleteFactor(e){_l(e.userId),_l(e.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}}}function Md(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Z1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ml={debug:!!(globalThis&&kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Eh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Q1 extends Eh{}async function Y1(n,e,t){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ml.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ml.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Q1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ml.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Z1();const $1={url:c1,storageKey:u1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fd(n,e,t){return await t()}const yl={};class Nl{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nl.nextInstanceID,Nl.nextInstanceID+=1,this.instanceID>0&&go()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},$1),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new X1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ch(o.fetch),this.lock=o.lock||Fd,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:go()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Y1:this.lock=Fd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Md(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Md(this.memoryStorage)),go()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=yl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=yl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=I1(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),go()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),_1(a)){const v=(e=a.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:h,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ie(t)?{error:t}:{error:new bh("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:sa}),{data:h,error:f}=a;if(f||!h)return{data:{user:null,session:null},error:f};const v=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,o;try{let a;if("email"in e){const{email:_,password:C,options:E}=e;let I=null,T=null;this.flowType==="pkce"&&([I,T]=await vl(this.storage,this.storageKey)),a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:_,password:C,data:(t=E==null?void 0:E.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:I,code_challenge_method:T},xform:sa})}else if("phone"in e){const{phone:_,password:C,options:E}=e;a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:C,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(o=E==null?void 0:E.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:sa})}else throw new qc("You must provide either an email or phone number and a password");const{data:h,error:f}=a;if(f||!h)return{data:{user:null,session:null},error:f};const v=h.session,m=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(a){if(Ie(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:h,options:f}=e;t=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vd})}else if("phone"in e){const{phone:a,password:h,options:f}=e;t=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vd})}else throw new qc("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new zc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(Ie(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,a,h,f,v,m,_,C,E,I;let T,O;if("message"in e)T=e.message,O=e.signature;else{const{chain:w,wallet:k,statement:D,options:P}=e;let A;if(go())if(typeof k=="object")A=k;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))A=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=k}const M=new URL((t=P==null?void 0:P.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const L=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),D?{statement:D}:null));let W;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")W=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)W=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)T=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),O=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${M.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(r=P==null?void 0:P.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=P==null?void 0:P.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((h=P==null?void 0:P.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((v=P==null?void 0:P.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((C=(_=P==null?void 0:P.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||C===void 0)&&C.length?["Resources",...P.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const L=await A.signMessage(new TextEncoder().encode(T),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=L}}try{const{data:w,error:k}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:E1(O)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(I=e.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:sa});if(k)throw k;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new zc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:k})}catch(w){if(Ie(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const t=await Ra(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:a,error:h}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:sa});if(await Ca(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new zc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:h})}catch(a){if(Ie(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:a,nonce:h}=e,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:h,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:sa}),{data:v,error:m}=f;return m?{data:{user:null,session:null},error:m}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new zc}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:m})}catch(t){if(Ie(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,a,h;try{if("email"in e){const{email:f,options:v}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await vl(this.storage,this.storageKey));const{error:C}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=v==null?void 0:v.data)!==null&&t!==void 0?t:{},create_user:(r=v==null?void 0:v.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:m,code_challenge_method:_},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:C}}if("phone"in e){const{phone:f,options:v}=e,{data:m,error:_}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=v==null?void 0:v.data)!==null&&o!==void 0?o:{},create_user:(a=v==null?void 0:v.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(h=v==null?void 0:v.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:_}}throw new qc("You must provide either an email or phone number.")}catch(f){if(Ie(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var t,r;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:f}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:sa});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const v=h.session,m=h.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:m,session:v},error:null}}catch(o){if(Ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let a=null,h=null;return this.flowType==="pkce"&&([a,h]=await vl(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:h}),headers:this.headers,xform:H1})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ea;const{error:o}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:h}=await Ge(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:h,error:f}=await Ge(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new qc("You must provide either an email or phone number and a type")}catch(t){if(Ie(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<hu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const h=await Ra(this.userStorage,this.storageKey+"-user");h!=null&&h.user?e.user=h.user:e.user=gu()}if(this.storage.isServer&&e.user){let h=this.suppressGetSessionWarning;e=new Proxy(e,{get:(v,m,_)=>(!h&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,m,_))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xa}):await this._useSession(async t=>{var r,o,a;const{data:h,error:f}=t;if(f)throw f;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ea}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:xa})})}catch(t){if(Ie(t))return v1(t)&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Ea;const h=o.session;let f=null,v=null;this.flowType==="pkce"&&e.email!=null&&([f,v]=await vl(this.storage,this.storageKey));const{data:m,error:_}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:v}),jwt:h.access_token,xform:xa});if(_)throw _;return h.user=m.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ea;const t=Date.now()/1e3;let r=t,o=!0,a=null;const{payload:h}=pu(e.access_token);if(h.exp&&(r=h.exp,o=r<=t),o){const{session:f,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:v}=await this._getUser(e.access_token);if(v)throw v;a={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(Ie(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:h,error:f}=t;if(f)throw f;e=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ea;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ie(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!go())throw new Hc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ad("No code detected.");const{data:D,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:h,expires_in:f,expires_at:v,token_type:m}=e;if(!a||!f||!h||!m)throw new Hc("No session defined in URL");const _=Math.round(Date.now()/1e3),C=parseInt(f);let E=_+C;v&&(E=parseInt(v));const I=E-_;I*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${C}s`);const T=E-C;_-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,E,_):_-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,E,_);const{data:O,error:w}=await this._getUser(a);if(w)throw w;const k={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:C,expires_at:E,refresh_token:h,token_type:m,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:k,redirectType:e.type},error:null}}catch(r){if(Ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return{error:a};const h=(r=o.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:f}=await this.admin.signOut(h,e);if(f&&!(g1(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await Ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=S1(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:a},error:h}=t;if(h)throw h;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await vl(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(Ie(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async a=>{var h,f,v,m,_;const{data:C,error:E}=a;if(E)throw E;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(h=e.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",I,{headers:this.headers,jwt:(_=(m=C.session)===null||m===void 0?void 0:m.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return go()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:h}=t;if(h)throw h;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(Ie(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await P1(async o=>(o>0&&await j1(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sa})),(o,a)=>{const h=200*Math.pow(2,o);return a&&fu(a)&&Date.now()+h-r<bl})}catch(r){if(this._debug(t,"error",r),Ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),go()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Ra(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await wl(this.userStorage,this.storageKey+"-user",h)),o.user=(e=h==null?void 0:h.user)!==null&&e!==void 0?e:gu()}else if(o&&!o.user&&!o.user){const h=await Ra(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(o.user=h.user,await Ca(this.storage,this.storageKey+"-user"),await wl(this.storage,this.storageKey,o)):o.user=gu()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<hu;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${hu}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),fu(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(o.access_token);!f&&(h!=null&&h.user)?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new $c;const{data:a,error:h}=await this._refreshAccessToken(e);if(h)throw h;if(!a.session)throw new Ea;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={session:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(o,"error",a),Ie(a)){const h={session:null,error:a};return fu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(v){a.push(v)}});if(await Promise.all(h),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await wl(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=Bd(o);await wl(this.storage,this.storageKey,a)}else{const o=Bd(t);await wl(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ca(this.storage,this.storageKey),await Ca(this.storage,this.storageKey+"-code-verifier"),await Ca(this.storage,this.storageKey+"-user"),this.userStorage&&await Ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&go()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${bl}ms, refresh threshold is ${Tu} ticks`),o<=Tu&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Eh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!go()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,h]=await vl(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(f.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;return a?{data:null,error:a}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ie(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:h}=t;if(h)return{data:null,error:h};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:v,error:m}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((o=v==null?void 0:v.totp)===null||o===void 0)&&o.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(t){if(Ie(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return{data:null,error:a};const{data:h,error:f}=await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:f})})}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;return a?{data:null,error:a}:await Ge(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],o=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),a=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=pu(o.access_token);let f=null;h.aal&&(f=h.aal);let v=f;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(C=>C.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const _=h.amr||[];return{data:{currentLevel:f,nextLevel:v,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(f=>f.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+f1>o)return r;const{data:a,error:h}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:I,error:T}=await this.getSession();if(T||!I.session)return{data:null,error:T};r=I.session.access_token}const{header:o,payload:a,signature:h,raw:{header:f,payload:v}}=pu(r);t!=null&&t.allowExpired||B1(a.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!m){const{error:I}=await this.getUser(r);if(I)throw I;return{data:{claims:a,header:o,signature:h},error:null}}const _=N1(o.alg),C=await crypto.subtle.importKey("jwk",m,_,!0,["verify"]);if(!await crypto.subtle.verify(_,C,h,C1(`${f}.${v}`)))throw new Du("Invalid JWT signature");return{data:{claims:a,header:o,signature:h},error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}Nl.nextInstanceID=0;const e0=Nl;class t0 extends e0{constructor(e){super(e)}}var s0=globalThis&&globalThis.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(h){h(a)})}return new(t||(t=Promise))(function(a,h){function f(_){try{m(r.next(_))}catch(C){h(C)}}function v(_){try{m(r.throw(_))}catch(C){h(C)}}function m(_){_.done?a(_.value):o(_.value).then(f,v)}m((r=r.apply(n,e||[])).next())})};class r0{constructor(e,t,r){var o,a,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const f=a1(e),v=new URL(f);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const m=`sb-${v.hostname.split(".")[0]}-auth-token`,_={db:$f,realtime:t1,auth:Object.assign(Object.assign({},e1),{storageKey:m}),global:Yf},C=l1(r??{},_);this.storageKey=(o=C.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=C.global.headers)!==null&&a!==void 0?a:{},C.accessToken?(this.accessToken=C.accessToken,this.auth=new Proxy({},{get:(E,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=C.auth)!==null&&h!==void 0?h:{},this.headers,C.global.fetch),this.fetch=i1(t,this._getAccessToken.bind(this),C.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},C.realtime)),this.rest=new yf(new URL("rest/v1",v).href,{headers:this.headers,schema:C.db.schema,fetch:this.fetch}),this.storage=new Xf(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),C.accessToken||this._listenForAuthEvents()}get functions(){return new Zh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return s0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:a,flowType:h,lock:f,debug:v},m,_){const C={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t0({url:this.authUrl.href,headers:Object.assign(Object.assign({},C),m),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:h,lock:f,debug:v,fetch:_,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Rf(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const n0=(n,e,t)=>new r0(n,e,t);function i0(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}i0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const o0="https://mleddklrniohnrtekgnh.supabase.co",a0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1sZWRka2xybmlvaG5ydGVrZ25oIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzNTQ3ODIsImV4cCI6MjA3MDkzMDc4Mn0.aa8qLEKgCHaCK4N_hjaGVw7-fnSX6_rYy88-yl4WxXI";console.log("🔍 Environment Check:");console.log("VITE_SUPABASE_URL:","✅ Loaded");console.log("VITE_SUPABASE_ANON_KEY:","✅ Loaded");console.log("NODE_ENV:",{}.NODE_ENV);console.log("DEV:",!0);const Le=n0(o0,a0),zd={async generateTrackingCode(){const{data:n,error:e}=await Le.from("tracking_codes").select("code").limit(1e3);if(e)throw e;const t=n.map(o=>o.code),{generateUniqueCode:r}=await Sa(()=>Promise.resolve().then(()=>Wh),void 0,import.meta.url);return r(t)},async createTrackingCode(n,e={}){const{data:t,error:r}=await Le.from("tracking_codes").insert([{code:n,status:"active",metadata:e,created_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async getTrackingCode(n){const{data:e,error:t}=await Le.from("tracking_codes").select(`
            *,
            shipments (
              *,
              custody_chain (
                *
              )
            )
          `).eq("code",n).single();if(t)throw t;return e},async updateTrackingCodeStatus(n,e,t={}){const{data:r,error:o}=await Le.from("tracking_codes").update({status:e,metadata:t,updated_at:new Date().toISOString()}).eq("code",n).select().single();if(o)throw o;return r},async getAllTrackingCodes(){const{data:n,error:e}=await Le.from("tracking_codes").select("*").order("created_at",{ascending:!1});if(e)throw e;return n},async addCustodyChainEntry(n,e){const{data:t,error:r}=await Le.from("custody_chain").insert([{tracking_code:n,guardian_id:e.guardianId,guardian_name:e.guardianName,location:e.location,status:e.status,notes:e.notes,timestamp:new Date().toISOString(),verified:!0}]).select().single();if(r)throw r;return t}},{Error:Gc,console:l0}=$d,jt="C:/Users/SiRiUs/Desktop/HANSBUNTU/HANDEVELOPS{web agency}/logicstics/src/lib/components/ImageUpload.svelte";function qd(n,e,t){const r=n.slice();return r[16]=e[t],r[18]=t,r}function Hd(n,e,t){const r=n.slice();return r[19]=e[t],r}function Au(n){let e,t,r="Current Images:",o,a,h=Ro(n[1]),f=[];for(let m=0;m<h.length;m+=1)f[m]=Ou(Hd(n,h,m));const v={c:function(){e=u("div"),t=u("h4"),t.textContent=r,o=y(),a=u("div");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l:function(_){e=d(_,"DIV",{class:!0});var C=g(e);t=d(C,"H4",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-heryw9"&&(t.textContent=r),o=b(C),a=d(C,"DIV",{class:!0});var E=g(a);for(let I=0;I<f.length;I+=1)f[I].l(E);E.forEach(p),C.forEach(p),this.h()},h:function(){i(t,"class","text-md font-medium mb-3"),l(t,jt,98,6,2462),i(a,"class","grid grid-cols-2 md:grid-cols-3 gap-4"),l(a,jt,99,6,2527),i(e,"class","current-images mb-6"),l(e,jt,97,4,2421)},m:function(_,C){Ke(_,e,C),s(e,t),s(e,o),s(e,a);for(let E=0;E<f.length;E+=1)f[E]&&f[E].m(a,null)},p:function(_,C){if(C&4098){h=Ro(_[1]);let E;for(E=0;E<h.length;E+=1){const I=Hd(_,h,E);f[E]?f[E].p(I,C):(f[E]=Ou(I),f[E].c(),f[E].m(a,null))}for(;E<f.length;E+=1)f[E].d(1);f.length=h.length}},d:function(_){_&&p(e),Bl(f,_)}};return mt("SvelteRegisterBlock",{block:v,id:Au.name,type:"if",source:"(97:2) {#if currentImages && currentImages.length > 0}",ctx:n}),v}function Ou(n){let e,t,r,o,a,h="×",f,v,m;function _(){return n[13](n[19])}const C={c:function(){e=u("div"),t=u("img"),o=y(),a=u("button"),a.textContent=h,f=y(),this.h()},l:function(I){e=d(I,"DIV",{class:!0});var T=g(e);t=d(T,"IMG",{src:!0,alt:!0,class:!0}),o=b(T),a=d(T,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),S(a)!=="svelte-sca7kl"&&(a.textContent=h),f=b(T),T.forEach(p),this.h()},h:function(){Cl(t.src,r=n[19])||i(t,"src",r),i(t,"alt","Gold shipment"),i(t,"class","w-full h-32 object-cover rounded-lg border-2 border-gray-200"),l(t,jt,102,12,2675),i(a,"class","absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"),i(a,"title","Remove image"),l(a,jt,107,12,2861),i(e,"class","relative group"),l(e,jt,101,10,2633)},m:function(I,T){Ke(I,e,T),s(e,t),s(e,o),s(e,a),s(e,f),v||(m=N(a,"click",_,!1,!1,!1,!1),v=!0)},p:function(I,T){n=I,T&2&&!Cl(t.src,r=n[19])&&i(t,"src",r)},d:function(I){I&&p(e),v=!1,m()}};return mt("SvelteRegisterBlock",{block:C,id:Ou.name,type:"each",source:"(101:8) {#each currentImages as imageUrl}",ctx:n}),C}function Lu(n){let e,t,r="Selected Files:",o,a,h,f,v,m,_=Ro(n[4]),C=[];for(let w=0;w<_.length;w+=1)C[w]=Uu(qd(n,_,w));function E(w,k){return w[2]?Sh:xh}let I=E(n),T=I(n);const O={c:function(){e=u("div"),t=u("h4"),t.textContent=r,o=y(),a=u("div");for(let k=0;k<C.length;k+=1)C[k].c();h=y(),f=u("button"),T.c(),this.h()},l:function(k){e=d(k,"DIV",{class:!0});var D=g(e);t=d(D,"H4",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1ob6nr4"&&(t.textContent=r),o=b(D),a=d(D,"DIV",{class:!0});var P=g(a);for(let M=0;M<C.length;M+=1)C[M].l(P);P.forEach(p),D.forEach(p),h=b(k),f=d(k,"BUTTON",{class:!0});var A=g(f);T.l(A),A.forEach(p),this.h()},h:function(){i(t,"class","text-md font-medium mb-3"),l(t,jt,160,6,4988),i(a,"class","grid grid-cols-2 md:grid-cols-4 gap-3"),l(a,jt,161,6,5053),i(e,"class","selected-files mb-4"),l(e,jt,159,4,4947),f.disabled=n[2],i(f,"class","w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"),l(f,jt,182,4,5795)},m:function(k,D){Ke(k,e,D),s(e,t),s(e,o),s(e,a);for(let P=0;P<C.length;P+=1)C[P]&&C[P].m(a,null);Ke(k,h,D),Ke(k,f,D),T.m(f,null),v||(m=N(f,"click",n[11],!1,!1,!1,!1),v=!0)},p:function(k,D){if(D&1040){_=Ro(k[4]);let P;for(P=0;P<_.length;P+=1){const A=qd(k,_,P);C[P]?C[P].p(A,D):(C[P]=Uu(A),C[P].c(),C[P].m(a,null))}for(;P<C.length;P+=1)C[P].d(1);C.length=_.length}I===(I=E(k))&&T?T.p(k,D):(T.d(1),T=I(k),T&&(T.c(),T.m(f,null))),D&4&&Lo(f,"disabled",k[2])},d:function(k){k&&(p(e),p(h),p(f)),Bl(C,k),T.d(),v=!1,m()}};return mt("SvelteRegisterBlock",{block:O,id:Lu.name,type:"if",source:"(159:2) {#if selectedFiles.length > 0}",ctx:n}),O}function Uu(n){let e,t,r,o,a,h="×",f,v,m=n[16].name+"",_,C,E,I;function T(){return n[14](n[18])}const O={c:function(){e=u("div"),t=u("img"),o=y(),a=u("button"),a.textContent=h,f=y(),v=u("p"),_=R(m),C=y(),this.h()},l:function(k){e=d(k,"DIV",{class:!0});var D=g(e);t=d(D,"IMG",{src:!0,alt:!0,class:!0}),o=b(D),a=d(D,"BUTTON",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-1v4ptyb"&&(a.textContent=h),f=b(D),v=d(D,"P",{class:!0});var P=g(v);_=B(P,m),P.forEach(p),C=b(D),D.forEach(p),this.h()},h:function(){Cl(t.src,r=URL.createObjectURL(n[16]))||i(t,"src",r),i(t,"alt","Preview"),i(t,"class","w-full h-20 object-cover rounded border"),l(t,jt,164,12,5198),i(a,"class","absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs"),l(a,jt,169,12,5374),i(v,"class","text-xs text-gray-600 mt-1 truncate"),l(v,jt,175,12,5632),i(e,"class","relative"),l(e,jt,163,10,5162)},m:function(k,D){Ke(k,e,D),s(e,t),s(e,o),s(e,a),s(e,f),s(e,v),s(v,_),s(e,C),E||(I=N(a,"click",T,!1,!1,!1,!1),E=!0)},p:function(k,D){n=k,D&16&&!Cl(t.src,r=URL.createObjectURL(n[16]))&&i(t,"src",r),D&16&&m!==(m=n[16].name+"")&&de(_,m)},d:function(k){k&&p(e),E=!1,I()}};return mt("SvelteRegisterBlock",{block:O,id:Uu.name,type:"each",source:"(163:8) {#each selectedFiles as file, index}",ctx:n}),O}function xh(n){let e,t=n[4].length+"",r,o,a=n[4].length!==1?"s":"",h;const f={c:function(){e=R("Upload "),r=R(t),o=R(" Image"),h=R(a)},l:function(m){e=B(m,"Upload "),r=B(m,t),o=B(m," Image"),h=B(m,a)},m:function(m,_){Ke(m,e,_),Ke(m,r,_),Ke(m,o,_),Ke(m,h,_)},p:function(m,_){_&16&&t!==(t=m[4].length+"")&&de(r,t),_&16&&a!==(a=m[4].length!==1?"s":"")&&de(h,a)},d:function(m){m&&(p(e),p(r),p(o),p(h))}};return mt("SvelteRegisterBlock",{block:f,id:xh.name,type:"else",source:"(196:6) {:else}",ctx:n}),f}function Sh(n){let e,t,r,o,a,h,f;const v={c:function(){e=u("span"),t=H("svg"),r=H("circle"),o=H("path"),a=R(`\r
          Uploading... `),h=R(n[3]),f=R("%"),this.h()},l:function(_){e=d(_,"SPAN",{class:!0});var C=g(e);t=G(C,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var E=g(t);r=G(E,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),g(r).forEach(p),o=G(E,"path",{class:!0,fill:!0,d:!0}),g(o).forEach(p),E.forEach(p),a=B(C,`\r
          Uploading... `),h=B(C,n[3]),f=B(C,"%"),C.forEach(p),this.h()},h:function(){i(r,"class","opacity-25"),i(r,"cx","12"),i(r,"cy","12"),i(r,"r","10"),i(r,"stroke","currentColor"),i(r,"stroke-width","4"),l(r,jt,190,12,6231),i(o,"class","opacity-75"),i(o,"fill","currentColor"),i(o,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),l(o,jt,191,12,6343),i(t,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(t,"fill","none"),i(t,"viewBox","0 0 24 24"),l(t,jt,189,10,6094),i(e,"class","flex items-center justify-center"),l(e,jt,188,8,6035)},m:function(_,C){Ke(_,e,C),s(e,t),s(t,r),s(t,o),s(e,a),s(e,h),s(e,f)},p:function(_,C){C&8&&de(h,_[3])},d:function(_){_&&p(e)}};return mt("SvelteRegisterBlock",{block:v,id:Sh.name,type:"if",source:"(188:6) {#if uploading}",ctx:n}),v}function Ru(n){let e,t,r="Gold Shipment Images",o,a,h,f,v,m,_,C,E,I="Upload Gold Shipment Images",T,O,w="Drag and drop images here, or click to select files",k,D,P,A,M,L,W,Z,X,Ue,Qe,F=n[1]&&n[1].length>0&&Au(n),re=n[4].length>0&&Lu(n);const me={c:function(){e=u("div"),t=u("h3"),t.textContent=r,o=y(),F&&F.c(),a=y(),h=u("div"),f=u("div"),v=u("div"),m=H("svg"),_=H("path"),C=y(),E=u("p"),E.textContent=I,T=y(),O=u("p"),O.textContent=w,k=y(),D=u("input"),A=y(),M=u("label"),L=R("Select Images"),X=y(),re&&re.c(),this.h()},l:function(ge){e=d(ge,"DIV",{class:!0});var ce=g(e);t=d(ce,"H3",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-y0nwdr"&&(t.textContent=r),o=b(ce),F&&F.l(ce),a=b(ce),h=d(ce,"DIV",{class:!0});var oe=g(h);f=d(oe,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var he=g(f);v=d(he,"DIV",{class:!0});var ye=g(v);m=G(ye,"svg",{class:!0,stroke:!0,fill:!0,viewBox:!0});var ie=g(m);_=G(ie,"path",{d:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(_).forEach(p),ie.forEach(p),C=b(ye),E=d(ye,"P",{class:!0,"data-svelte-h":!0}),S(E)!=="svelte-9ohlh4"&&(E.textContent=I),T=b(ye),O=d(ye,"P",{class:!0,"data-svelte-h":!0}),S(O)!=="svelte-35s20x"&&(O.textContent=w),k=b(ye),D=d(ye,"INPUT",{type:!0,accept:!0,class:!0,id:!0}),A=b(ye),M=d(ye,"LABEL",{for:!0,class:!0});var Te=g(M);L=B(Te,"Select Images"),Te.forEach(p),ye.forEach(p),he.forEach(p),oe.forEach(p),X=b(ce),re&&re.l(ce),ce.forEach(p),this.h()},h:function(){i(t,"class","text-lg font-semibold mb-4"),l(t,jt,93,2,2261),i(_,"d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"),i(_,"stroke-width","2"),i(_,"stroke-linecap","round"),i(_,"stroke-linejoin","round"),l(_,jt,133,10,3868),i(m,"class","mx-auto h-12 w-12 text-gray-400 mb-4"),i(m,"stroke","currentColor"),i(m,"fill","none"),i(m,"viewBox","0 0 48 48"),l(m,jt,132,8,3752),i(E,"class","text-lg font-medium"),l(E,jt,135,8,4153),i(O,"class","text-sm text-gray-500 mt-2"),l(O,jt,136,8,4225),i(D,"type","file"),D.multiple=!0,i(D,"accept","image/*"),i(D,"class","hidden"),i(D,"id",P="file-input-"+n[0]),l(D,jt,139,8,4350),i(M,"for",W="file-input-"+n[0]),i(M,"class","mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 cursor-pointer"),l(M,jt,147,8,4557),i(v,"class","text-gray-600"),l(v,jt,131,6,3715),i(f,"class",Z="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors "+(n[5]?"border-blue-400 bg-blue-50":"hover:border-gray-400")),i(f,"role","button"),i(f,"tabindex","0"),i(f,"aria-label","Drag and drop area for image uploads"),l(f,jt,122,4,3326),i(h,"class","upload-area mb-4"),l(h,jt,121,2,3290),i(e,"class","image-upload-container"),l(e,jt,92,0,2221)},m:function(ge,ce){Ke(ge,e,ce),s(e,t),s(e,o),F&&F.m(e,null),s(e,a),s(e,h),s(h,f),s(f,v),s(v,m),s(m,_),s(v,C),s(v,E),s(v,T),s(v,O),s(v,k),s(v,D),s(v,A),s(v,M),s(M,L),s(e,X),re&&re.m(e,null),Ue||(Qe=[N(D,"change",n[6],!1,!1,!1,!1),N(f,"dragover",n[7],!1,!1,!1,!1),N(f,"dragleave",n[8],!1,!1,!1,!1),N(f,"drop",n[9],!1,!1,!1,!1)],Ue=!0)},p:function(ge,[ce]){ge[1]&&ge[1].length>0?F?F.p(ge,ce):(F=Au(ge),F.c(),F.m(e,a)):F&&(F.d(1),F=null),ce&1&&P!==(P="file-input-"+ge[0])&&i(D,"id",P),ce&1&&W!==(W="file-input-"+ge[0])&&i(M,"for",W),ce&32&&Z!==(Z="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors "+(ge[5]?"border-blue-400 bg-blue-50":"hover:border-gray-400"))&&i(f,"class",Z),ge[4].length>0?re?re.p(ge,ce):(re=Lu(ge),re.c(),re.m(e,null)):re&&(re.d(1),re=null)},i:_u,o:_u,d:function(ge){ge&&p(e),F&&F.d(),re&&re.d(),Ue=!1,xl(Qe)}};return mt("SvelteRegisterBlock",{block:me,id:Ru.name,type:"component",source:"",ctx:n}),me}function c0(n,e,t){let{$$slots:r={},$$scope:o}=e;Yd("ImageUpload",r,[]);const a=kd();let{trackingCode:h=""}=e,{currentImages:f=[]}=e,v=!1,m=0,_=[],C=!1;function E(L){const W=Array.from(L.target.files);t(4,_=[..._,...W])}function I(L){L.preventDefault(),t(5,C=!0)}function T(){t(5,C=!1)}function O(L){L.preventDefault(),t(5,C=!1);const W=Array.from(L.dataTransfer.files);t(4,_=[..._,...W])}function w(L){t(4,_=_.filter((W,Z)=>Z!==L))}async function k(){if(_.length!==0){t(2,v=!0),t(3,m=0);try{const L=new FormData;L.append("trackingCode",h),_.forEach((X,Ue)=>{L.append("images",X)});const W=await fetch("/api/upload-images",{method:"POST",body:L});if(!W.ok)throw new Error("Upload failed");const Z=await W.json();a("uploadSuccess",{images:Z.images,trackingCode:h}),t(4,_=[]),t(3,m=0)}catch(L){console.error("Upload error:",L),a("uploadError",{error:L.message})}finally{t(2,v=!1)}}}function D(L){a("removeImage",{imageUrl:L,trackingCode:h})}const P=["trackingCode","currentImages"];Object.keys(e).forEach(L=>{!~P.indexOf(L)&&L.slice(0,2)!=="$$"&&L!=="slot"&&l0.warn(`<ImageUpload> was created with unknown prop '${L}'`)});const A=L=>D(L),M=L=>w(L);return n.$$set=L=>{"trackingCode"in L&&t(0,h=L.trackingCode),"currentImages"in L&&t(1,f=L.currentImages)},n.$capture_state=()=>({createEventDispatcher:kd,dispatch:a,trackingCode:h,currentImages:f,uploading:v,uploadProgress:m,selectedFiles:_,dragActive:C,handleFileSelect:E,handleDragOver:I,handleDragLeave:T,handleDrop:O,removeFile:w,uploadImages:k,removeImage:D}),n.$inject_state=L=>{"trackingCode"in L&&t(0,h=L.trackingCode),"currentImages"in L&&t(1,f=L.currentImages),"uploading"in L&&t(2,v=L.uploading),"uploadProgress"in L&&t(3,m=L.uploadProgress),"selectedFiles"in L&&t(4,_=L.selectedFiles),"dragActive"in L&&t(5,C=L.dragActive)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[h,f,v,m,_,C,E,I,T,O,w,k,D,A,M]}class Ih extends Zd{constructor(e){super(e),Qd(this,e,c0,Ru,Xd,{trackingCode:0,currentImages:1}),mt("SvelteRegisterComponent",{component:this,tagName:"ImageUpload",options:e,id:Ru.name})}get trackingCode(){throw new Gc("<ImageUpload>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set trackingCode(e){throw new Gc("<ImageUpload>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get currentImages(){throw new Gc("<ImageUpload>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set currentImages(e){throw new Gc("<ImageUpload>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{Object:u0,console:d0,document:Gd}=$d,c="C:/Users/SiRiUs/Desktop/HANSBUNTU/HANDEVELOPS{web agency}/logicstics/src/routes/admin/+page.svelte";function Wd(n,e,t){const r=n.slice();return r[120]=e[t],r[122]=t,r}function Jd(n,e,t){const r=n.slice();return r[123]=e[t],r}function Kd(n,e,t){const r=n.slice();return r[126]=e[t],r}function Th(n){let e,t,r,o,a,h,f,v,m="Database Not Configured",_,C,E="Set up Supabase to enable full functionality",I,T,O,w="Quick Setup:",k,D,P,A,M,L=".env",W,Z,X,Ue="Add your Supabase credentials:",Qe,F,re,me,le,ge,ce,oe="Restart your dev server after creating the .env file",he,ye,ie,Te,be,ve,Ae,Y,Re,pe,at,Be,We;const ht={c:function(){e=u("div"),t=u("div"),r=u("div"),o=H("svg"),a=H("path"),h=y(),f=u("div"),v=u("h2"),v.textContent=m,_=y(),C=u("p"),C.textContent=E,I=y(),T=u("div"),O=u("h3"),O.textContent=w,k=y(),D=u("ol"),P=u("li"),A=R("Create a "),M=u("code"),M.textContent=L,W=R(" file in your project root"),Z=y(),X=u("li"),X.textContent=Ue,Qe=y(),F=u("div"),re=R("VITE_SUPABASE_URL=https://your-project-id.supabase.co"),me=u("br"),le=R(`
            VITE_SUPABASE_ANON_KEY=your_anon_key_here`),ge=y(),ce=u("p"),ce.textContent=oe,he=y(),ye=u("div"),ie=u("a"),Te=H("svg"),be=H("path"),ve=R(`
            Supabase Docs`),Ae=y(),Y=u("button"),Re=H("svg"),pe=H("path"),at=R(`
            Reload Page`),this.h()},l:function(je){e=d(je,"DIV",{class:!0});var Ee=g(e);t=d(Ee,"DIV",{class:!0});var ke=g(t);r=d(ke,"DIV",{class:!0});var Kr=g(r);o=G(Kr,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ct=g(o);a=G(ct,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(a).forEach(p),ct.forEach(p),Kr.forEach(p),h=b(ke),f=d(ke,"DIV",{});var Oe=g(f);v=d(Oe,"H2",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-47kx89"&&(v.textContent=m),_=b(Oe),C=d(Oe,"P",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-1rsh9fy"&&(C.textContent=E),Oe.forEach(p),ke.forEach(p),I=b(Ee),T=d(Ee,"DIV",{class:!0});var Nt=g(T);O=d(Nt,"H3",{class:!0,"data-svelte-h":!0}),S(O)!=="svelte-1ykedgb"&&(O.textContent=w),k=b(Nt),D=d(Nt,"OL",{class:!0});var Ye=g(D);P=d(Ye,"LI",{});var Ne=g(P);A=B(Ne,"Create a "),M=d(Ne,"CODE",{class:!0,"data-svelte-h":!0}),S(M)!=="svelte-1newjab"&&(M.textContent=L),W=B(Ne," file in your project root"),Ne.forEach(p),Z=b(Ye),X=d(Ye,"LI",{"data-svelte-h":!0}),S(X)!=="svelte-1y38wiw"&&(X.textContent=Ue),Ye.forEach(p),Qe=b(Nt),F=d(Nt,"DIV",{class:!0});var or=g(F);re=B(or,"VITE_SUPABASE_URL=https://your-project-id.supabase.co"),me=d(or,"BR",{}),le=B(or,`
            VITE_SUPABASE_ANON_KEY=your_anon_key_here`),or.forEach(p),ge=b(Nt),ce=d(Nt,"P",{class:!0,"data-svelte-h":!0}),S(ce)!=="svelte-2t6zqi"&&(ce.textContent=oe),Nt.forEach(p),he=b(Ee),ye=d(Ee,"DIV",{class:!0});var xs=g(ye);ie=d(xs,"A",{href:!0,target:!0,class:!0});var ae=g(ie);Te=G(ae,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ft=g(Te);be=G(ft,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(be).forEach(p),ft.forEach(p),ve=B(ae,`
            Supabase Docs`),ae.forEach(p),Ae=b(xs),Y=d(xs,"BUTTON",{class:!0});var Je=g(Y);Re=G(Je,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ct=g(Re);pe=G(Ct,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(pe).forEach(p),Ct.forEach(p),at=B(Je,`
            Reload Page`),Je.forEach(p),xs.forEach(p),Ee.forEach(p),this.h()},h:function(){i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"stroke-width","2"),i(a,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"),l(a,c,1705,14,63212),i(o,"class","w-6 h-6 text-white"),i(o,"fill","none"),i(o,"stroke","currentColor"),i(o,"viewBox","0 0 24 24"),l(o,c,1704,12,63111),i(r,"class","w-10 h-10 bg-yellow-400 rounded-lg flex items-center justify-center"),l(r,c,1703,10,63017),i(v,"class","text-xl font-semibold text-yellow-800"),l(v,c,1709,12,63495),i(C,"class","text-sm text-yellow-700"),l(C,c,1710,12,63586),l(f,c,1708,10,63477),i(t,"class","flex items-center space-x-3 mb-4"),l(t,c,1702,8,62960),i(O,"class","text-sm font-medium text-yellow-800 mb-2"),l(O,c,1715,10,63797),i(M,"class","bg-yellow-100 px-1 rounded"),l(M,c,1717,25,63975),l(P,c,1717,12,63962),l(X,c,1718,12,64071),i(D,"class","text-sm text-yellow-700 space-y-1 list-decimal list-inside"),l(D,c,1716,10,63878),l(me,c,1721,65,64263),i(F,"class","mt-3 bg-gray-100 p-3 rounded font-mono text-xs"),l(F,c,1720,10,64137),i(ce,"class","text-xs text-yellow-600 mt-2"),l(ce,c,1724,10,64349),i(T,"class","bg-white border border-yellow-200 rounded-lg p-4 mb-4"),l(T,c,1714,8,63719),i(be,"stroke-linecap","round"),i(be,"stroke-linejoin","round"),i(be,"stroke-width","2"),i(be,"d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V8a2 2 0 00-2-2h-4M10 6a2 2 0 002 2h2a2 2 0 002-2M10 6a2 2 0 012-2h2a2 2 0 012 2"),l(be,c,1730,14,64730),i(Te,"class","w-4 h-4 mr-2"),i(Te,"fill","none"),i(Te,"stroke","currentColor"),i(Te,"viewBox","0 0 24 24"),l(Te,c,1729,12,64635),i(ie,"href","https://supabase.com/docs/guides/getting-started"),i(ie,"target","_blank"),i(ie,"class","btn-secondary text-sm"),l(ie,c,1728,10,64517),i(pe,"stroke-linecap","round"),i(pe,"stroke-linejoin","round"),i(pe,"stroke-width","2"),i(pe,"d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),l(pe,c,1736,14,65199),i(Re,"class","w-4 h-4 mr-2"),i(Re,"fill","none"),i(Re,"stroke","currentColor"),i(Re,"viewBox","0 0 24 24"),l(Re,c,1735,12,65104),i(Y,"class","btn-primary text-sm"),l(Y,c,1734,10,65013),i(ye,"class","flex space-x-3"),l(ye,c,1727,8,64478),i(e,"class","mb-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6"),l(e,c,1701,6,62880)},m:function(je,Ee){Ke(je,e,Ee),s(e,t),s(t,r),s(r,o),s(o,a),s(t,h),s(t,f),s(f,v),s(f,_),s(f,C),s(e,I),s(e,T),s(T,O),s(T,k),s(T,D),s(D,P),s(P,A),s(P,M),s(P,W),s(D,Z),s(D,X),s(T,Qe),s(T,F),s(F,re),s(F,me),s(F,le),s(T,ge),s(T,ce),s(e,he),s(e,ye),s(ye,ie),s(ie,Te),s(Te,be),s(ie,ve),s(ye,Ae),s(ye,Y),s(Y,Re),s(Re,pe),s(Y,at),Be||(We=N(Y,"click",n[36],!1,!1,!1,!1),Be=!0)},p:_u,d:function(je){je&&p(e),Be=!1,We()}};return mt("SvelteRegisterBlock",{block:ht,id:Th.name,type:"if",source:"(1701:4) {#if !supabase || !supabase.from}",ctx:n}),ht}function Bu(n){let e,t,r,o,a,h,f,v,m,_,C,E,I,T,O;const w={c:function(){e=u("div"),t=u("div"),r=u("div"),o=H("svg"),a=H("path"),h=y(),f=u("div"),v=u("p"),m=R(n[5]),_=y(),C=u("button"),E=H("svg"),I=H("path"),this.h()},l:function(D){e=d(D,"DIV",{class:!0});var P=g(e);t=d(P,"DIV",{class:!0});var A=g(t);r=d(A,"DIV",{class:!0});var M=g(r);o=G(M,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var L=g(o);a=G(L,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(a).forEach(p),L.forEach(p),h=b(M),f=d(M,"DIV",{class:!0});var W=g(f);v=d(W,"P",{class:!0});var Z=g(v);m=B(Z,n[5]),Z.forEach(p),W.forEach(p),_=b(M),C=d(M,"BUTTON",{class:!0});var X=g(C);E=G(X,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ue=g(E);I=G(Ue,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(I).forEach(p),Ue.forEach(p),X.forEach(p),M.forEach(p),A.forEach(p),P.forEach(p),this.h()},h:function(){i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"stroke-width","2"),i(a,"d","M5 13l4 4L19 7"),l(a,c,1750,14,65844),i(o,"class","w-5 h-5 text-green-600"),i(o,"fill","none"),i(o,"stroke","currentColor"),i(o,"viewBox","0 0 24 24"),l(o,c,1749,12,65739),i(v,"class","text-sm font-medium text-green-800"),l(v,c,1753,14,66007),i(f,"class","flex-1"),l(f,c,1752,12,65972),i(I,"stroke-linecap","round"),i(I,"stroke-linejoin","round"),i(I,"stroke-width","2"),i(I,"d","M6 18L18 6M6 6l12 12"),l(I,c,1762,16,66378),i(E,"class","w-4 h-4"),i(E,"fill","none"),i(E,"stroke","currentColor"),i(E,"viewBox","0 0 24 24"),l(E,c,1761,14,66286),i(C,"class","text-green-400 hover:text-green-600 transition-colors"),l(C,c,1757,12,66130),i(r,"class","flex items-center space-x-3"),l(r,c,1748,10,65685),i(t,"class","bg-green-50 border border-green-200 rounded-lg shadow-lg p-4 max-w-sm"),l(t,c,1747,8,65591),i(e,"class","fixed top-4 right-4 z-50"),l(e,c,1746,6,65544)},m:function(D,P){Ke(D,e,P),s(e,t),s(t,r),s(r,o),s(o,a),s(r,h),s(r,f),s(f,v),s(v,m),s(r,_),s(r,C),s(C,E),s(E,I),T||(O=N(C,"click",n[37],!1,!1,!1,!1),T=!0)},p:function(D,P){P[0]&32&&de(m,D[5])},d:function(D){D&&p(e),T=!1,O()}};return mt("SvelteRegisterBlock",{block:w,id:Bu.name,type:"if",source:"(1746:4) {#if success}",ctx:n}),w}function jh(n){let e,t,r;const o={c:function(){e=H("svg"),t=H("path"),r=R(`
                Generate Single Code`),this.h()},l:function(h){e=G(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var f=g(e);t=G(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(t).forEach(p),f.forEach(p),r=B(h,`
                Generate Single Code`),this.h()},h:function(){i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","2"),i(t,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),l(t,c,1798,16,67953),i(e,"class","w-5 h-5 mr-2"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"viewBox","0 0 24 24"),l(e,c,1797,14,67856)},m:function(h,f){Ke(h,e,f),s(e,t),Ke(h,r,f)},d:function(h){h&&(p(e),p(r))}};return mt("SvelteRegisterBlock",{block:o,id:jh.name,type:"else",source:"(1797:12) {:else}",ctx:n}),o}function Ph(n){let e;const t={c:function(){e=u("div"),this.h()},l:function(o){e=d(o,"DIV",{class:!0}),g(e).forEach(p),this.h()},h:function(){i(e,"class","loading-spinner mx-auto"),l(e,c,1795,14,67778)},m:function(o,a){Ke(o,e,a)},d:function(o){o&&p(e)}};return mt("SvelteRegisterBlock",{block:t,id:Ph.name,type:"if",source:"(1795:12) {#if loading}",ctx:n}),t}function Nu(n){let e,t,r,o=n[7].length>1?`${n[7].length} Codes Generated`:"Generated Tracking Code",a,h,f,v,m,_,C,E,I;function T(D,P){return D[7].length===1?Ah:Dh}let O=T(n),w=O(n);const k={c:function(){e=u("div"),t=u("div"),r=u("h3"),a=R(o),h=y(),f=u("button"),v=H("svg"),m=H("path"),_=R(`
                  Copy`),C=y(),w.c(),this.h()},l:function(P){e=d(P,"DIV",{class:!0});var A=g(e);t=d(A,"DIV",{class:!0});var M=g(t);r=d(M,"H3",{class:!0});var L=g(r);a=B(L,o),L.forEach(p),h=b(M),f=d(M,"BUTTON",{class:!0});var W=g(f);v=G(W,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Z=g(v);m=G(Z,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(m).forEach(p),Z.forEach(p),_=B(W,`
                  Copy`),W.forEach(p),M.forEach(p),C=b(A),w.l(A),A.forEach(p),this.h()},h:function(){i(r,"class","text-sm font-medium text-green-800"),l(r,c,1832,16,69284),i(m,"stroke-linecap","round"),i(m,"stroke-linejoin","round"),i(m,"stroke-width","2"),i(m,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),l(m,c,1840,20,69750),i(v,"class","w-4 h-4 mr-2"),i(v,"fill","none"),i(v,"stroke","currentColor"),i(v,"viewBox","0 0 24 24"),l(v,c,1839,18,69649),i(f,"class","btn-secondary text-sm"),l(f,c,1835,16,69489),i(t,"class","flex items-center justify-between mb-2"),l(t,c,1831,14,69215),i(e,"class","bg-green-50 border border-green-200 rounded-lg p-4"),l(e,c,1830,12,69136)},m:function(P,A){Ke(P,e,A),s(e,t),s(t,r),s(r,a),s(t,h),s(t,f),s(f,v),s(v,m),s(f,_),s(e,C),w.m(e,null),E||(I=N(f,"click",n[39],!1,!1,!1,!1),E=!0)},p:function(P,A){A[0]&128&&o!==(o=P[7].length>1?`${P[7].length} Codes Generated`:"Generated Tracking Code")&&de(a,o),O===(O=T(P))&&w?w.p(P,A):(w.d(1),w=O(P),w&&(w.c(),w.m(e,null)))},d:function(P){P&&p(e),w.d(),E=!1,I()}};return mt("SvelteRegisterBlock",{block:k,id:Nu.name,type:"if",source:"(1830:10) {#if newTrackingCode}",ctx:n}),k}function Dh(n){let e,t,r,o,a,h,f,v,m=n[7].length+"",_,C,E,I;const T={c:function(){e=u("div"),t=u("p"),r=R("First code: "),o=u("span"),a=R(n[4]),h=y(),f=u("button"),v=R("Copy All "),_=R(m),C=R(" Codes"),this.h()},l:function(w){e=d(w,"DIV",{class:!0});var k=g(e);t=d(k,"P",{class:!0});var D=g(t);r=B(D,"First code: "),o=d(D,"SPAN",{class:!0});var P=g(o);a=B(P,n[4]),P.forEach(p),D.forEach(p),h=b(k),f=d(k,"BUTTON",{class:!0});var A=g(f);v=B(A,"Copy All "),_=B(A,m),C=B(A," Codes"),A.forEach(p),k.forEach(p),this.h()},h:function(){i(o,"class","font-mono"),l(o,c,1850,64,70321),i(t,"class","text-sm text-green-700"),l(t,c,1850,18,70275),i(f,"class","btn-secondary text-sm w-full"),l(f,c,1851,18,70392),i(e,"class","space-y-2"),l(e,c,1849,16,70233)},m:function(w,k){Ke(w,e,k),s(e,t),s(t,r),s(t,o),s(o,a),s(e,h),s(e,f),s(f,v),s(f,_),s(f,C),E||(I=N(f,"click",n[17],!1,!1,!1,!1),E=!0)},p:function(w,k){k[0]&16&&de(a,w[4]),k[0]&128&&m!==(m=w[7].length+"")&&de(_,m)},d:function(w){w&&p(e),E=!1,I()}};return mt("SvelteRegisterBlock",{block:T,id:Dh.name,type:"else",source:"(1849:14) {:else}",ctx:n}),T}function Ah(n){let e,t;const r={c:function(){e=u("p"),t=R(n[4]),this.h()},l:function(a){e=d(a,"P",{class:!0});var h=g(e);t=B(h,n[4]),h.forEach(p),this.h()},h:function(){i(e,"class","text-lg font-mono text-green-900 mt-1"),l(e,c,1847,16,70124)},m:function(a,h){Ke(a,e,h),s(e,t)},p:function(a,h){h[0]&16&&de(t,a[4])},d:function(a){a&&p(e)}};return mt("SvelteRegisterBlock",{block:r,id:Ah.name,type:"if",source:"(1847:14) {#if generatedCodes.length === 1}",ctx:n}),r}function Vu(n){let e,t,r;const o={c:function(){e=u("div"),t=u("p"),r=R(n[2]),this.h()},l:function(h){e=d(h,"DIV",{class:!0});var f=g(e);t=d(f,"P",{class:!0});var v=g(t);r=B(v,n[2]),v.forEach(p),f.forEach(p),this.h()},h:function(){i(t,"class","text-sm text-red-700"),l(t,c,1864,14,70796),i(e,"class","bg-red-50 border border-red-200 rounded-lg p-4"),l(e,c,1863,12,70721)},m:function(h,f){Ke(h,e,f),s(e,t),s(t,r)},p:function(h,f){f[0]&4&&de(r,h[2])},d:function(h){h&&p(e)}};return mt("SvelteRegisterBlock",{block:o,id:Vu.name,type:"if",source:"(1863:10) {#if error}",ctx:n}),o}function Mu(n){let e,t,r;const o={c:function(){e=u("div"),t=u("p"),r=R(n[5]),this.h()},l:function(h){e=d(h,"DIV",{class:!0});var f=g(e);t=d(f,"P",{class:!0});var v=g(t);r=B(v,n[5]),v.forEach(p),f.forEach(p),this.h()},h:function(){i(t,"class","text-sm text-green-700"),l(t,c,1870,14,70991),i(e,"class","bg-green-50 border border-green-200 rounded-lg p-4"),l(e,c,1869,12,70912)},m:function(h,f){Ke(h,e,f),s(e,t),s(t,r)},p:function(h,f){f[0]&32&&de(r,h[5])},d:function(h){h&&p(e)}};return mt("SvelteRegisterBlock",{block:o,id:Mu.name,type:"if",source:"(1869:10) {#if success}",ctx:n}),o}function Fu(n){let e,t,r,o=n[126].code+"",a,h,f,v,m=n[126].status+"",_,C,E,I=Ol(n[126].created_at)+"",T,O,w,k=Ol(n[126].last_accessed)+"",D,P,A,M=n[126].access_count+"",L,W,Z,X,Ue="Copy",Qe,F,re="Edit",me,le,ge="Delete",ce,oe,he;function ye(){return n[40](n[126])}function ie(){return n[41](n[126])}function Te(){return n[42](n[126])}const be={c:function(){e=u("tr"),t=u("td"),r=u("span"),a=R(o),h=y(),f=u("td"),v=u("span"),_=R(m),C=y(),E=u("td"),T=R(I),O=y(),w=u("td"),D=R(k),P=y(),A=u("td"),L=R(M),W=y(),Z=u("td"),X=u("button"),X.textContent=Ue,Qe=y(),F=u("button"),F.textContent=re,me=y(),le=u("button"),le.textContent=ge,ce=y(),this.h()},l:function(Ae){e=d(Ae,"TR",{});var Y=g(e);t=d(Y,"TD",{class:!0});var Re=g(t);r=d(Re,"SPAN",{class:!0});var pe=g(r);a=B(pe,o),pe.forEach(p),Re.forEach(p),h=b(Y),f=d(Y,"TD",{class:!0});var at=g(f);v=d(at,"SPAN",{class:!0});var Be=g(v);_=B(Be,m),Be.forEach(p),at.forEach(p),C=b(Y),E=d(Y,"TD",{class:!0});var We=g(E);T=B(We,I),We.forEach(p),O=b(Y),w=d(Y,"TD",{class:!0});var ht=g(w);D=B(ht,k),ht.forEach(p),P=b(Y),A=d(Y,"TD",{class:!0});var fe=g(A);L=B(fe,M),fe.forEach(p),W=b(Y),Z=d(Y,"TD",{class:!0});var je=g(Z);X=d(je,"BUTTON",{class:!0,"data-svelte-h":!0}),S(X)!=="svelte-17sepi5"&&(X.textContent=Ue),Qe=b(je),F=d(je,"BUTTON",{class:!0,"data-svelte-h":!0}),S(F)!=="svelte-14ks8gg"&&(F.textContent=re),me=b(je),le=d(je,"BUTTON",{class:!0,"data-svelte-h":!0}),S(le)!=="svelte-q97pzs"&&(le.textContent=ge),je.forEach(p),ce=b(Y),Y.forEach(p),this.h()},h:function(){i(r,"class","font-mono text-sm text-gray-900"),l(r,c,1968,18,75659),i(t,"class","px-6 py-4 whitespace-nowrap"),l(t,c,1967,16,75600),i(v,"class","status-badge status-in-transit"),l(v,c,1971,18,75821),i(f,"class","px-6 py-4 whitespace-nowrap"),l(f,c,1970,16,75762),i(E,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),l(E,c,1973,16,75925),i(w,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),l(w,c,1976,16,76074),i(A,"class","px-6 py-4 whitespace-nowrap text-sm text-gray-500"),l(A,c,1979,16,76226),i(X,"class","text-gold-600 hover:text-gold-900 mr-3"),l(X,c,1983,18,76444),i(F,"class","text-blue-600 hover:text-blue-900 mr-3"),l(F,c,1989,18,76674),i(le,"class","text-red-600 hover:text-red-900"),l(le,c,1995,18,76901),i(Z,"class","px-6 py-4 whitespace-nowrap text-sm font-medium"),l(Z,c,1982,16,76365),l(e,c,1966,14,75579)},m:function(Ae,Y){Ke(Ae,e,Y),s(e,t),s(t,r),s(r,a),s(e,h),s(e,f),s(f,v),s(v,_),s(e,C),s(e,E),s(E,T),s(e,O),s(e,w),s(w,D),s(e,P),s(e,A),s(A,L),s(e,W),s(e,Z),s(Z,X),s(Z,Qe),s(Z,F),s(Z,me),s(Z,le),s(e,ce),oe||(he=[N(X,"click",ye,!1,!1,!1,!1),N(F,"click",ie,!1,!1,!1,!1),N(le,"click",Te,!1,!1,!1,!1)],oe=!0)},p:function(Ae,Y){n=Ae,Y[0]&8&&o!==(o=n[126].code+"")&&de(a,o),Y[0]&8&&m!==(m=n[126].status+"")&&de(_,m),Y[0]&8&&I!==(I=Ol(n[126].created_at)+"")&&de(T,I),Y[0]&8&&k!==(k=Ol(n[126].last_accessed)+"")&&de(D,k),Y[0]&8&&M!==(M=n[126].access_count+"")&&de(L,M)},d:function(Ae){Ae&&p(e),oe=!1,xl(he)}};return mt("SvelteRegisterBlock",{block:be,id:Fu.name,type:"each",source:"(1966:12) {#each trackingCodes as code}",ctx:n}),be}function zu(n){let e,t,r,o,a,h="No tracking codes found";const f={c:function(){e=u("div"),t=H("svg"),r=H("path"),o=y(),a=u("p"),a.textContent=h,this.h()},l:function(m){e=d(m,"DIV",{class:!0});var _=g(e);t=G(_,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var C=g(t);r=G(C,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(r).forEach(p),C.forEach(p),o=b(_),a=d(_,"P",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-1fvz1cm"&&(a.textContent=h),_.forEach(p),this.h()},h:function(){i(r,"stroke-linecap","round"),i(r,"stroke-linejoin","round"),i(r,"stroke-width","2"),i(r,"d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"),l(r,c,2011,12,77429),i(t,"class","w-12 h-12 text-gray-400 mx-auto mb-4"),i(t,"fill","none"),i(t,"stroke","currentColor"),i(t,"viewBox","0 0 24 24"),l(t,c,2010,10,77312),i(a,"class","text-gray-500"),l(a,c,2013,10,77665),i(e,"class","text-center py-8"),l(e,c,2009,8,77271)},m:function(m,_){Ke(m,e,_),s(e,t),s(t,r),s(e,o),s(e,a)},d:function(m){m&&p(e)}};return mt("SvelteRegisterBlock",{block:f,id:zu.name,type:"if",source:"(2009:6) {#if trackingCodes.length === 0}",ctx:n}),f}function qu(n){var Et,Bs,us,we,Vt,ar,Ns;let e,t,r,o,a,h=n[123].tracking_code+"",f,v,m,_,C=n[123].status+"",E,I,T=(((Et=n[123].product_details)==null?void 0:Et.type)||"Unknown")+"",O,w,k,D,P,A,M,L,W,Z,X,Ue,Qe,F,re,me,le="Weight:",ge,ce,oe=(((Bs=n[123].product_details)==null?void 0:Bs.weight)||0)+"",he,ye,ie=(((us=n[123].product_details)==null?void 0:us.weightUnit)||"kg")+"",Te,be,ve,Ae,Y="Purity:",Re,pe,at=(((we=n[123].product_details)==null?void 0:we.purity)||0)+"",Be,We,ht=(((Vt=n[123].product_details)==null?void 0:Vt.purityUnit)||"")+"",fe,je,Ee,ke,Kr="Location:",ct,Oe,Nt=(((ar=n[123].current_location)==null?void 0:ar.city)||"Unknown")+"",Ye,Ne,or=(((Ns=n[123].current_location)==null?void 0:Ns.country)||"Unknown")+"",xs,ae,ft;function Je(){return n[43](n[123])}function Ct(){return n[44](n[123])}const Rn={c:function(){e=u("div"),t=u("div"),r=u("div"),o=u("h3"),a=R("Tracking: "),f=R(h),v=y(),m=u("p"),_=R("Status: "),E=R(C),I=R(" | Type: "),O=R(T),w=y(),k=u("div"),D=u("button"),P=H("svg"),A=H("path"),M=R(`
                  Edit`),L=y(),W=u("button"),Z=H("svg"),X=H("path"),Ue=R(`
                  Delete`),Qe=y(),F=u("div"),re=u("div"),me=u("span"),me.textContent=le,ge=y(),ce=u("span"),he=R(oe),ye=y(),Te=R(ie),be=y(),ve=u("div"),Ae=u("span"),Ae.textContent=Y,Re=y(),pe=u("span"),Be=R(at),We=y(),fe=R(ht),je=y(),Ee=u("div"),ke=u("span"),ke.textContent=Kr,ct=y(),Oe=u("span"),Ye=R(Nt),Ne=R(", "),xs=R(or),this.h()},l:function(pt){e=d(pt,"DIV",{class:!0});var Ce=g(e);t=d(Ce,"DIV",{class:!0});var mr=g(t);r=d(mr,"DIV",{});var Vs=g(r);o=d(Vs,"H3",{class:!0});var $e=g(o);a=B($e,"Tracking: "),f=B($e,h),$e.forEach(p),v=b(Vs),m=d(Vs,"P",{class:!0});var Ms=g(m);_=B(Ms,"Status: "),E=B(Ms,C),I=B(Ms," | Type: "),O=B(Ms,T),Ms.forEach(p),Vs.forEach(p),w=b(mr),k=d(mr,"DIV",{class:!0});var Ht=g(k);D=d(Ht,"BUTTON",{class:!0});var Ve=g(D);P=G(Ve,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Xr=g(P);A=G(Xr,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(A).forEach(p),Xr.forEach(p),M=B(Ve,`
                  Edit`),Ve.forEach(p),L=b(Ht),W=d(Ht,"BUTTON",{class:!0});var Zr=g(W);Z=G(Zr,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var et=g(Z);X=G(et,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(X).forEach(p),et.forEach(p),Ue=B(Zr,`
                  Delete`),Zr.forEach(p),Ht.forEach(p),mr.forEach(p),Qe=b(Ce),F=d(Ce,"DIV",{class:!0});var Gt=g(F);re=d(Gt,"DIV",{});var Fs=g(re);me=d(Fs,"SPAN",{class:!0,"data-svelte-h":!0}),S(me)!=="svelte-1n5llf5"&&(me.textContent=le),ge=b(Fs),ce=d(Fs,"SPAN",{class:!0});var yt=g(ce);he=B(yt,oe),ye=b(yt),Te=B(yt,ie),yt.forEach(p),Fs.forEach(p),be=b(Gt),ve=d(Gt,"DIV",{});var Fe=g(ve);Ae=d(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),S(Ae)!=="svelte-cd94gk"&&(Ae.textContent=Y),Re=b(Fe),pe=d(Fe,"SPAN",{class:!0});var Mt=g(pe);Be=B(Mt,at),We=b(Mt),fe=B(Mt,ht),Mt.forEach(p),Fe.forEach(p),je=b(Gt),Ee=d(Gt,"DIV",{});var ze=g(Ee);ke=d(ze,"SPAN",{class:!0,"data-svelte-h":!0}),S(ke)!=="svelte-10zs6ui"&&(ke.textContent=Kr),ct=b(ze),Oe=d(ze,"SPAN",{class:!0});var ds=g(Oe);Ye=B(ds,Nt),Ne=B(ds,", "),xs=B(ds,or),ds.forEach(p),ze.forEach(p),Gt.forEach(p),Ce.forEach(p),this.h()},h:function(){i(o,"class","text-lg font-medium text-gray-900"),l(o,c,2038,16,78770),i(m,"class","text-sm text-gray-600"),l(m,c,2041,16,78908),l(r,c,2037,14,78748),i(A,"stroke-linecap","round"),i(A,"stroke-linejoin","round"),i(A,"stroke-width","2"),i(A,"d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"),l(A,c,2051,20,79406),i(P,"class","w-4 h-4 mr-2"),i(P,"fill","none"),i(P,"stroke","currentColor"),i(P,"viewBox","0 0 24 24"),l(P,c,2050,18,79305),i(D,"class","btn-secondary text-sm"),l(D,c,2046,16,79141),i(X,"stroke-linecap","round"),i(X,"stroke-linejoin","round"),i(X,"stroke-width","2"),i(X,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),l(X,c,2060,20,80029),i(Z,"class","w-4 h-4 mr-2"),i(Z,"fill","none"),i(Z,"stroke","currentColor"),i(Z,"viewBox","0 0 24 24"),l(Z,c,2059,18,79928),i(W,"class","btn-secondary text-sm bg-red-100 text-red-700 hover:bg-red-200 border-red-300"),l(W,c,2055,16,79697),i(k,"class","flex space-x-2"),l(k,c,2045,14,79096),i(t,"class","flex items-center justify-between mb-3"),l(t,c,2036,12,78681),i(me,"class","font-medium text-gray-700"),l(me,c,2069,16,80473),i(ce,"class","ml-2"),l(ce,c,2070,16,80544),l(re,c,2068,14,80451),i(Ae,"class","font-medium text-gray-700"),l(Ae,c,2073,16,80714),i(pe,"class","ml-2"),l(pe,c,2074,16,80785),l(ve,c,2072,14,80692),i(ke,"class","font-medium text-gray-700"),l(ke,c,2077,16,80953),i(Oe,"class","ml-2"),l(Oe,c,2078,16,81026),l(Ee,c,2076,14,80931),i(F,"class","grid grid-cols-1 md:grid-cols-3 gap-4 text-sm"),l(F,c,2067,12,80377),i(e,"class","border border-gray-200 rounded-lg p-4"),l(e,c,2035,10,78617)},m:function(pt,Ce){Ke(pt,e,Ce),s(e,t),s(t,r),s(r,o),s(o,a),s(o,f),s(r,v),s(r,m),s(m,_),s(m,E),s(m,I),s(m,O),s(t,w),s(t,k),s(k,D),s(D,P),s(P,A),s(D,M),s(k,L),s(k,W),s(W,Z),s(Z,X),s(W,Ue),s(e,Qe),s(e,F),s(F,re),s(re,me),s(re,ge),s(re,ce),s(ce,he),s(ce,ye),s(ce,Te),s(F,be),s(F,ve),s(ve,Ae),s(ve,Re),s(ve,pe),s(pe,Be),s(pe,We),s(pe,fe),s(F,je),s(F,Ee),s(Ee,ke),s(Ee,ct),s(Ee,Oe),s(Oe,Ye),s(Oe,Ne),s(Oe,xs),ae||(ft=[N(D,"click",Je,!1,!1,!1,!1),N(W,"click",Ct,!1,!1,!1,!1)],ae=!0)},p:function(pt,Ce){var mr,Vs,$e,Ms,Ht,Ve,Xr;n=pt,Ce[0]&1&&h!==(h=n[123].tracking_code+"")&&de(f,h),Ce[0]&1&&C!==(C=n[123].status+"")&&de(E,C),Ce[0]&1&&T!==(T=(((mr=n[123].product_details)==null?void 0:mr.type)||"Unknown")+"")&&de(O,T),Ce[0]&1&&oe!==(oe=(((Vs=n[123].product_details)==null?void 0:Vs.weight)||0)+"")&&de(he,oe),Ce[0]&1&&ie!==(ie=((($e=n[123].product_details)==null?void 0:$e.weightUnit)||"kg")+"")&&de(Te,ie),Ce[0]&1&&at!==(at=(((Ms=n[123].product_details)==null?void 0:Ms.purity)||0)+"")&&de(Be,at),Ce[0]&1&&ht!==(ht=(((Ht=n[123].product_details)==null?void 0:Ht.purityUnit)||"")+"")&&de(fe,ht),Ce[0]&1&&Nt!==(Nt=(((Ve=n[123].current_location)==null?void 0:Ve.city)||"Unknown")+"")&&de(Ye,Nt),Ce[0]&1&&or!==(or=(((Xr=n[123].current_location)==null?void 0:Xr.country)||"Unknown")+"")&&de(xs,or)},d:function(pt){pt&&p(e),ae=!1,xl(ft)}};return mt("SvelteRegisterBlock",{block:Rn,id:qu.name,type:"each",source:"(2035:8) {#each shipments as shipment}",ctx:n}),Rn}function Hu(n){let e,t,r="No shipments found. Generate tracking codes to create shipments.";const o={c:function(){e=u("div"),t=u("p"),t.textContent=r,this.h()},l:function(h){e=d(h,"DIV",{class:!0});var f=g(e);t=d(f,"P",{"data-svelte-h":!0}),S(t)!=="svelte-1opa7b2"&&(t.textContent=r),f.forEach(p),this.h()},h:function(){l(t,c,2086,12,81328),i(e,"class","text-center py-8 text-gray-500"),l(e,c,2085,10,81271)},m:function(h,f){Ke(h,e,f),s(e,t)},d:function(h){h&&p(e)}};return mt("SvelteRegisterBlock",{block:o,id:Hu.name,type:"if",source:"(2085:8) {#if shipments.length === 0}",ctx:n}),o}function Gu(n){var id,od;let e,t,r,o,a,h=n[9]?"exists":"null",f,v,m,_,C,E,I=((id=n[9])==null?void 0:id.tracking_code)+"",T,O,w,k,D,P,A,M,L,W="Product Type",Z,X,Ue,Qe,F,re="Weight",me,le,ge,ce,oe,he,ye="kg",ie,Te="g",be,ve="oz",Ae,Y,Re,pe="Purity",at,Be,We,ht,fe,je,Ee="999.5",ke,Kr="999",ct,Oe="995",Nt,Ye,Ne,or="Serial Number",xs,ae,ft,Je,Ct,Rn="Description",Et,Bs,us,we,Vt,ar="📍 Origin Information",Ns,Se,pt,Ce,mr="Origin Facility",Vs,$e,Ms,Ht,Ve,Xr="Origin Guardian",Zr,et,Gt,Fs,yt,Fe="Pickup Date",Mt,ze,ds,ui,tt,Ss,Is,Qr="Origin Address",Yr,zs,lr,hs,bt,qs="Origin City",eo,Hs,xt,Gs,Pt,vn="Origin Country",Ui,Ws,Wt,Ts,Js,$r="📍 Origin Location",Ri,$t,gt,yr,fs,ps,_n,Ks,xr="Click on map to set coordinates",di,js,x,j,z,Q=n[11].origin_location.latitude.toFixed(6)+"",J,ne,_e=n[11].origin_location.longitude.toFixed(6)+"",ue,ee,Pe,st,es="📍 Current Location",ts,Xs,ut,Ps,Bn="Current Facility",Sr,Zs,mn,St,Jt,Ft="Current Guardian",te,rt,en,vt,Kt,zt,ia="Current Address",to,nt,_o,cr,Dt,yn="Current City",tn,At,so,ss,Ot,hi="Current Country",gs,it,mo,Qs,Xt,oa="📍 Current Location",ro,dt,bn,vs,qt,Nn,no,It,Bo="Click on map to set coordinates",sn,rs,No,Vr,_s,Ir=n[11].current_location.latitude.toFixed(6)+"",br,Ds,ns=n[11].current_location.longitude.toFixed(6)+"",wn,As,Lt,kn,Tr="🎯 Destination Information",Cn,is,En,ms,yo="Destination Facility",io,wt,fi,xn,Zt,Os="Recipient Name",bo,jr,lt,ot,ur,wo="Recipient Contact",rn,De,ys,qe,bs,kt,Ys="Destination Address",$s,Xe,Ut,Me,Tt,Vo="Destination City",Ze,q,He,$,dr,Mo="Destination Country",Mr,hr,Vn,fr,Sn,nn="📍 Location on Map",wr,Fr,er,Ls,In,Tn,Pr,Mn,Fn="Click on map to set exact coordinates",zn,pr,Bi,Qt,zr,gr,Yn="Latitude:",oo,tr,sr=n[11].destination_location.latitude.toFixed(6)+"",on,rr,ws,Us,ao="Longitude:",an,pi,Ni=n[11].destination_location.longitude.toFixed(6)+"",ln,Vi,ks,Rt,qn="Estimated Delivery",ko,qr,Hn,kr,Cs,gi="🚚 Journey Status & Security",Hr,os,$n,jn,Gn="Journey Status",vi,as,cn,un="Pending",nr,Gr="Pickup",dn,Dr="In Transit",Es,Wn="Customs",Pn,lo="Delayed",_t,vr="Delivered",_i,mi="Returned",Ma,Ar,Mi,yi="Security Level",Fa,hn,Or,Fi="Standard",bi,za="High",ls,wi="Maximum",qa,Lr,zi,ki="Verification Status",Ha,fn,Ur,qi="Pending",Ci,Ga="Verified",cs,Ei="Failed",Wa,ir,co,xi="📊 Live Progress Status",Ja,Si,_r,Rr,uo,Ka="1",Jn,Hi,Tl="Pickup",Cr,Gi,Ii,Ti,Ta,ho,K,xe="In Transit",Xa,Dn,ji,Za,ja,ei,Kn,Pi="Delivered",aa,Wi,Di,la,Ji,ti,Xn,si,Ki,Ai,Qa,ri,ca=n[11].journey_status+"",ua,Co,Er,An,da,ni,Oi,Pa="🗺️ Location Summary",ha,On,Wr,Li,Ya="📍 Origin",Fo,ii,Ln=(n[11].origin_location.address||"Not set")+"",zo,fa,oi,Eo=n[11].origin_location.city+"",qo,pa,Xi=n[11].origin_location.country+"",Ho,Da,pn,Zn,gn="📍 Current",ga,Zi,xo=(n[11].current_location.address||"Not set")+"",Go,va,ai,So=n[11].current_location.city+"",Wo,Io,To=n[11].current_location.country+"",_a,ma,Un,fo,Aa="📍 Destination",$a,Qi,Yi=(n[11].destination_location.address||"Not set")+"",Jo,Ko,li,jo=n[11].destination_location.city+"",Xo,ya,Po=n[11].destination_location.country+"",Oa,eu,Zo,Qo,td="Cancel",tu,po,Bt,su,sd;An=new Ih({props:{trackingCode:((od=n[9])==null?void 0:od.tracking_code)||"",currentImages:n[11].product_details.photos||[]},$$inline:!0}),An.$on("uploadSuccess",n[22]),An.$on("uploadError",n[23]),An.$on("removeImage",n[24]);function rd($o,V){return $o[1]?Lh:Oh}let Fl=rd(n),Yo=Fl(n);const nd={c:function(){e=u("div"),t=u("div"),r=R("Debug: Modal is visible | showEditModal: "),o=R(n[8]),a=R(" | editingShipment: "),f=R(h),v=y(),m=u("div"),_=u("div"),C=u("h3"),E=R("Edit Shipment: "),T=R(I),O=y(),w=u("button"),k=H("svg"),D=H("path"),P=y(),A=u("div"),M=u("div"),L=u("label"),L.textContent=W,Z=y(),X=u("input"),Ue=y(),Qe=u("div"),F=u("label"),F.textContent=re,me=y(),le=u("div"),ge=u("input"),ce=y(),oe=u("select"),he=u("option"),he.textContent=ye,ie=u("option"),ie.textContent=Te,be=u("option"),be.textContent=ve,Ae=y(),Y=u("div"),Re=u("label"),Re.textContent=pe,at=y(),Be=u("div"),We=u("input"),ht=y(),fe=u("select"),je=u("option"),je.textContent=Ee,ke=u("option"),ke.textContent=Kr,ct=u("option"),ct.textContent=Oe,Nt=y(),Ye=u("div"),Ne=u("label"),Ne.textContent=or,xs=y(),ae=u("input"),ft=y(),Je=u("div"),Ct=u("label"),Ct.textContent=Rn,Et=y(),Bs=u("textarea"),us=y(),we=u("div"),Vt=u("h4"),Vt.textContent=ar,Ns=y(),Se=u("div"),pt=u("div"),Ce=u("label"),Ce.textContent=mr,Vs=y(),$e=u("input"),Ms=y(),Ht=u("div"),Ve=u("label"),Ve.textContent=Xr,Zr=y(),et=u("input"),Gt=y(),Fs=u("div"),yt=u("label"),yt.textContent=Fe,Mt=y(),ze=u("input"),ui=y(),tt=u("div"),Ss=u("div"),Is=u("label"),Is.textContent=Qr,Yr=y(),zs=u("input"),lr=y(),hs=u("div"),bt=u("label"),bt.textContent=qs,eo=y(),Hs=u("input"),xt=y(),Gs=u("div"),Pt=u("label"),Pt.textContent=vn,Ui=y(),Ws=u("input"),Wt=y(),Ts=u("div"),Js=u("div"),Js.textContent=$r,Ri=y(),$t=u("div"),gt=u("div"),yr=H("svg"),fs=H("path"),ps=H("path"),_n=y(),Ks=u("span"),Ks.textContent=xr,di=y(),js=u("div"),x=y(),j=u("div"),z=R("Coordinates: "),J=R(Q),ne=R(", "),ue=R(_e),ee=y(),Pe=u("div"),st=u("h4"),st.textContent=es,ts=y(),Xs=u("div"),ut=u("div"),Ps=u("label"),Ps.textContent=Bn,Sr=y(),Zs=u("input"),mn=y(),St=u("div"),Jt=u("label"),Jt.textContent=Ft,te=y(),rt=u("input"),en=y(),vt=u("div"),Kt=u("div"),zt=u("label"),zt.textContent=ia,to=y(),nt=u("input"),_o=y(),cr=u("div"),Dt=u("label"),Dt.textContent=yn,tn=y(),At=u("input"),so=y(),ss=u("div"),Ot=u("label"),Ot.textContent=hi,gs=y(),it=u("input"),mo=y(),Qs=u("div"),Xt=u("div"),Xt.textContent=oa,ro=y(),dt=u("div"),bn=u("div"),vs=H("svg"),qt=H("path"),Nn=H("path"),no=y(),It=u("span"),It.textContent=Bo,sn=y(),rs=u("div"),No=y(),Vr=u("div"),_s=R("Coordinates: "),br=R(Ir),Ds=R(", "),wn=R(ns),As=y(),Lt=u("div"),kn=u("h4"),kn.textContent=Tr,Cn=y(),is=u("div"),En=u("div"),ms=u("label"),ms.textContent=yo,io=y(),wt=u("input"),fi=y(),xn=u("div"),Zt=u("label"),Zt.textContent=Os,bo=y(),jr=u("input"),lt=y(),ot=u("div"),ur=u("label"),ur.textContent=wo,rn=y(),De=u("input"),ys=y(),qe=u("div"),bs=u("div"),kt=u("label"),kt.textContent=Ys,$s=y(),Xe=u("input"),Ut=y(),Me=u("div"),Tt=u("label"),Tt.textContent=Vo,Ze=y(),q=u("input"),He=y(),$=u("div"),dr=u("label"),dr.textContent=Mo,Mr=y(),hr=u("input"),Vn=y(),fr=u("div"),Sn=u("label"),Sn.textContent=nn,wr=y(),Fr=u("div"),er=u("div"),Ls=H("svg"),In=H("path"),Tn=H("path"),Pr=y(),Mn=u("span"),Mn.textContent=Fn,zn=y(),pr=u("div"),Bi=y(),Qt=u("div"),zr=u("div"),gr=u("span"),gr.textContent=Yn,oo=y(),tr=u("span"),on=R(sr),rr=y(),ws=u("div"),Us=u("span"),Us.textContent=ao,an=y(),pi=u("span"),ln=R(Ni),Vi=y(),ks=u("div"),Rt=u("label"),Rt.textContent=qn,ko=y(),qr=u("input"),Hn=y(),kr=u("div"),Cs=u("h4"),Cs.textContent=gi,Hr=y(),os=u("div"),$n=u("div"),jn=u("label"),jn.textContent=Gn,vi=y(),as=u("select"),cn=u("option"),cn.textContent=un,nr=u("option"),nr.textContent=Gr,dn=u("option"),dn.textContent=Dr,Es=u("option"),Es.textContent=Wn,Pn=u("option"),Pn.textContent=lo,_t=u("option"),_t.textContent=vr,_i=u("option"),_i.textContent=mi,Ma=y(),Ar=u("div"),Mi=u("label"),Mi.textContent=yi,Fa=y(),hn=u("select"),Or=u("option"),Or.textContent=Fi,bi=u("option"),bi.textContent=za,ls=u("option"),ls.textContent=wi,qa=y(),Lr=u("div"),zi=u("label"),zi.textContent=ki,Ha=y(),fn=u("select"),Ur=u("option"),Ur.textContent=qi,Ci=u("option"),Ci.textContent=Ga,cs=u("option"),cs.textContent=Ei,Wa=y(),ir=u("div"),co=u("h4"),co.textContent=xi,Ja=y(),Si=u("div"),_r=u("div"),Rr=u("div"),uo=u("div"),uo.textContent=Ka,Jn=y(),Hi=u("span"),Hi.textContent=Tl,Cr=y(),Gi=u("div"),Ii=u("div"),Ti=R("2"),ho=y(),K=u("span"),K.textContent=xe,Xa=y(),Dn=u("div"),ji=u("div"),Za=R("3"),ei=y(),Kn=u("span"),Kn.textContent=Pi,aa=y(),Wi=u("div"),Di=u("div"),la=y(),Ji=u("div"),ti=u("div"),Xn=H("svg"),si=H("path"),Ki=y(),Ai=u("span"),Qa=R("Current Status: "),ri=u("span"),ua=R(ca),Co=y(),Er=u("div"),Vh(An.$$.fragment),da=y(),ni=u("div"),Oi=u("h4"),Oi.textContent=Pa,ha=y(),On=u("div"),Wr=u("div"),Li=u("h5"),Li.textContent=Ya,Fo=y(),ii=u("p"),zo=R(Ln),fa=y(),oi=u("p"),qo=R(Eo),pa=R(", "),Ho=R(Xi),Da=y(),pn=u("div"),Zn=u("h5"),Zn.textContent=gn,ga=y(),Zi=u("p"),Go=R(xo),va=y(),ai=u("p"),Wo=R(So),Io=R(", "),_a=R(To),ma=y(),Un=u("div"),fo=u("h5"),fo.textContent=Aa,$a=y(),Qi=u("p"),Jo=R(Yi),Ko=y(),li=u("p"),Xo=R(jo),ya=R(", "),Oa=R(Po),eu=y(),Zo=u("div"),Qo=u("button"),Qo.textContent=td,tu=y(),po=u("button"),Yo.c(),this.h()},l:function(V){e=d(V,"DIV",{class:!0,style:!0});var se=g(e);t=d(se,"DIV",{class:!0});var ea=g(t);r=B(ea,"Debug: Modal is visible | showEditModal: "),o=B(ea,n[8]),a=B(ea," | editingShipment: "),f=B(ea,h),ea.forEach(p),v=b(se),m=d(se,"DIV",{class:!0});var Rs=g(m);_=d(Rs,"DIV",{class:!0});var La=g(_);C=d(La,"H3",{class:!0});var ru=g(C);E=B(ru,"Edit Shipment: "),T=B(ru,I),ru.forEach(p),O=b(La),w=d(La,"BUTTON",{class:!0});var ad=g(w);k=G(ad,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ld=g(k);D=G(ld,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(D).forEach(p),ld.forEach(p),ad.forEach(p),La.forEach(p),P=b(Rs),A=d(Rs,"DIV",{class:!0});var Do=g(A);M=d(Do,"DIV",{});var zl=g(M);L=d(zl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(L)!=="svelte-1gji4lv"&&(L.textContent=W),Z=b(zl),X=d(zl,"INPUT",{type:!0,id:!0,class:!0}),zl.forEach(p),Ue=b(Do),Qe=d(Do,"DIV",{});var ql=g(Qe);F=d(ql,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(F)!=="svelte-1jtpbuo"&&(F.textContent=re),me=b(ql),le=d(ql,"DIV",{class:!0});var Hl=g(le);ge=d(Hl,"INPUT",{type:!0,id:!0,class:!0}),ce=b(Hl),oe=d(Hl,"SELECT",{class:!0});var Gl=g(oe);he=d(Gl,"OPTION",{"data-svelte-h":!0}),S(he)!=="svelte-1d41abu"&&(he.textContent=ye),ie=d(Gl,"OPTION",{"data-svelte-h":!0}),S(ie)!=="svelte-1x2my8o"&&(ie.textContent=Te),be=d(Gl,"OPTION",{"data-svelte-h":!0}),S(be)!=="svelte-94ymvi"&&(be.textContent=ve),Gl.forEach(p),Hl.forEach(p),ql.forEach(p),Ae=b(Do),Y=d(Do,"DIV",{});var Wl=g(Y);Re=d(Wl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Re)!=="svelte-jebm76"&&(Re.textContent=pe),at=b(Wl),Be=d(Wl,"DIV",{class:!0});var Jl=g(Be);We=d(Jl,"INPUT",{type:!0,id:!0,class:!0}),ht=b(Jl),fe=d(Jl,"SELECT",{class:!0});var Kl=g(fe);je=d(Kl,"OPTION",{"data-svelte-h":!0}),S(je)!=="svelte-10c26de"&&(je.textContent=Ee),ke=d(Kl,"OPTION",{"data-svelte-h":!0}),S(ke)!=="svelte-pfekt4"&&(ke.textContent=Kr),ct=d(Kl,"OPTION",{"data-svelte-h":!0}),S(ct)!=="svelte-1nfb9zs"&&(ct.textContent=Oe),Kl.forEach(p),Jl.forEach(p),Wl.forEach(p),Nt=b(Do),Ye=d(Do,"DIV",{});var Xl=g(Ye);Ne=d(Xl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ne)!=="svelte-es5xk5"&&(Ne.textContent=or),xs=b(Xl),ae=d(Xl,"INPUT",{type:!0,id:!0,class:!0}),Xl.forEach(p),ft=b(Do),Je=d(Do,"DIV",{});var Zl=g(Je);Ct=d(Zl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ct)!=="svelte-1iakami"&&(Ct.textContent=Rn),Et=b(Zl),Bs=d(Zl,"TEXTAREA",{id:!0,class:!0}),g(Bs).forEach(p),Zl.forEach(p),Do.forEach(p),us=b(Rs),we=d(Rs,"DIV",{class:!0});var ba=g(we);Vt=d(ba,"H4",{class:!0,"data-svelte-h":!0}),S(Vt)!=="svelte-1jzzvo1"&&(Vt.textContent=ar),Ns=b(ba),Se=d(ba,"DIV",{class:!0});var el=g(Se);pt=d(el,"DIV",{});var Ql=g(pt);Ce=d(Ql,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ce)!=="svelte-ffeud1"&&(Ce.textContent=mr),Vs=b(Ql),$e=d(Ql,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Ql.forEach(p),Ms=b(el),Ht=d(el,"DIV",{});var Yl=g(Ht);Ve=d(Yl,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ve)!=="svelte-1wd091x"&&(Ve.textContent=Xr),Zr=b(Yl),et=d(Yl,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Yl.forEach(p),Gt=b(el),Fs=d(el,"DIV",{});var $l=g(Fs);yt=d($l,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(yt)!=="svelte-hc1bsl"&&(yt.textContent=Fe),Mt=b($l),ze=d($l,"INPUT",{type:!0,id:!0,class:!0}),$l.forEach(p),el.forEach(p),ui=b(ba),tt=d(ba,"DIV",{class:!0});var tl=g(tt);Ss=d(tl,"DIV",{});var ec=g(Ss);Is=d(ec,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Is)!=="svelte-10b93w7"&&(Is.textContent=Qr),Yr=b(ec),zs=d(ec,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ec.forEach(p),lr=b(tl),hs=d(tl,"DIV",{});var tc=g(hs);bt=d(tc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(bt)!=="svelte-sduer9"&&(bt.textContent=qs),eo=b(tc),Hs=d(tc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),tc.forEach(p),xt=b(tl),Gs=d(tl,"DIV",{});var sc=g(Gs);Pt=d(sc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Pt)!=="svelte-24chmf"&&(Pt.textContent=vn),Ui=b(sc),Ws=d(sc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),sc.forEach(p),tl.forEach(p),Wt=b(ba),Ts=d(ba,"DIV",{class:!0});var rc=g(Ts);Js=d(rc,"DIV",{class:!0,"data-svelte-h":!0}),S(Js)!=="svelte-1gds5cv"&&(Js.textContent=$r),Ri=b(rc),$t=d(rc,"DIV",{class:!0});var sl=g($t);gt=d(sl,"DIV",{class:!0});var nc=g(gt);yr=G(nc,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var nu=g(yr);fs=G(nu,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(fs).forEach(p),ps=G(nu,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ps).forEach(p),nu.forEach(p),_n=b(nc),Ks=d(nc,"SPAN",{class:!0,"data-svelte-h":!0}),S(Ks)!=="svelte-i6pg4t"&&(Ks.textContent=xr),nc.forEach(p),di=b(sl),js=d(sl,"DIV",{id:!0,class:!0}),g(js).forEach(p),x=b(sl),j=d(sl,"DIV",{class:!0});var jl=g(j);z=B(jl,"Coordinates: "),J=B(jl,Q),ne=B(jl,", "),ue=B(jl,_e),jl.forEach(p),sl.forEach(p),rc.forEach(p),ba.forEach(p),ee=b(Rs),Pe=d(Rs,"DIV",{class:!0});var wa=g(Pe);st=d(wa,"H4",{class:!0,"data-svelte-h":!0}),S(st)!=="svelte-19gi6ix"&&(st.textContent=es),ts=b(wa),Xs=d(wa,"DIV",{class:!0});var ic=g(Xs);ut=d(ic,"DIV",{});var oc=g(ut);Ps=d(oc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ps)!=="svelte-14xcmtt"&&(Ps.textContent=Bn),Sr=b(oc),Zs=d(oc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),oc.forEach(p),mn=b(ic),St=d(ic,"DIV",{});var ac=g(St);Jt=d(ac,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Jt)!=="svelte-1mtnz9"&&(Jt.textContent=Ft),te=b(ac),rt=d(ac,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),ac.forEach(p),ic.forEach(p),en=b(wa),vt=d(wa,"DIV",{class:!0});var rl=g(vt);Kt=d(rl,"DIV",{});var lc=g(Kt);zt=d(lc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(zt)!=="svelte-1kdlczz"&&(zt.textContent=ia),to=b(lc),nt=d(lc,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),lc.forEach(p),_o=b(rl),cr=d(rl,"DIV",{});var cc=g(cr);Dt=d(cc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Dt)!=="svelte-s1kai5"&&(Dt.textContent=yn),tn=b(cc),At=d(cc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),cc.forEach(p),so=b(rl),ss=d(rl,"DIV",{});var uc=g(ss);Ot=d(uc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Ot)!=="svelte-1k1tutb"&&(Ot.textContent=hi),gs=b(uc),it=d(uc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),uc.forEach(p),rl.forEach(p),mo=b(wa),Qs=d(wa,"DIV",{class:!0});var dc=g(Qs);Xt=d(dc,"DIV",{class:!0,"data-svelte-h":!0}),S(Xt)!=="svelte-1m97su0"&&(Xt.textContent=oa),ro=b(dc),dt=d(dc,"DIV",{class:!0});var nl=g(dt);bn=d(nl,"DIV",{class:!0});var hc=g(bn);vs=G(hc,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var iu=g(vs);qt=G(iu,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(qt).forEach(p),Nn=G(iu,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Nn).forEach(p),iu.forEach(p),no=b(hc),It=d(hc,"SPAN",{class:!0,"data-svelte-h":!0}),S(It)!=="svelte-i6pg4t"&&(It.textContent=Bo),hc.forEach(p),sn=b(nl),rs=d(nl,"DIV",{id:!0,class:!0}),g(rs).forEach(p),No=b(nl),Vr=d(nl,"DIV",{class:!0});var Pl=g(Vr);_s=B(Pl,"Coordinates: "),br=B(Pl,Ir),Ds=B(Pl,", "),wn=B(Pl,ns),Pl.forEach(p),nl.forEach(p),dc.forEach(p),wa.forEach(p),As=b(Rs),Lt=d(Rs,"DIV",{class:!0});var Ao=g(Lt);kn=d(Ao,"H4",{class:!0,"data-svelte-h":!0}),S(kn)!=="svelte-gm629m"&&(kn.textContent=Tr),Cn=b(Ao),is=d(Ao,"DIV",{class:!0});var il=g(is);En=d(il,"DIV",{});var fc=g(En);ms=d(fc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(ms)!=="svelte-wdoxy3"&&(ms.textContent=yo),io=b(fc),wt=d(fc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),fc.forEach(p),fi=b(il),xn=d(il,"DIV",{});var pc=g(xn);Zt=d(pc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Zt)!=="svelte-1satwdh"&&(Zt.textContent=Os),bo=b(pc),jr=d(pc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),pc.forEach(p),lt=b(il),ot=d(il,"DIV",{});var gc=g(ot);ur=d(gc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(ur)!=="svelte-p2uzu3"&&(ur.textContent=wo),rn=b(gc),De=d(gc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),gc.forEach(p),il.forEach(p),ys=b(Ao),qe=d(Ao,"DIV",{class:!0});var ol=g(qe);bs=d(ol,"DIV",{});var vc=g(bs);kt=d(vc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(kt)!=="svelte-y5c4cn"&&(kt.textContent=Ys),$s=b(vc),Xe=d(vc,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),vc.forEach(p),Ut=b(ol),Me=d(ol,"DIV",{});var _c=g(Me);Tt=d(_c,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Tt)!=="svelte-190kf0n"&&(Tt.textContent=Vo),Ze=b(_c),q=d(_c,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),_c.forEach(p),He=b(ol),$=d(ol,"DIV",{});var mc=g($);dr=d(mc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(dr)!=="svelte-7qvd4v"&&(dr.textContent=Mo),Mr=b(mc),hr=d(mc,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),mc.forEach(p),ol.forEach(p),Vn=b(Ao),fr=d(Ao,"DIV",{class:!0});var yc=g(fr);Sn=d(yc,"LABEL",{class:!0,"data-svelte-h":!0}),S(Sn)!=="svelte-1llnk7e"&&(Sn.textContent=nn),wr=b(yc),Fr=d(yc,"DIV",{class:!0});var al=g(Fr);er=d(al,"DIV",{class:!0});var bc=g(er);Ls=G(bc,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ou=g(Ls);In=G(ou,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(In).forEach(p),Tn=G(ou,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Tn).forEach(p),ou.forEach(p),Pr=b(bc),Mn=d(bc,"SPAN",{class:!0,"data-svelte-h":!0}),S(Mn)!=="svelte-rcmkjx"&&(Mn.textContent=Fn),bc.forEach(p),zn=b(al),pr=d(al,"DIV",{id:!0,class:!0}),g(pr).forEach(p),Bi=b(al),Qt=d(al,"DIV",{class:!0});var wc=g(Qt);zr=d(wc,"DIV",{class:!0});var kc=g(zr);gr=d(kc,"SPAN",{class:!0,"data-svelte-h":!0}),S(gr)!=="svelte-amod1d"&&(gr.textContent=Yn),oo=b(kc),tr=d(kc,"SPAN",{class:!0});var cd=g(tr);on=B(cd,sr),cd.forEach(p),kc.forEach(p),rr=b(wc),ws=d(wc,"DIV",{class:!0});var Cc=g(ws);Us=d(Cc,"SPAN",{class:!0,"data-svelte-h":!0}),S(Us)!=="svelte-1uus2by"&&(Us.textContent=ao),an=b(Cc),pi=d(Cc,"SPAN",{class:!0});var ud=g(pi);ln=B(ud,Ni),ud.forEach(p),Cc.forEach(p),wc.forEach(p),al.forEach(p),yc.forEach(p),Vi=b(Ao),ks=d(Ao,"DIV",{class:!0});var Ec=g(ks);Rt=d(Ec,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Rt)!=="svelte-bvrz7x"&&(Rt.textContent=qn),ko=b(Ec),qr=d(Ec,"INPUT",{type:!0,id:!0,class:!0}),Ec.forEach(p),Ao.forEach(p),Hn=b(Rs),kr=d(Rs,"DIV",{class:!0});var xc=g(kr);Cs=d(xc,"H4",{class:!0,"data-svelte-h":!0}),S(Cs)!=="svelte-1b210ww"&&(Cs.textContent=gi),Hr=b(xc),os=d(xc,"DIV",{class:!0});var ll=g(os);$n=d(ll,"DIV",{});var Sc=g($n);jn=d(Sc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(jn)!=="svelte-lezt31"&&(jn.textContent=Gn),vi=b(Sc),as=d(Sc,"SELECT",{class:!0});var ka=g(as);cn=d(ka,"OPTION",{"data-svelte-h":!0}),S(cn)!=="svelte-mygx0s"&&(cn.textContent=un),nr=d(ka,"OPTION",{"data-svelte-h":!0}),S(nr)!=="svelte-p99phy"&&(nr.textContent=Gr),dn=d(ka,"OPTION",{"data-svelte-h":!0}),S(dn)!=="svelte-zky3eh"&&(dn.textContent=Dr),Es=d(ka,"OPTION",{"data-svelte-h":!0}),S(Es)!=="svelte-12ik69i"&&(Es.textContent=Wn),Pn=d(ka,"OPTION",{"data-svelte-h":!0}),S(Pn)!=="svelte-39bkku"&&(Pn.textContent=lo),_t=d(ka,"OPTION",{"data-svelte-h":!0}),S(_t)!=="svelte-462xjy"&&(_t.textContent=vr),_i=d(ka,"OPTION",{"data-svelte-h":!0}),S(_i)!=="svelte-1i9az7q"&&(_i.textContent=mi),ka.forEach(p),Sc.forEach(p),Ma=b(ll),Ar=d(ll,"DIV",{});var Ic=g(Ar);Mi=d(Ic,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Mi)!=="svelte-11s8l1f"&&(Mi.textContent=yi),Fa=b(Ic),hn=d(Ic,"SELECT",{class:!0});var Tc=g(hn);Or=d(Tc,"OPTION",{"data-svelte-h":!0}),S(Or)!=="svelte-5niz6y"&&(Or.textContent=Fi),bi=d(Tc,"OPTION",{"data-svelte-h":!0}),S(bi)!=="svelte-poeh2m"&&(bi.textContent=za),ls=d(Tc,"OPTION",{"data-svelte-h":!0}),S(ls)!=="svelte-115v5v2"&&(ls.textContent=wi),Tc.forEach(p),Ic.forEach(p),qa=b(ll),Lr=d(ll,"DIV",{});var jc=g(Lr);zi=d(jc,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(zi)!=="svelte-1drf911"&&(zi.textContent=ki),Ha=b(jc),fn=d(jc,"SELECT",{class:!0});var Pc=g(fn);Ur=d(Pc,"OPTION",{"data-svelte-h":!0}),S(Ur)!=="svelte-mygx0s"&&(Ur.textContent=qi),Ci=d(Pc,"OPTION",{"data-svelte-h":!0}),S(Ci)!=="svelte-m3d7u6"&&(Ci.textContent=Ga),cs=d(Pc,"OPTION",{"data-svelte-h":!0}),S(cs)!=="svelte-195wuom"&&(cs.textContent=Ei),Pc.forEach(p),jc.forEach(p),ll.forEach(p),xc.forEach(p),Wa=b(Rs),ir=d(Rs,"DIV",{class:!0});var cl=g(ir);co=d(cl,"H4",{class:!0,"data-svelte-h":!0}),S(co)!=="svelte-1jj3guj"&&(co.textContent=xi),Ja=b(cl),Si=d(cl,"DIV",{class:!0});var Dc=g(Si);_r=d(Dc,"DIV",{class:!0});var ul=g(_r);Rr=d(ul,"DIV",{class:!0});var Ac=g(Rr);uo=d(Ac,"DIV",{class:!0,"data-svelte-h":!0}),S(uo)!=="svelte-18aka48"&&(uo.textContent=Ka),Jn=b(Ac),Hi=d(Ac,"SPAN",{class:!0,"data-svelte-h":!0}),S(Hi)!=="svelte-n8g0rc"&&(Hi.textContent=Tl),Ac.forEach(p),Cr=b(ul),Gi=d(ul,"DIV",{class:!0});var Oc=g(Gi);Ii=d(Oc,"DIV",{class:!0});var dd=g(Ii);Ti=B(dd,"2"),dd.forEach(p),ho=b(Oc),K=d(Oc,"SPAN",{class:!0,"data-svelte-h":!0}),S(K)!=="svelte-1yn4izs"&&(K.textContent=xe),Oc.forEach(p),Xa=b(ul),Dn=d(ul,"DIV",{class:!0});var Lc=g(Dn);ji=d(Lc,"DIV",{class:!0});var hd=g(ji);Za=B(hd,"3"),hd.forEach(p),ei=b(Lc),Kn=d(Lc,"SPAN",{class:!0,"data-svelte-h":!0}),S(Kn)!=="svelte-scs7hw"&&(Kn.textContent=Pi),Lc.forEach(p),ul.forEach(p),aa=b(Dc),Wi=d(Dc,"DIV",{class:!0});var fd=g(Wi);Di=d(fd,"DIV",{class:!0,style:!0}),g(Di).forEach(p),fd.forEach(p),Dc.forEach(p),la=b(cl),Ji=d(cl,"DIV",{class:!0});var pd=g(Ji);ti=d(pd,"DIV",{class:!0});var Uc=g(ti);Xn=G(Uc,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var gd=g(Xn);si=G(gd,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(si).forEach(p),gd.forEach(p),Ki=b(Uc),Ai=d(Uc,"SPAN",{class:!0});var au=g(Ai);Qa=B(au,"Current Status: "),ri=d(au,"SPAN",{class:!0});var vd=g(ri);ua=B(vd,ca),vd.forEach(p),au.forEach(p),Uc.forEach(p),pd.forEach(p),cl.forEach(p),Co=b(Rs),Er=d(Rs,"DIV",{class:!0});var _d=g(Er);Mh(An.$$.fragment,_d),_d.forEach(p),da=b(Rs),ni=d(Rs,"DIV",{class:!0});var Rc=g(ni);Oi=d(Rc,"H4",{class:!0,"data-svelte-h":!0}),S(Oi)!=="svelte-f5jv9e"&&(Oi.textContent=Pa),ha=b(Rc),On=d(Rc,"DIV",{class:!0});var dl=g(On);Wr=d(dl,"DIV",{class:!0});var hl=g(Wr);Li=d(hl,"H5",{class:!0,"data-svelte-h":!0}),S(Li)!=="svelte-1nzjhr1"&&(Li.textContent=Ya),Fo=b(hl),ii=d(hl,"P",{class:!0});var md=g(ii);zo=B(md,Ln),md.forEach(p),fa=b(hl),oi=d(hl,"P",{class:!0});var Bc=g(oi);qo=B(Bc,Eo),pa=B(Bc,", "),Ho=B(Bc,Xi),Bc.forEach(p),hl.forEach(p),Da=b(dl),pn=d(dl,"DIV",{class:!0});var fl=g(pn);Zn=d(fl,"H5",{class:!0,"data-svelte-h":!0}),S(Zn)!=="svelte-1yzjble"&&(Zn.textContent=gn),ga=b(fl),Zi=d(fl,"P",{class:!0});var yd=g(Zi);Go=B(yd,xo),yd.forEach(p),va=b(fl),ai=d(fl,"P",{class:!0});var Nc=g(ai);Wo=B(Nc,So),Io=B(Nc,", "),_a=B(Nc,To),Nc.forEach(p),fl.forEach(p),ma=b(dl),Un=d(dl,"DIV",{class:!0});var pl=g(Un);fo=d(pl,"H5",{class:!0,"data-svelte-h":!0}),S(fo)!=="svelte-16niar8"&&(fo.textContent=Aa),$a=b(pl),Qi=d(pl,"P",{class:!0});var bd=g(Qi);Jo=B(bd,Yi),bd.forEach(p),Ko=b(pl),li=d(pl,"P",{class:!0});var Vc=g(li);Xo=B(Vc,jo),ya=B(Vc,", "),Oa=B(Vc,Po),Vc.forEach(p),pl.forEach(p),dl.forEach(p),Rc.forEach(p),eu=b(Rs),Zo=d(Rs,"DIV",{class:!0});var Mc=g(Zo);Qo=d(Mc,"BUTTON",{class:!0,"data-svelte-h":!0}),S(Qo)!=="svelte-fw6nip"&&(Qo.textContent=td),tu=b(Mc),po=d(Mc,"BUTTON",{class:!0});var wd=g(po);Yo.l(wd),wd.forEach(p),Mc.forEach(p),Rs.forEach(p),se.forEach(p),this.h()},h:function(){i(t,"class","absolute top-4 left-4 bg-red-500 text-white p-2 rounded text-xs"),l(t,c,2097,6,81700),i(C,"class","text-lg font-semibold text-gray-900"),l(C,c,2102,10,82060),i(D,"stroke-linecap","round"),i(D,"stroke-linejoin","round"),i(D,"stroke-width","2"),i(D,"d","M6 18L18 6M6 6l12 12"),l(D,c,2105,14,82350),i(k,"class","w-5 h-5"),i(k,"fill","none"),i(k,"stroke","currentColor"),i(k,"viewBox","0 0 24 24"),l(k,c,2104,12,82260),i(w,"class","text-gray-500 hover:text-gray-700"),l(w,c,2103,10,82171),i(_,"class","flex justify-between items-center mb-4"),l(_,c,2101,8,81997),i(L,"for","edit-product-type"),i(L,"class","block text-sm font-medium text-gray-700 mb-1"),l(L,c,2112,12,82601),i(X,"type","text"),i(X,"id","edit-product-type"),i(X,"class","input-field"),l(X,c,2113,12,82718),l(M,c,2111,10,82583),i(F,"for","edit-weight"),i(F,"class","block text-sm font-medium text-gray-700 mb-1"),l(F,c,2121,12,82939),i(ge,"type","number"),i(ge,"id","edit-weight"),i(ge,"class","flex-1 input-field"),l(ge,c,2123,14,83087),he.__value="kg",U(he,he.__value),l(he,c,2133,16,83433),ie.__value="g",U(ie,ie.__value),l(ie,c,2134,16,83480),be.__value="oz",U(be,be.__value),l(be,c,2135,16,83525),i(oe,"class","input-field"),n[11].product_details.weightUnit===void 0&&na(()=>n[47].call(oe)),l(oe,c,2129,14,83292),i(le,"class","flex space-x-2"),l(le,c,2122,12,83044),l(Qe,c,2120,10,82921),i(Re,"for","edit-purity"),i(Re,"class","block text-sm font-medium text-gray-700 mb-1"),l(Re,c,2140,12,83644),i(We,"type","number"),i(We,"id","edit-purity"),i(We,"class","flex-1 input-field"),l(We,c,2142,14,83792),je.__value="999.5",U(je,je.__value),l(je,c,2152,16,84138),ke.__value="999",U(ke,ke.__value),l(ke,c,2153,16,84191),ct.__value="995",U(ct,ct.__value),l(ct,c,2154,16,84240),i(fe,"class","input-field"),n[11].product_details.purityUnit===void 0&&na(()=>n[49].call(fe)),l(fe,c,2148,14,83997),i(Be,"class","flex space-x-2"),l(Be,c,2141,12,83749),l(Y,c,2139,10,83626),i(Ne,"for","edit-serial-number"),i(Ne,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ne,c,2159,12,84361),i(ae,"type","text"),i(ae,"id","edit-serial-number"),i(ae,"class","input-field"),l(ae,c,2160,12,84480),l(Ye,c,2158,10,84343),i(Ct,"for","edit-description"),i(Ct,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ct,c,2168,12,84710),i(Bs,"id","edit-description"),i(Bs,"class","input-field"),l(Bs,c,2169,12,84825),l(Je,c,2167,10,84692),i(A,"class","grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"),l(A,c,2110,8,82516),i(Vt,"class","text-lg font-medium text-gray-900 mb-3"),l(Vt,c,2179,10,85130),i(Ce,"for","edit-origin-facility"),i(Ce,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ce,c,2182,14,85302),i($e,"type","text"),i($e,"id","edit-origin-facility"),i($e,"class","input-field"),i($e,"placeholder","e.g., London Precious Metals Vault"),l($e,c,2183,14,85427),l(pt,c,2181,12,85282),i(Ve,"for","edit-origin-guardian"),i(Ve,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ve,c,2192,14,85727),i(et,"type","text"),i(et,"id","edit-origin-guardian"),i(et,"class","input-field"),i(et,"placeholder","e.g., John Smith - Senior Vault Manager"),l(et,c,2193,14,85852),l(Ht,c,2191,12,85707),i(yt,"for","edit-pickup-date"),i(yt,"class","block text-sm font-medium text-gray-700 mb-1"),l(yt,c,2202,14,86157),i(ze,"type","datetime-local"),i(ze,"id","edit-pickup-date"),ze.value=ds=n[11].pickup_date?n[11].pickup_date.slice(0,16):"",i(ze,"class","input-field"),l(ze,c,2203,14,86274),l(Fs,c,2201,12,86137),i(Se,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(Se,c,2180,10,85218),i(Is,"for","edit-origin-address"),i(Is,"class","block text-sm font-medium text-gray-700 mb-1"),l(Is,c,2215,14,86762),i(zs,"type","text"),i(zs,"id","edit-origin-address"),i(zs,"placeholder","Enter address to auto-find coordinates"),i(zs,"class","input-field"),l(zs,c,2216,14,86885),l(Ss,c,2214,12,86742),i(bt,"for","edit-origin-city"),i(bt,"class","block text-sm font-medium text-gray-700 mb-1"),l(bt,c,2226,14,87254),i(Hs,"type","text"),i(Hs,"id","edit-origin-city"),i(Hs,"class","input-field"),i(Hs,"placeholder","e.g., London"),l(Hs,c,2227,14,87371),l(hs,c,2225,12,87234),i(Pt,"for","edit-origin-country"),i(Pt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Pt,c,2236,14,87650),i(Ws,"type","text"),i(Ws,"id","edit-origin-country"),i(Ws,"class","input-field"),i(Ws,"placeholder","e.g., United Kingdom"),l(Ws,c,2237,14,87773),l(Gs,c,2235,12,87630),i(tt,"class","grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"),l(tt,c,2213,10,86673),i(Js,"class","block text-sm font-medium text-gray-700 mb-2"),l(Js,c,2249,12,88142),i(fs,"stroke-linecap","round"),i(fs,"stroke-linejoin","round"),i(fs,"stroke-width","2"),i(fs,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(fs,c,2253,18,88485),i(ps,"stroke-linecap","round"),i(ps,"stroke-linejoin","round"),i(ps,"stroke-width","2"),i(ps,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(ps,c,2254,18,88668),i(yr,"class","w-4 h-4 text-blue-600"),i(yr,"fill","none"),i(yr,"stroke","currentColor"),i(yr,"viewBox","0 0 24 24"),l(yr,c,2252,16,88377),i(Ks,"class","text-xs text-gray-600"),l(Ks,c,2256,16,88822),i(gt,"class","flex items-center space-x-2 mb-2"),l(gt,c,2251,14,88314),i(js,"id","origin-map"),i(js,"class","w-full h-32 bg-gray-200 rounded border-2 border-dashed border-gray-300"),l(js,c,2258,14,88932),i(j,"class","mt-2 text-xs text-gray-600"),l(j,c,2259,14,89053),i($t,"class","bg-gray-50 border border-gray-200 rounded-lg p-3"),l($t,c,2250,12,88237),i(Ts,"class","mt-4"),l(Ts,c,2248,10,88111),i(we,"class","border-t border-gray-200 pt-4 mb-4"),l(we,c,2178,8,85071),i(st,"class","text-lg font-medium text-gray-900 mb-3"),l(st,c,2268,10,89393),i(Ps,"for","edit-current-facility"),i(Ps,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ps,c,2271,14,89563),i(Zs,"type","text"),i(Zs,"id","edit-current-facility"),i(Zs,"class","input-field"),i(Zs,"placeholder","e.g., Frankfurt Airport Cargo Terminal"),l(Zs,c,2272,14,89690),l(ut,c,2270,12,89543),i(Jt,"for","edit-current-guardian"),i(Jt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Jt,c,2281,14,89996),i(rt,"type","text"),i(rt,"id","edit-current-guardian"),i(rt,"class","input-field"),i(rt,"placeholder","e.g., Maria Schmidt - Cargo Security"),l(rt,c,2282,14,90123),l(St,c,2280,12,89976),i(Xs,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(Xs,c,2269,10,89479),i(zt,"for","edit-current-address"),i(zt,"class","block text-sm font-medium text-gray-700 mb-1"),l(zt,c,2294,14,90522),i(nt,"type","text"),i(nt,"id","edit-current-address"),i(nt,"placeholder","Enter address to auto-find coordinates"),i(nt,"class","input-field"),l(nt,c,2295,14,90647),l(Kt,c,2293,12,90502),i(Dt,"for","edit-current-city"),i(Dt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Dt,c,2305,14,91019),i(At,"type","text"),i(At,"id","edit-current-city"),i(At,"class","input-field"),i(At,"placeholder","e.g., Frankfurt"),l(At,c,2306,14,91138),l(cr,c,2304,12,90999),i(Ot,"for","edit-current-country"),i(Ot,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ot,c,2315,14,91422),i(it,"type","text"),i(it,"id","edit-current-country"),i(it,"class","input-field"),i(it,"placeholder","e.g., Germany"),l(it,c,2316,14,91547),l(ss,c,2314,12,91402),i(vt,"class","grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"),l(vt,c,2292,10,90433),i(Xt,"class","block text-sm font-medium text-gray-700 mb-2"),l(Xt,c,2328,12,91912),i(qt,"stroke-linecap","round"),i(qt,"stroke-linejoin","round"),i(qt,"stroke-width","2"),i(qt,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(qt,c,2332,18,92256),i(Nn,"stroke-linecap","round"),i(Nn,"stroke-linejoin","round"),i(Nn,"stroke-width","2"),i(Nn,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(Nn,c,2333,18,92439),i(vs,"class","w-4 h-4 text-blue-600"),i(vs,"fill","none"),i(vs,"stroke","currentColor"),i(vs,"viewBox","0 0 24 24"),l(vs,c,2331,16,92148),i(It,"class","text-xs text-gray-600"),l(It,c,2335,16,92593),i(bn,"class","flex items-center space-x-2 mb-2"),l(bn,c,2330,14,92085),i(rs,"id","current-map"),i(rs,"class","w-full h-32 bg-gray-200 rounded border-2 border-dashed border-gray-300"),l(rs,c,2337,14,92703),i(Vr,"class","mt-2 text-xs text-gray-600"),l(Vr,c,2338,14,92825),i(dt,"class","bg-gray-50 border border-gray-200 rounded-lg p-3"),l(dt,c,2329,12,92008),i(Qs,"class","mt-4"),l(Qs,c,2327,10,91881),i(Pe,"class","border-t border-gray-200 pt-4 mb-4"),l(Pe,c,2267,8,89334),i(kn,"class","text-lg font-medium text-gray-900 mb-3"),l(kn,c,2347,10,93174),i(ms,"for","edit-dest-facility"),i(ms,"class","block text-sm font-medium text-gray-700 mb-1"),l(ms,c,2351,14,93362),i(wt,"type","text"),i(wt,"id","edit-dest-facility"),i(wt,"class","input-field"),i(wt,"placeholder","e.g., Zurich Gold Vault"),l(wt,c,2352,14,93490),l(En,c,2350,12,93342),i(Zt,"for","edit-recipient-name"),i(Zt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Zt,c,2361,14,93782),i(jr,"type","text"),i(jr,"id","edit-recipient-name"),i(jr,"class","input-field"),i(jr,"placeholder","e.g., Swiss Bank Corp"),l(jr,c,2362,14,93905),l(xn,c,2360,12,93762),i(ur,"for","edit-recipient-contact"),i(ur,"class","block text-sm font-medium text-gray-700 mb-1"),l(ur,c,2371,14,94190),i(De,"type","text"),i(De,"id","edit-recipient-contact"),i(De,"class","input-field"),i(De,"placeholder","e.g., +41 44 123 4567"),l(De,c,2372,14,94319),l(ot,c,2370,12,94170),i(is,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),l(is,c,2349,10,93278),i(kt,"for","edit-dest-address"),i(kt,"class","block text-sm font-medium text-gray-700 mb-1"),l(kt,c,2384,14,94705),i(Xe,"type","text"),i(Xe,"id","edit-dest-address"),i(Xe,"placeholder","Enter address to auto-find coordinates"),i(Xe,"class","input-field"),l(Xe,c,2385,14,94831),l(bs,c,2383,12,94685),i(Tt,"for","edit-dest-city"),i(Tt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Tt,c,2395,14,95208),i(q,"type","text"),i(q,"id","edit-dest-city"),i(q,"class","input-field"),i(q,"placeholder","e.g., Zurich"),l(q,c,2396,14,95328),l(Me,c,2394,12,95188),i(dr,"for","edit-dest-country"),i(dr,"class","block text-sm font-medium text-gray-700 mb-1"),l(dr,c,2405,14,95610),i(hr,"type","text"),i(hr,"id","edit-dest-country"),i(hr,"class","input-field"),i(hr,"placeholder","e.g., Switzerland"),l(hr,c,2406,14,95736),l($,c,2404,12,95590),i(qe,"class","grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"),l(qe,c,2382,10,94616),i(Sn,"class","block text-sm font-medium text-gray-700 mb-2"),l(Sn,c,2418,12,96097),i(In,"stroke-linecap","round"),i(In,"stroke-linejoin","round"),i(In,"stroke-width","2"),i(In,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(In,c,2422,18,96444),i(Tn,"stroke-linecap","round"),i(Tn,"stroke-linejoin","round"),i(Tn,"stroke-width","2"),i(Tn,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(Tn,c,2423,18,96627),i(Ls,"class","w-5 h-5 text-blue-600"),i(Ls,"fill","none"),i(Ls,"stroke","currentColor"),i(Ls,"viewBox","0 0 24 24"),l(Ls,c,2421,16,96336),i(Mn,"class","text-sm text-gray-600"),l(Mn,c,2425,16,96781),i(er,"class","flex items-center space-x-2 mb-3"),l(er,c,2420,14,96273),i(pr,"id","destination-map"),i(pr,"class","w-full h-48 bg-gray-200 rounded-lg border-2 border-dashed border-gray-300"),l(pr,c,2429,14,96949),i(gr,"class","font-medium text-gray-700"),l(gr,c,2434,18,97267),i(tr,"class","text-blue-600 font-mono"),l(tr,c,2435,18,97343),i(zr,"class","bg-white px-3 py-2 rounded border"),l(zr,c,2433,16,97201),i(Us,"class","font-medium text-gray-700"),l(Us,c,2438,18,97545),i(pi,"class","text-blue-600 font-mono"),l(pi,c,2439,18,97622),i(ws,"class","bg-white px-3 py-2 rounded border"),l(ws,c,2437,16,97479),i(Qt,"class","mt-3 grid grid-cols-2 gap-4 text-sm"),l(Qt,c,2432,14,97135),i(Fr,"class","bg-gray-50 border border-gray-200 rounded-lg p-4"),l(Fr,c,2419,12,96196),i(fr,"class","mt-4"),l(fr,c,2417,10,96066),i(Rt,"for","edit-estimated-delivery"),i(Rt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Rt,c,2446,12,97852),i(qr,"type","date"),i(qr,"id","edit-estimated-delivery"),i(qr,"class","input-field"),l(qr,c,2447,12,97981),i(ks,"class","mt-3"),l(ks,c,2445,10,97821),i(Lt,"class","border-t border-gray-200 pt-4 mb-4"),l(Lt,c,2346,8,93115),i(Cs,"class","text-lg font-medium text-gray-900 mb-3"),l(Cs,c,2458,10,98304),i(jn,"for","edit-journey-status"),i(jn,"class","block text-sm font-medium text-gray-700 mb-1"),l(jn,c,2461,14,98483),cn.__value="pending",U(cn,cn.__value),l(cn,c,2466,16,98735),nr.__value="pickup",U(nr,nr.__value),l(nr,c,2467,16,98792),dn.__value="in-transit",U(dn,dn.__value),l(dn,c,2468,16,98847),Es.__value="customs",U(Es,Es.__value),l(Es,c,2469,16,98910),Pn.__value="delayed",U(Pn,Pn.__value),l(Pn,c,2470,16,98967),_t.__value="delivered",U(_t,_t.__value),l(_t,c,2471,16,99024),_i.__value="returned",U(_i,_i.__value),l(_i,c,2472,16,99085),i(as,"class","input-field"),n[11].journey_status===void 0&&na(()=>n[73].call(as)),l(as,c,2462,14,98606),l($n,c,2460,12,98463),i(Mi,"for","edit-security-level"),i(Mi,"class","block text-sm font-medium text-gray-700 mb-1"),l(Mi,c,2476,14,99203),Or.__value="standard",U(Or,Or.__value),l(Or,c,2481,16,99455),bi.__value="high",U(bi,bi.__value),l(bi,c,2482,16,99514),ls.__value="maximum",U(ls,ls.__value),l(ls,c,2483,16,99565),i(hn,"class","input-field"),n[11].security_level===void 0&&na(()=>n[74].call(hn)),l(hn,c,2477,14,99326),l(Ar,c,2475,12,99183),i(zi,"for","edit-verification-status"),i(zi,"class","block text-sm font-medium text-gray-700 mb-1"),l(zi,c,2487,14,99681),Ur.__value="pending",U(Ur,Ur.__value),l(Ur,c,2492,16,99948),Ci.__value="verified",U(Ci,Ci.__value),l(Ci,c,2493,16,100005),cs.__value="failed",U(cs,cs.__value),l(cs,c,2494,16,100064),i(fn,"class","input-field"),n[11].verification_status===void 0&&na(()=>n[75].call(fn)),l(fn,c,2488,14,99814),l(Lr,c,2486,12,99661),i(os,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),l(os,c,2459,10,98399),i(kr,"class","border-t border-gray-200 pt-4 mb-4"),l(kr,c,2457,8,98245),i(co,"class","text-lg font-medium text-gray-900 mb-3"),l(co,c,2502,10,100288),i(uo,"class","w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold"),l(uo,c,2507,16,100572),i(Hi,"class","text-sm font-medium"),l(Hi,c,2508,16,100704),i(Rr,"class","flex items-center space-x-2"),l(Rr,c,2506,14,100514),i(Ii,"class",Ta="w-8 h-8 rounded-full "+(n[11].journey_status==="in-transit"||n[11].journey_status==="customs"||n[11].journey_status==="delayed"||n[11].journey_status==="delivered"?"bg-blue-600 text-white":"bg-gray-300 text-gray-600")+" flex items-center justify-center text-sm font-bold"),l(Ii,c,2511,16,100845),i(K,"class","text-sm font-medium"),l(K,c,2512,16,101179),i(Gi,"class","flex items-center space-x-2"),l(Gi,c,2510,14,100787),i(ji,"class",ja="w-8 h-8 rounded-full "+(n[11].journey_status==="delivered"?"bg-green-600 text-white":"bg-gray-300 text-gray-600")+" flex items-center justify-center text-sm font-bold"),l(ji,c,2515,16,101324),i(Kn,"class","text-sm font-medium"),l(Kn,c,2516,16,101533),i(Dn,"class","flex items-center space-x-2"),l(Dn,c,2514,14,101266),i(_r,"class","flex items-center justify-between mb-4"),l(_r,c,2505,12,100447),i(Di,"class","h-full bg-blue-600 transition-all duration-500"),lu(Di,"width",n[11].journey_status==="pending"?"0%":n[11].journey_status==="pickup"?"25%":n[11].journey_status==="in-transit"?"50%":n[11].journey_status==="customs"?"60%":n[11].journey_status==="delayed"?"70%":n[11].journey_status==="delivered"?"100%":"0%"),l(Di,c,2522,14,101766),i(Wi,"class","absolute top-4 left-4 right-4 h-0.5 bg-gray-300 -z-10"),l(Wi,c,2521,12,101684),i(Si,"class","relative"),l(Si,c,2503,10,100378),i(si,"stroke-linecap","round"),i(si,"stroke-linejoin","round"),i(si,"stroke-width","2"),i(si,"d","M13 10V3L4 14h7v7l9-11h-7z"),l(si,c,2537,16,102595),i(Xn,"class","w-5 h-5 text-blue-600"),i(Xn,"fill","none"),i(Xn,"stroke","currentColor"),i(Xn,"viewBox","0 0 24 24"),l(Xn,c,2536,14,102489),i(ri,"class","font-bold capitalize"),l(ri,c,2540,32,102820),i(Ai,"class","text-sm font-medium text-blue-800"),l(Ai,c,2539,14,102739),i(ti,"class","flex items-center space-x-2"),l(ti,c,2535,12,102433),i(Ji,"class","bg-blue-50 border border-blue-200 rounded-lg p-3"),l(Ji,c,2534,10,102358),i(ir,"class","border-t border-gray-200 pt-4 mb-4"),l(ir,c,2501,8,100229),i(Er,"class","border-t border-gray-200 pt-4 mb-4"),l(Er,c,2547,8,103008),i(Oi,"class","text-lg font-medium text-gray-900 mb-3"),l(Oi,c,2560,10,103539),i(Li,"class","text-sm font-medium text-blue-800 mb-2"),l(Li,c,2563,14,103767),i(ii,"class","text-xs text-gray-600"),l(ii,c,2564,14,103847),i(oi,"class","text-xs text-gray-500"),l(oi,c,2565,14,103946),i(Wr,"class","bg-blue-50 border border-blue-200 rounded-lg p-3"),l(Wr,c,2562,12,103690),i(Zn,"class","text-sm font-medium text-yellow-800 mb-2"),l(Zn,c,2568,14,104163),i(Zi,"class","text-xs text-gray-600"),l(Zi,c,2569,14,104246),i(ai,"class","text-xs text-gray-500"),l(ai,c,2570,14,104346),i(pn,"class","bg-yellow-50 border border-yellow-200 rounded-lg p-3"),l(pn,c,2567,12,104082),i(fo,"class","text-sm font-medium text-green-800 mb-2"),l(fo,c,2573,14,104563),i(Qi,"class","text-xs text-gray-600"),l(Qi,c,2574,14,104649),i(li,"class","text-xs text-gray-500"),l(li,c,2575,14,104753),i(Un,"class","bg-green-50 border border-green-200 rounded-lg p-3"),l(Un,c,2572,12,104484),i(On,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),l(On,c,2561,10,103626),i(ni,"class","border-t border-gray-200 pt-4 mb-4"),l(ni,c,2559,8,103480),i(Qo,"class","btn-secondary text-sm"),l(Qo,c,2581,10,104979),po.disabled=n[1],i(po,"class","btn-primary disabled:opacity-50 text-sm"),l(po,c,2582,10,105069),i(Zo,"class","flex justify-end space-x-3"),l(Zo,c,2580,8,104928),i(m,"class","relative p-8 border w-2/3 shadow-lg rounded-md bg-white"),l(m,c,2100,6,81919),i(e,"class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50"),lu(e,"z-index","9999"),l(e,c,2095,4,81523)},m:function(V,se){Ke(V,e,se),s(e,t),s(t,r),s(t,o),s(t,a),s(t,f),s(e,v),s(e,m),s(m,_),s(_,C),s(C,E),s(C,T),s(_,O),s(_,w),s(w,k),s(k,D),s(m,P),s(m,A),s(A,M),s(M,L),s(M,Z),s(M,X),U(X,n[11].product_details.type),s(A,Ue),s(A,Qe),s(Qe,F),s(Qe,me),s(Qe,le),s(le,ge),U(ge,n[11].product_details.weight),s(le,ce),s(le,oe),s(oe,he),s(oe,ie),s(oe,be),Jr(oe,n[11].product_details.weightUnit,!0),s(A,Ae),s(A,Y),s(Y,Re),s(Y,at),s(Y,Be),s(Be,We),U(We,n[11].product_details.purity),s(Be,ht),s(Be,fe),s(fe,je),s(fe,ke),s(fe,ct),Jr(fe,n[11].product_details.purityUnit,!0),s(A,Nt),s(A,Ye),s(Ye,Ne),s(Ye,xs),s(Ye,ae),U(ae,n[11].product_details.serialNumber),s(A,ft),s(A,Je),s(Je,Ct),s(Je,Et),s(Je,Bs),U(Bs,n[11].product_details.description),s(m,us),s(m,we),s(we,Vt),s(we,Ns),s(we,Se),s(Se,pt),s(pt,Ce),s(pt,Vs),s(pt,$e),U($e,n[11].origin_facility),s(Se,Ms),s(Se,Ht),s(Ht,Ve),s(Ht,Zr),s(Ht,et),U(et,n[11].origin_guardian),s(Se,Gt),s(Se,Fs),s(Fs,yt),s(Fs,Mt),s(Fs,ze),s(we,ui),s(we,tt),s(tt,Ss),s(Ss,Is),s(Ss,Yr),s(Ss,zs),U(zs,n[11].origin_location.address),s(tt,lr),s(tt,hs),s(hs,bt),s(hs,eo),s(hs,Hs),U(Hs,n[11].origin_location.city),s(tt,xt),s(tt,Gs),s(Gs,Pt),s(Gs,Ui),s(Gs,Ws),U(Ws,n[11].origin_location.country),s(we,Wt),s(we,Ts),s(Ts,Js),s(Ts,Ri),s(Ts,$t),s($t,gt),s(gt,yr),s(yr,fs),s(yr,ps),s(gt,_n),s(gt,Ks),s($t,di),s($t,js),s($t,x),s($t,j),s(j,z),s(j,J),s(j,ne),s(j,ue),s(m,ee),s(m,Pe),s(Pe,st),s(Pe,ts),s(Pe,Xs),s(Xs,ut),s(ut,Ps),s(ut,Sr),s(ut,Zs),U(Zs,n[11].current_facility),s(Xs,mn),s(Xs,St),s(St,Jt),s(St,te),s(St,rt),U(rt,n[11].current_guardian),s(Pe,en),s(Pe,vt),s(vt,Kt),s(Kt,zt),s(Kt,to),s(Kt,nt),U(nt,n[11].current_location.address),s(vt,_o),s(vt,cr),s(cr,Dt),s(cr,tn),s(cr,At),U(At,n[11].current_location.city),s(vt,so),s(vt,ss),s(ss,Ot),s(ss,gs),s(ss,it),U(it,n[11].current_location.country),s(Pe,mo),s(Pe,Qs),s(Qs,Xt),s(Qs,ro),s(Qs,dt),s(dt,bn),s(bn,vs),s(vs,qt),s(vs,Nn),s(bn,no),s(bn,It),s(dt,sn),s(dt,rs),s(dt,No),s(dt,Vr),s(Vr,_s),s(Vr,br),s(Vr,Ds),s(Vr,wn),s(m,As),s(m,Lt),s(Lt,kn),s(Lt,Cn),s(Lt,is),s(is,En),s(En,ms),s(En,io),s(En,wt),U(wt,n[11].destination_facility),s(is,fi),s(is,xn),s(xn,Zt),s(xn,bo),s(xn,jr),U(jr,n[11].recipient_name),s(is,lt),s(is,ot),s(ot,ur),s(ot,rn),s(ot,De),U(De,n[11].recipient_contact),s(Lt,ys),s(Lt,qe),s(qe,bs),s(bs,kt),s(bs,$s),s(bs,Xe),U(Xe,n[11].destination_location.address),s(qe,Ut),s(qe,Me),s(Me,Tt),s(Me,Ze),s(Me,q),U(q,n[11].destination_location.city),s(qe,He),s(qe,$),s($,dr),s($,Mr),s($,hr),U(hr,n[11].destination_location.country),s(Lt,Vn),s(Lt,fr),s(fr,Sn),s(fr,wr),s(fr,Fr),s(Fr,er),s(er,Ls),s(Ls,In),s(Ls,Tn),s(er,Pr),s(er,Mn),s(Fr,zn),s(Fr,pr),s(Fr,Bi),s(Fr,Qt),s(Qt,zr),s(zr,gr),s(zr,oo),s(zr,tr),s(tr,on),s(Qt,rr),s(Qt,ws),s(ws,Us),s(ws,an),s(ws,pi),s(pi,ln),s(Lt,Vi),s(Lt,ks),s(ks,Rt),s(ks,ko),s(ks,qr),U(qr,n[11].estimated_delivery),s(m,Hn),s(m,kr),s(kr,Cs),s(kr,Hr),s(kr,os),s(os,$n),s($n,jn),s($n,vi),s($n,as),s(as,cn),s(as,nr),s(as,dn),s(as,Es),s(as,Pn),s(as,_t),s(as,_i),Jr(as,n[11].journey_status,!0),s(os,Ma),s(os,Ar),s(Ar,Mi),s(Ar,Fa),s(Ar,hn),s(hn,Or),s(hn,bi),s(hn,ls),Jr(hn,n[11].security_level,!0),s(os,qa),s(os,Lr),s(Lr,zi),s(Lr,Ha),s(Lr,fn),s(fn,Ur),s(fn,Ci),s(fn,cs),Jr(fn,n[11].verification_status,!0),s(m,Wa),s(m,ir),s(ir,co),s(ir,Ja),s(ir,Si),s(Si,_r),s(_r,Rr),s(Rr,uo),s(Rr,Jn),s(Rr,Hi),s(_r,Cr),s(_r,Gi),s(Gi,Ii),s(Ii,Ti),s(Gi,ho),s(Gi,K),s(_r,Xa),s(_r,Dn),s(Dn,ji),s(ji,Za),s(Dn,ei),s(Dn,Kn),s(Si,aa),s(Si,Wi),s(Wi,Di),s(ir,la),s(ir,Ji),s(Ji,ti),s(ti,Xn),s(Xn,si),s(ti,Ki),s(ti,Ai),s(Ai,Qa),s(Ai,ri),s(ri,ua),s(m,Co),s(m,Er),Fh(An,Er,null),s(m,da),s(m,ni),s(ni,Oi),s(ni,ha),s(ni,On),s(On,Wr),s(Wr,Li),s(Wr,Fo),s(Wr,ii),s(ii,zo),s(Wr,fa),s(Wr,oi),s(oi,qo),s(oi,pa),s(oi,Ho),s(On,Da),s(On,pn),s(pn,Zn),s(pn,ga),s(pn,Zi),s(Zi,Go),s(pn,va),s(pn,ai),s(ai,Wo),s(ai,Io),s(ai,_a),s(On,ma),s(On,Un),s(Un,fo),s(Un,$a),s(Un,Qi),s(Qi,Jo),s(Un,Ko),s(Un,li),s(li,Xo),s(li,ya),s(li,Oa),s(m,eu),s(m,Zo),s(Zo,Qo),s(Zo,tu),s(Zo,po),Yo.m(po,null),Bt=!0,su||(sd=[N(w,"click",n[21],!1,!1,!1,!1),N(X,"input",n[45]),N(ge,"input",n[46]),N(oe,"change",n[47]),N(We,"input",n[48]),N(fe,"change",n[49]),N(ae,"input",n[50]),N(Bs,"input",n[51]),N($e,"input",n[52]),N(et,"input",n[53]),N(ze,"input",n[54],!1,!1,!1,!1),N(zs,"input",n[55]),N(zs,"blur",n[56],!1,!1,!1,!1),N(Hs,"input",n[57]),N(Ws,"input",n[58]),N(Zs,"input",n[59]),N(rt,"input",n[60]),N(nt,"input",n[61]),N(nt,"blur",n[62],!1,!1,!1,!1),N(At,"input",n[63]),N(it,"input",n[64]),N(wt,"input",n[65]),N(jr,"input",n[66]),N(De,"input",n[67]),N(Xe,"input",n[68]),N(Xe,"blur",n[69],!1,!1,!1,!1),N(q,"input",n[70]),N(hr,"input",n[71]),N(qr,"input",n[72]),N(as,"change",n[73]),N(hn,"change",n[74]),N(fn,"change",n[75]),N(Qo,"click",n[21],!1,!1,!1,!1),N(po,"click",n[20],!1,!1,!1,!1)],su=!0)},p:function(V,se){var Rs,La;(!Bt||se[0]&256)&&de(o,V[8]),(!Bt||se[0]&512)&&h!==(h=V[9]?"exists":"null")&&de(f,h),(!Bt||se[0]&512)&&I!==(I=((Rs=V[9])==null?void 0:Rs.tracking_code)+"")&&de(T,I),se[0]&2048&&X.value!==V[11].product_details.type&&U(X,V[11].product_details.type),se[0]&2048&&Uo(ge.value)!==V[11].product_details.weight&&U(ge,V[11].product_details.weight),se[0]&2048&&Jr(oe,V[11].product_details.weightUnit),se[0]&2048&&Uo(We.value)!==V[11].product_details.purity&&U(We,V[11].product_details.purity),se[0]&2048&&Jr(fe,V[11].product_details.purityUnit),se[0]&2048&&ae.value!==V[11].product_details.serialNumber&&U(ae,V[11].product_details.serialNumber),se[0]&2048&&U(Bs,V[11].product_details.description),se[0]&2048&&$e.value!==V[11].origin_facility&&U($e,V[11].origin_facility),se[0]&2048&&et.value!==V[11].origin_guardian&&U(et,V[11].origin_guardian),(!Bt||se[0]&2048&&ds!==(ds=V[11].pickup_date?V[11].pickup_date.slice(0,16):""))&&Lo(ze,"value",ds),se[0]&2048&&zs.value!==V[11].origin_location.address&&U(zs,V[11].origin_location.address),se[0]&2048&&Hs.value!==V[11].origin_location.city&&U(Hs,V[11].origin_location.city),se[0]&2048&&Ws.value!==V[11].origin_location.country&&U(Ws,V[11].origin_location.country),(!Bt||se[0]&2048)&&Q!==(Q=V[11].origin_location.latitude.toFixed(6)+"")&&de(J,Q),(!Bt||se[0]&2048)&&_e!==(_e=V[11].origin_location.longitude.toFixed(6)+"")&&de(ue,_e),se[0]&2048&&Zs.value!==V[11].current_facility&&U(Zs,V[11].current_facility),se[0]&2048&&rt.value!==V[11].current_guardian&&U(rt,V[11].current_guardian),se[0]&2048&&nt.value!==V[11].current_location.address&&U(nt,V[11].current_location.address),se[0]&2048&&At.value!==V[11].current_location.city&&U(At,V[11].current_location.city),se[0]&2048&&it.value!==V[11].current_location.country&&U(it,V[11].current_location.country),(!Bt||se[0]&2048)&&Ir!==(Ir=V[11].current_location.latitude.toFixed(6)+"")&&de(br,Ir),(!Bt||se[0]&2048)&&ns!==(ns=V[11].current_location.longitude.toFixed(6)+"")&&de(wn,ns),se[0]&2048&&wt.value!==V[11].destination_facility&&U(wt,V[11].destination_facility),se[0]&2048&&jr.value!==V[11].recipient_name&&U(jr,V[11].recipient_name),se[0]&2048&&De.value!==V[11].recipient_contact&&U(De,V[11].recipient_contact),se[0]&2048&&Xe.value!==V[11].destination_location.address&&U(Xe,V[11].destination_location.address),se[0]&2048&&q.value!==V[11].destination_location.city&&U(q,V[11].destination_location.city),se[0]&2048&&hr.value!==V[11].destination_location.country&&U(hr,V[11].destination_location.country),(!Bt||se[0]&2048)&&sr!==(sr=V[11].destination_location.latitude.toFixed(6)+"")&&de(on,sr),(!Bt||se[0]&2048)&&Ni!==(Ni=V[11].destination_location.longitude.toFixed(6)+"")&&de(ln,Ni),se[0]&2048&&U(qr,V[11].estimated_delivery),se[0]&2048&&Jr(as,V[11].journey_status),se[0]&2048&&Jr(hn,V[11].security_level),se[0]&2048&&Jr(fn,V[11].verification_status),(!Bt||se[0]&2048&&Ta!==(Ta="w-8 h-8 rounded-full "+(V[11].journey_status==="in-transit"||V[11].journey_status==="customs"||V[11].journey_status==="delayed"||V[11].journey_status==="delivered"?"bg-blue-600 text-white":"bg-gray-300 text-gray-600")+" flex items-center justify-center text-sm font-bold"))&&i(Ii,"class",Ta),(!Bt||se[0]&2048&&ja!==(ja="w-8 h-8 rounded-full "+(V[11].journey_status==="delivered"?"bg-green-600 text-white":"bg-gray-300 text-gray-600")+" flex items-center justify-center text-sm font-bold"))&&i(ji,"class",ja),(!Bt||se[0]&2048)&&lu(Di,"width",V[11].journey_status==="pending"?"0%":V[11].journey_status==="pickup"?"25%":V[11].journey_status==="in-transit"?"50%":V[11].journey_status==="customs"?"60%":V[11].journey_status==="delayed"?"70%":V[11].journey_status==="delivered"?"100%":"0%"),(!Bt||se[0]&2048)&&ca!==(ca=V[11].journey_status+"")&&de(ua,ca);const ea={};se[0]&512&&(ea.trackingCode=((La=V[9])==null?void 0:La.tracking_code)||""),se[0]&2048&&(ea.currentImages=V[11].product_details.photos||[]),An.$set(ea),(!Bt||se[0]&2048)&&Ln!==(Ln=(V[11].origin_location.address||"Not set")+"")&&de(zo,Ln),(!Bt||se[0]&2048)&&Eo!==(Eo=V[11].origin_location.city+"")&&de(qo,Eo),(!Bt||se[0]&2048)&&Xi!==(Xi=V[11].origin_location.country+"")&&de(Ho,Xi),(!Bt||se[0]&2048)&&xo!==(xo=(V[11].current_location.address||"Not set")+"")&&de(Go,xo),(!Bt||se[0]&2048)&&So!==(So=V[11].current_location.city+"")&&de(Wo,So),(!Bt||se[0]&2048)&&To!==(To=V[11].current_location.country+"")&&de(_a,To),(!Bt||se[0]&2048)&&Yi!==(Yi=(V[11].destination_location.address||"Not set")+"")&&de(Jo,Yi),(!Bt||se[0]&2048)&&jo!==(jo=V[11].destination_location.city+"")&&de(Xo,jo),(!Bt||se[0]&2048)&&Po!==(Po=V[11].destination_location.country+"")&&de(Oa,Po),Fl!==(Fl=rd(V))&&(Yo.d(1),Yo=Fl(V),Yo&&(Yo.c(),Yo.m(po,null))),(!Bt||se[0]&2)&&Lo(po,"disabled",V[1])},i:function(V){Bt||(Wc(An.$$.fragment,V),Bt=!0)},o:function(V){mu(An.$$.fragment,V),Bt=!1},d:function(V){V&&p(e),zh(An),Yo.d(),su=!1,xl(sd)}};return mt("SvelteRegisterBlock",{block:nd,id:Gu.name,type:"if",source:"(2095:2) {#if showEditModal}",ctx:n}),nd}function Oh(n){let e;const t={c:function(){e=R("Save Changes")},l:function(o){e=B(o,"Save Changes")},m:function(o,a){Ke(o,e,a)},d:function(o){o&&p(e)}};return mt("SvelteRegisterBlock",{block:t,id:Oh.name,type:"else",source:"(2586:12) {:else}",ctx:n}),t}function Lh(n){let e;const t={c:function(){e=u("div"),this.h()},l:function(o){e=d(o,"DIV",{class:!0}),g(e).forEach(p),this.h()},h:function(){i(e,"class","loading-spinner mx-auto"),l(e,c,2584,14,105209)},m:function(o,a){Ke(o,e,a)},d:function(o){o&&p(e)}};return mt("SvelteRegisterBlock",{block:t,id:Lh.name,type:"if",source:"(2584:12) {#if loading}",ctx:n}),t}function Wu(n){let e,t,r,o,a,h="Create New Shipment",f,v,m,_,C,E,I,T,O="📦 Product Details",w,k,D,P,A="Product Type",M,L,W,Z,X,Ue="Serial Number",Qe,F,re,me,le,ge="Weight",ce,oe,he,ye,ie,Te,be="kg",ve,Ae="g",Y,Re="oz",pe,at,Be,We="Purity",ht,fe,je,Ee,ke,Kr="Description",ct,Oe,Nt,Ye,Ne,or="📸 Product Images",xs,ae,ft,Je,Ct,Rn,Et,Bs="Upload images of the gold shipment",us,we,Vt,ar,Ns,Se,pt,Ce="Click to upload",mr,Vs,$e,Ms="PNG, JPG, GIF up to 10MB each",Ht,Ve,Xr,Zr,et,Gt,Fs="📍 Origin Information",yt,Fe,Mt,ze,ds="Origin Facility",ui,tt,Ss,Is,Qr,Yr="Origin Guardian",zs,lr,hs,bt,qs,eo="Pickup Date",Hs,xt,Gs,Pt,vn,Ui="Origin Address",Ws,Wt,Ts,Js,$r,Ri="Origin City",$t,gt,yr,fs,ps,_n="Origin Country",Ks,xr,di,js,x,j="📍 Origin Location Map",z,Q,J,ne,_e,ue,ee,Pe,st="Click on map to set coordinates",es,ts,Xs,ut,Ps,Bn=n[12].origin_location.latitude.toFixed(6)+"",Sr,Zs,mn=n[12].origin_location.longitude.toFixed(6)+"",St,Jt,Ft,te,rt="📍 Current Location",en,vt,Kt,zt,ia="Current Facility",to,nt,_o,cr,Dt,yn="Current Guardian",tn,At,so,ss,Ot,hi="Current Address",gs,it,mo,Qs,Xt,oa="Current City",ro,dt,bn,vs,qt,Nn="Current Country",no,It,Bo,sn,rs,No="📍 Current Location Map",Vr,_s,Ir,br,Ds,ns,wn,As,Lt="Click on map to set coordinates",kn,Tr,Cn,is,En,ms=n[12].current_location.latitude.toFixed(6)+"",yo,io,wt=n[12].current_location.longitude.toFixed(6)+"",fi,xn,Zt,Os,bo="🎯 Destination Information",jr,lt,ot,ur,wo="Destination Facility",rn,De,ys,qe,bs,kt="Recipient Name",Ys,$s,Xe,Ut,Me,Tt="Recipient Contact",Vo,Ze,q,He,$,dr="Estimated Delivery",Mo,Mr,hr,Vn,fr,Sn="Destination Address",nn,wr,Fr,er,Ls,In="Destination City",Tn,Pr,Mn,Fn,zn,pr="Destination Country",Bi,Qt,zr,gr,Yn,oo="📍 Destination Location Map",tr,sr,on,rr,ws,Us,ao,an,pi="Click on map to set exact coordinates",Ni,ln,Vi,ks,Rt,qn,ko="Latitude:",qr,Hn,kr=n[12].destination_location.latitude.toFixed(6)+"",Cs,gi,Hr,os,$n="Longitude:",jn,Gn,vi=n[12].destination_location.longitude.toFixed(6)+"",as,cn,un,nr,Gr="🚚 Journey Settings",dn,Dr,Es,Wn,Pn="Journey Status",lo,_t,vr,_i="Pending",mi,Ma="Pickup",Ar,Mi="In Transit",yi,Fa="Delivered",hn,Or,Fi,bi="Security Level",za,ls,wi,qa="Standard",Lr,zi="High",ki,Ha="Maximum",fn,Ur,qi,Ci="Verification Status",Ga,cs,Ei,Wa="Pending",ir,co="Verified",xi,Ja="Failed",Si,_r,Rr,uo="Cancel",Ka,Jn,Hi,Tl,Cr=n[12].product_details.photos&&n[12].product_details.photos.length>0&&Ju(n);function Gi(ho,K){return ho[1]?Rh:Uh}let Ii=Gi(n),Ti=Ii(n);const Ta={c:function(){e=u("div"),t=u("div"),r=u("div"),o=u("div"),a=u("h2"),a.textContent=h,f=y(),v=u("button"),m=H("svg"),_=H("path"),C=y(),E=u("div"),I=u("div"),T=u("h3"),T.textContent=O,w=y(),k=u("div"),D=u("div"),P=u("label"),P.textContent=A,M=y(),L=u("input"),W=y(),Z=u("div"),X=u("label"),X.textContent=Ue,Qe=y(),F=u("input"),re=y(),me=u("div"),le=u("label"),le.textContent=ge,ce=y(),oe=u("div"),he=u("input"),ye=y(),ie=u("select"),Te=u("option"),Te.textContent=be,ve=u("option"),ve.textContent=Ae,Y=u("option"),Y.textContent=Re,pe=y(),at=u("div"),Be=u("label"),Be.textContent=We,ht=y(),fe=u("input"),je=y(),Ee=u("div"),ke=u("label"),ke.textContent=Kr,ct=y(),Oe=u("textarea"),Nt=y(),Ye=u("div"),Ne=u("label"),Ne.textContent=or,xs=y(),ae=u("div"),ft=u("div"),Je=H("svg"),Ct=H("path"),Rn=y(),Et=u("span"),Et.textContent=Bs,us=y(),we=u("div"),Vt=H("svg"),ar=H("path"),Ns=y(),Se=u("p"),pt=u("span"),pt.textContent=Ce,mr=R(" or drag and drop"),Vs=y(),$e=u("p"),$e.textContent=Ms,Ht=y(),Ve=u("input"),Xr=y(),Cr&&Cr.c(),Zr=y(),et=u("div"),Gt=u("h3"),Gt.textContent=Fs,yt=y(),Fe=u("div"),Mt=u("div"),ze=u("label"),ze.textContent=ds,ui=y(),tt=u("input"),Ss=y(),Is=u("div"),Qr=u("label"),Qr.textContent=Yr,zs=y(),lr=u("input"),hs=y(),bt=u("div"),qs=u("label"),qs.textContent=eo,Hs=y(),xt=u("input"),Gs=y(),Pt=u("div"),vn=u("label"),vn.textContent=Ui,Ws=y(),Wt=u("input"),Ts=y(),Js=u("div"),$r=u("label"),$r.textContent=Ri,$t=y(),gt=u("input"),yr=y(),fs=u("div"),ps=u("label"),ps.textContent=_n,Ks=y(),xr=u("input"),di=y(),js=u("div"),x=u("div"),x.textContent=j,z=y(),Q=u("div"),J=u("div"),ne=H("svg"),_e=H("path"),ue=H("path"),ee=y(),Pe=u("span"),Pe.textContent=st,es=y(),ts=u("div"),Xs=y(),ut=u("div"),Ps=R("Coordinates: "),Sr=R(Bn),Zs=R(", "),St=R(mn),Jt=y(),Ft=u("div"),te=u("h3"),te.textContent=rt,en=y(),vt=u("div"),Kt=u("div"),zt=u("label"),zt.textContent=ia,to=y(),nt=u("input"),_o=y(),cr=u("div"),Dt=u("label"),Dt.textContent=yn,tn=y(),At=u("input"),so=y(),ss=u("div"),Ot=u("label"),Ot.textContent=hi,gs=y(),it=u("input"),mo=y(),Qs=u("div"),Xt=u("label"),Xt.textContent=oa,ro=y(),dt=u("input"),bn=y(),vs=u("div"),qt=u("label"),qt.textContent=Nn,no=y(),It=u("input"),Bo=y(),sn=u("div"),rs=u("div"),rs.textContent=No,Vr=y(),_s=u("div"),Ir=u("div"),br=H("svg"),Ds=H("path"),ns=H("path"),wn=y(),As=u("span"),As.textContent=Lt,kn=y(),Tr=u("div"),Cn=y(),is=u("div"),En=R("Coordinates: "),yo=R(ms),io=R(", "),fi=R(wt),xn=y(),Zt=u("div"),Os=u("h3"),Os.textContent=bo,jr=y(),lt=u("div"),ot=u("div"),ur=u("label"),ur.textContent=wo,rn=y(),De=u("input"),ys=y(),qe=u("div"),bs=u("label"),bs.textContent=kt,Ys=y(),$s=u("input"),Xe=y(),Ut=u("div"),Me=u("label"),Me.textContent=Tt,Vo=y(),Ze=u("input"),q=y(),He=u("div"),$=u("label"),$.textContent=dr,Mo=y(),Mr=u("input"),hr=y(),Vn=u("div"),fr=u("label"),fr.textContent=Sn,nn=y(),wr=u("input"),Fr=y(),er=u("div"),Ls=u("label"),Ls.textContent=In,Tn=y(),Pr=u("input"),Mn=y(),Fn=u("div"),zn=u("label"),zn.textContent=pr,Bi=y(),Qt=u("input"),zr=y(),gr=u("div"),Yn=u("div"),Yn.textContent=oo,tr=y(),sr=u("div"),on=u("div"),rr=H("svg"),ws=H("path"),Us=H("path"),ao=y(),an=u("span"),an.textContent=pi,Ni=y(),ln=u("div"),Vi=y(),ks=u("div"),Rt=u("div"),qn=u("span"),qn.textContent=ko,qr=y(),Hn=u("span"),Cs=R(kr),gi=y(),Hr=u("div"),os=u("span"),os.textContent=$n,jn=y(),Gn=u("span"),as=R(vi),cn=y(),un=u("div"),nr=u("h3"),nr.textContent=Gr,dn=y(),Dr=u("div"),Es=u("div"),Wn=u("label"),Wn.textContent=Pn,lo=y(),_t=u("select"),vr=u("option"),vr.textContent=_i,mi=u("option"),mi.textContent=Ma,Ar=u("option"),Ar.textContent=Mi,yi=u("option"),yi.textContent=Fa,hn=y(),Or=u("div"),Fi=u("label"),Fi.textContent=bi,za=y(),ls=u("select"),wi=u("option"),wi.textContent=qa,Lr=u("option"),Lr.textContent=zi,ki=u("option"),ki.textContent=Ha,fn=y(),Ur=u("div"),qi=u("label"),qi.textContent=Ci,Ga=y(),cs=u("select"),Ei=u("option"),Ei.textContent=Wa,ir=u("option"),ir.textContent=co,xi=u("option"),xi.textContent=Ja,Si=y(),_r=u("div"),Rr=u("button"),Rr.textContent=uo,Ka=y(),Jn=u("button"),Ti.c(),this.h()},l:function(K){e=d(K,"DIV",{class:!0});var xe=g(e);t=d(xe,"DIV",{class:!0});var Xa=g(t);r=d(Xa,"DIV",{class:!0});var Dn=g(r);o=d(Dn,"DIV",{class:!0});var ji=g(o);a=d(ji,"H2",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-zq35ph"&&(a.textContent=h),f=b(ji),v=d(ji,"BUTTON",{class:!0});var Za=g(v);m=G(Za,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ja=g(m);_=G(ja,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(_).forEach(p),ja.forEach(p),Za.forEach(p),ji.forEach(p),C=b(Dn),E=d(Dn,"DIV",{class:!0});var ei=g(E);I=d(ei,"DIV",{class:!0});var Kn=g(I);T=d(Kn,"H3",{class:!0,"data-svelte-h":!0}),S(T)!=="svelte-16j8iqy"&&(T.textContent=O),w=b(Kn),k=d(Kn,"DIV",{class:!0});var Pi=g(k);D=d(Pi,"DIV",{});var aa=g(D);P=d(aa,"LABEL",{class:!0,"data-svelte-h":!0}),S(P)!=="svelte-hwqvte"&&(P.textContent=A),M=b(aa),L=d(aa,"INPUT",{type:!0,class:!0,placeholder:!0}),aa.forEach(p),W=b(Pi),Z=d(Pi,"DIV",{});var Wi=g(Z);X=d(Wi,"LABEL",{class:!0,"data-svelte-h":!0}),S(X)!=="svelte-1sbsbb0"&&(X.textContent=Ue),Qe=b(Wi),F=d(Wi,"INPUT",{type:!0,class:!0,placeholder:!0}),Wi.forEach(p),re=b(Pi),me=d(Pi,"DIV",{});var Di=g(me);le=d(Di,"LABEL",{class:!0,"data-svelte-h":!0}),S(le)!=="svelte-1ydgzpb"&&(le.textContent=ge),ce=b(Di),oe=d(Di,"DIV",{class:!0});var la=g(oe);he=d(la,"INPUT",{type:!0,class:!0,placeholder:!0}),ye=b(la),ie=d(la,"SELECT",{class:!0});var Ji=g(ie);Te=d(Ji,"OPTION",{"data-svelte-h":!0}),S(Te)!=="svelte-1d41abu"&&(Te.textContent=be),ve=d(Ji,"OPTION",{"data-svelte-h":!0}),S(ve)!=="svelte-1x2my8o"&&(ve.textContent=Ae),Y=d(Ji,"OPTION",{"data-svelte-h":!0}),S(Y)!=="svelte-94ymvi"&&(Y.textContent=Re),Ji.forEach(p),la.forEach(p),Di.forEach(p),pe=b(Pi),at=d(Pi,"DIV",{});var ti=g(at);Be=d(ti,"LABEL",{class:!0,"data-svelte-h":!0}),S(Be)!=="svelte-14bid26"&&(Be.textContent=We),ht=b(ti),fe=d(ti,"INPUT",{type:!0,class:!0,placeholder:!0,step:!0}),ti.forEach(p),je=b(Pi),Ee=d(Pi,"DIV",{class:!0});var Xn=g(Ee);ke=d(Xn,"LABEL",{class:!0,"data-svelte-h":!0}),S(ke)!=="svelte-1u57nq9"&&(ke.textContent=Kr),ct=b(Xn),Oe=d(Xn,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),g(Oe).forEach(p),Xn.forEach(p),Pi.forEach(p),Nt=b(Kn),Ye=d(Kn,"DIV",{class:!0});var si=g(Ye);Ne=d(si,"LABEL",{class:!0,"data-svelte-h":!0}),S(Ne)!=="svelte-1s03jm9"&&(Ne.textContent=or),xs=b(si),ae=d(si,"DIV",{class:!0});var Ki=g(ae);ft=d(Ki,"DIV",{class:!0});var Ai=g(ft);Je=G(Ai,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Qa=g(Je);Ct=G(Qa,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Ct).forEach(p),Qa.forEach(p),Rn=b(Ai),Et=d(Ai,"SPAN",{class:!0,"data-svelte-h":!0}),S(Et)!=="svelte-3nf34w"&&(Et.textContent=Bs),Ai.forEach(p),us=b(Ki),we=d(Ki,"DIV",{class:!0,role:!0,tabindex:!0,"aria-label":!0});var ri=g(we);Vt=G(ri,"svg",{class:!0,stroke:!0,fill:!0,viewBox:!0});var ca=g(Vt);ar=G(ca,"path",{d:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),g(ar).forEach(p),ca.forEach(p),Ns=b(ri),Se=d(ri,"P",{class:!0});var ua=g(Se);pt=d(ua,"SPAN",{class:!0,"data-svelte-h":!0}),S(pt)!=="svelte-1t1jtut"&&(pt.textContent=Ce),mr=B(ua," or drag and drop"),ua.forEach(p),Vs=b(ri),$e=d(ri,"P",{class:!0,"data-svelte-h":!0}),S($e)!=="svelte-v4k2h5"&&($e.textContent=Ms),ri.forEach(p),Ht=b(Ki),Ve=d(Ki,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),Xr=b(Ki),Cr&&Cr.l(Ki),Ki.forEach(p),si.forEach(p),Kn.forEach(p),Zr=b(ei),et=d(ei,"DIV",{class:!0});var Co=g(et);Gt=d(Co,"H3",{class:!0,"data-svelte-h":!0}),S(Gt)!=="svelte-1os4g7g"&&(Gt.textContent=Fs),yt=b(Co),Fe=d(Co,"DIV",{class:!0});var Er=g(Fe);Mt=d(Er,"DIV",{});var An=g(Mt);ze=d(An,"LABEL",{class:!0,"data-svelte-h":!0}),S(ze)!=="svelte-1ug159e"&&(ze.textContent=ds),ui=b(An),tt=d(An,"INPUT",{type:!0,class:!0,placeholder:!0}),An.forEach(p),Ss=b(Er),Is=d(Er,"DIV",{});var da=g(Is);Qr=d(da,"LABEL",{class:!0,"data-svelte-h":!0}),S(Qr)!=="svelte-1jxajm0"&&(Qr.textContent=Yr),zs=b(da),lr=d(da,"INPUT",{type:!0,class:!0,placeholder:!0}),da.forEach(p),hs=b(Er),bt=d(Er,"DIV",{});var ni=g(bt);qs=d(ni,"LABEL",{class:!0,"data-svelte-h":!0}),S(qs)!=="svelte-nvn7gv"&&(qs.textContent=eo),Hs=b(ni),xt=d(ni,"INPUT",{type:!0,class:!0}),ni.forEach(p),Gs=b(Er),Pt=d(Er,"DIV",{});var Oi=g(Pt);vn=d(Oi,"LABEL",{class:!0,"data-svelte-h":!0}),S(vn)!=="svelte-gvau09"&&(vn.textContent=Ui),Ws=b(Oi),Wt=d(Oi,"INPUT",{type:!0,class:!0,placeholder:!0}),Oi.forEach(p),Ts=b(Er),Js=d(Er,"DIV",{});var Pa=g(Js);$r=d(Pa,"LABEL",{class:!0,"data-svelte-h":!0}),S($r)!=="svelte-dknl0"&&($r.textContent=Ri),$t=b(Pa),gt=d(Pa,"INPUT",{type:!0,class:!0,placeholder:!0}),Pa.forEach(p),yr=b(Er),fs=d(Er,"DIV",{});var ha=g(fs);ps=d(ha,"LABEL",{class:!0,"data-svelte-h":!0}),S(ps)!=="svelte-1phwszv"&&(ps.textContent=_n),Ks=b(ha),xr=d(ha,"INPUT",{type:!0,class:!0,placeholder:!0}),ha.forEach(p),Er.forEach(p),di=b(Co),js=d(Co,"DIV",{class:!0});var On=g(js);x=d(On,"DIV",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-1c61kwh"&&(x.textContent=j),z=b(On),Q=d(On,"DIV",{class:!0});var Wr=g(Q);J=d(Wr,"DIV",{class:!0});var Li=g(J);ne=G(Li,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ya=g(ne);_e=G(Ya,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(_e).forEach(p),ue=G(Ya,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ue).forEach(p),Ya.forEach(p),ee=b(Li),Pe=d(Li,"SPAN",{class:!0,"data-svelte-h":!0}),S(Pe)!=="svelte-i6pg4t"&&(Pe.textContent=st),Li.forEach(p),es=b(Wr),ts=d(Wr,"DIV",{id:!0,class:!0}),g(ts).forEach(p),Xs=b(Wr),ut=d(Wr,"DIV",{class:!0});var Fo=g(ut);Ps=B(Fo,"Coordinates: "),Sr=B(Fo,Bn),Zs=B(Fo,", "),St=B(Fo,mn),Fo.forEach(p),Wr.forEach(p),On.forEach(p),Co.forEach(p),Jt=b(ei),Ft=d(ei,"DIV",{class:!0});var ii=g(Ft);te=d(ii,"H3",{class:!0,"data-svelte-h":!0}),S(te)!=="svelte-s0vqks"&&(te.textContent=rt),en=b(ii),vt=d(ii,"DIV",{class:!0});var Ln=g(vt);Kt=d(Ln,"DIV",{});var zo=g(Kt);zt=d(zo,"LABEL",{class:!0,"data-svelte-h":!0}),S(zt)!=="svelte-1iyl2h1"&&(zt.textContent=ia),to=b(zo),nt=d(zo,"INPUT",{type:!0,class:!0,placeholder:!0}),zo.forEach(p),_o=b(Ln),cr=d(Ln,"DIV",{});var fa=g(cr);Dt=d(fa,"LABEL",{class:!0,"data-svelte-h":!0}),S(Dt)!=="svelte-1uso9mv"&&(Dt.textContent=yn),tn=b(fa),At=d(fa,"INPUT",{type:!0,class:!0,placeholder:!0}),fa.forEach(p),so=b(Ln),ss=d(Ln,"DIV",{});var oi=g(ss);Ot=d(oi,"LABEL",{class:!0,"data-svelte-h":!0}),S(Ot)!=="svelte-6wrb3s"&&(Ot.textContent=hi),gs=b(oi),it=d(oi,"INPUT",{type:!0,class:!0,placeholder:!0}),oi.forEach(p),mo=b(Ln),Qs=d(Ln,"DIV",{});var Eo=g(Qs);Xt=d(Eo,"LABEL",{class:!0,"data-svelte-h":!0}),S(Xt)!=="svelte-xqyscz"&&(Xt.textContent=oa),ro=b(Eo),dt=d(Eo,"INPUT",{type:!0,class:!0,placeholder:!0}),Eo.forEach(p),bn=b(Ln),vs=d(Ln,"DIV",{});var qo=g(vs);qt=d(qo,"LABEL",{class:!0,"data-svelte-h":!0}),S(qt)!=="svelte-moq6vq"&&(qt.textContent=Nn),no=b(qo),It=d(qo,"INPUT",{type:!0,class:!0,placeholder:!0}),qo.forEach(p),Ln.forEach(p),Bo=b(ii),sn=d(ii,"DIV",{class:!0});var pa=g(sn);rs=d(pa,"DIV",{class:!0,"data-svelte-h":!0}),S(rs)!=="svelte-1tnu3h2"&&(rs.textContent=No),Vr=b(pa),_s=d(pa,"DIV",{class:!0});var Xi=g(_s);Ir=d(Xi,"DIV",{class:!0});var Ho=g(Ir);br=G(Ho,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Da=g(br);Ds=G(Da,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Ds).forEach(p),ns=G(Da,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ns).forEach(p),Da.forEach(p),wn=b(Ho),As=d(Ho,"SPAN",{class:!0,"data-svelte-h":!0}),S(As)!=="svelte-i6pg4t"&&(As.textContent=Lt),Ho.forEach(p),kn=b(Xi),Tr=d(Xi,"DIV",{id:!0,class:!0}),g(Tr).forEach(p),Cn=b(Xi),is=d(Xi,"DIV",{class:!0});var pn=g(is);En=B(pn,"Coordinates: "),yo=B(pn,ms),io=B(pn,", "),fi=B(pn,wt),pn.forEach(p),Xi.forEach(p),pa.forEach(p),ii.forEach(p),xn=b(ei),Zt=d(ei,"DIV",{class:!0});var Zn=g(Zt);Os=d(Zn,"H3",{class:!0,"data-svelte-h":!0}),S(Os)!=="svelte-dabw25"&&(Os.textContent=bo),jr=b(Zn),lt=d(Zn,"DIV",{class:!0});var gn=g(lt);ot=d(gn,"DIV",{});var ga=g(ot);ur=d(ga,"LABEL",{class:!0,"data-svelte-h":!0}),S(ur)!=="svelte-84tr5e"&&(ur.textContent=wo),rn=b(ga),De=d(ga,"INPUT",{type:!0,class:!0,placeholder:!0}),ga.forEach(p),ys=b(gn),qe=d(gn,"DIV",{});var Zi=g(qe);bs=d(Zi,"LABEL",{class:!0,"data-svelte-h":!0}),S(bs)!=="svelte-2x0znt"&&(bs.textContent=kt),Ys=b(Zi),$s=d(Zi,"INPUT",{type:!0,class:!0,placeholder:!0}),Zi.forEach(p),Xe=b(gn),Ut=d(gn,"DIV",{});var xo=g(Ut);Me=d(xo,"LABEL",{class:!0,"data-svelte-h":!0}),S(Me)!=="svelte-11ragb6"&&(Me.textContent=Tt),Vo=b(xo),Ze=d(xo,"INPUT",{type:!0,class:!0,placeholder:!0}),xo.forEach(p),q=b(gn),He=d(gn,"DIV",{});var Go=g(He);$=d(Go,"LABEL",{class:!0,"data-svelte-h":!0}),S($)!=="svelte-1p27125"&&($.textContent=dr),Mo=b(Go),Mr=d(Go,"INPUT",{type:!0,class:!0}),Go.forEach(p),hr=b(gn),Vn=d(gn,"DIV",{});var va=g(Vn);fr=d(va,"LABEL",{class:!0,"data-svelte-h":!0}),S(fr)!=="svelte-1m8qj9f"&&(fr.textContent=Sn),nn=b(va),wr=d(va,"INPUT",{type:!0,class:!0,placeholder:!0}),va.forEach(p),Fr=b(gn),er=d(gn,"DIV",{});var ai=g(er);Ls=d(ai,"LABEL",{class:!0,"data-svelte-h":!0}),S(Ls)!=="svelte-92ldrs"&&(Ls.textContent=In),Tn=b(ai),Pr=d(ai,"INPUT",{type:!0,class:!0,placeholder:!0}),ai.forEach(p),Mn=b(gn),Fn=d(gn,"DIV",{});var So=g(Fn);zn=d(So,"LABEL",{class:!0,"data-svelte-h":!0}),S(zn)!=="svelte-1cuf47l"&&(zn.textContent=pr),Bi=b(So),Qt=d(So,"INPUT",{type:!0,class:!0,placeholder:!0}),So.forEach(p),gn.forEach(p),zr=b(Zn),gr=d(Zn,"DIV",{class:!0});var Wo=g(gr);Yn=d(Wo,"DIV",{class:!0,"data-svelte-h":!0}),S(Yn)!=="svelte-3hox0n"&&(Yn.textContent=oo),tr=b(Wo),sr=d(Wo,"DIV",{class:!0});var Io=g(sr);on=d(Io,"DIV",{class:!0});var To=g(on);rr=G(To,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var _a=g(rr);ws=G(_a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ws).forEach(p),Us=G(_a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Us).forEach(p),_a.forEach(p),ao=b(To),an=d(To,"SPAN",{class:!0,"data-svelte-h":!0}),S(an)!=="svelte-rcmkjx"&&(an.textContent=pi),To.forEach(p),Ni=b(Io),ln=d(Io,"DIV",{id:!0,class:!0}),g(ln).forEach(p),Vi=b(Io),ks=d(Io,"DIV",{class:!0});var ma=g(ks);Rt=d(ma,"DIV",{class:!0});var Un=g(Rt);qn=d(Un,"SPAN",{class:!0,"data-svelte-h":!0}),S(qn)!=="svelte-amod1d"&&(qn.textContent=ko),qr=b(Un),Hn=d(Un,"SPAN",{class:!0});var fo=g(Hn);Cs=B(fo,kr),fo.forEach(p),Un.forEach(p),gi=b(ma),Hr=d(ma,"DIV",{class:!0});var Aa=g(Hr);os=d(Aa,"SPAN",{class:!0,"data-svelte-h":!0}),S(os)!=="svelte-1uus2by"&&(os.textContent=$n),jn=b(Aa),Gn=d(Aa,"SPAN",{class:!0});var $a=g(Gn);as=B($a,vi),$a.forEach(p),Aa.forEach(p),ma.forEach(p),Io.forEach(p),Wo.forEach(p),Zn.forEach(p),cn=b(ei),un=d(ei,"DIV",{class:!0});var Qi=g(un);nr=d(Qi,"H3",{class:!0,"data-svelte-h":!0}),S(nr)!=="svelte-1dru3mi"&&(nr.textContent=Gr),dn=b(Qi),Dr=d(Qi,"DIV",{class:!0});var Yi=g(Dr);Es=d(Yi,"DIV",{});var Jo=g(Es);Wn=d(Jo,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Wn)!=="svelte-ksn5bd"&&(Wn.textContent=Pn),lo=b(Jo),_t=d(Jo,"SELECT",{id:!0,class:!0});var Ko=g(_t);vr=d(Ko,"OPTION",{"data-svelte-h":!0}),S(vr)!=="svelte-mygx0s"&&(vr.textContent=_i),mi=d(Ko,"OPTION",{"data-svelte-h":!0}),S(mi)!=="svelte-p99phy"&&(mi.textContent=Ma),Ar=d(Ko,"OPTION",{"data-svelte-h":!0}),S(Ar)!=="svelte-zky3eh"&&(Ar.textContent=Mi),yi=d(Ko,"OPTION",{"data-svelte-h":!0}),S(yi)!=="svelte-462xjy"&&(yi.textContent=Fa),Ko.forEach(p),Jo.forEach(p),hn=b(Yi),Or=d(Yi,"DIV",{});var li=g(Or);Fi=d(li,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(Fi)!=="svelte-ynnpz"&&(Fi.textContent=bi),za=b(li),ls=d(li,"SELECT",{id:!0,class:!0});var jo=g(ls);wi=d(jo,"OPTION",{"data-svelte-h":!0}),S(wi)!=="svelte-5niz6y"&&(wi.textContent=qa),Lr=d(jo,"OPTION",{"data-svelte-h":!0}),S(Lr)!=="svelte-poeh2m"&&(Lr.textContent=zi),ki=d(jo,"OPTION",{"data-svelte-h":!0}),S(ki)!=="svelte-115v5v2"&&(ki.textContent=Ha),jo.forEach(p),li.forEach(p),fn=b(Yi),Ur=d(Yi,"DIV",{});var Xo=g(Ur);qi=d(Xo,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),S(qi)!=="svelte-ve8mb5"&&(qi.textContent=Ci),Ga=b(Xo),cs=d(Xo,"SELECT",{id:!0,class:!0});var ya=g(cs);Ei=d(ya,"OPTION",{"data-svelte-h":!0}),S(Ei)!=="svelte-mygx0s"&&(Ei.textContent=Wa),ir=d(ya,"OPTION",{"data-svelte-h":!0}),S(ir)!=="svelte-m3d7u6"&&(ir.textContent=co),xi=d(ya,"OPTION",{"data-svelte-h":!0}),S(xi)!=="svelte-195wuom"&&(xi.textContent=Ja),ya.forEach(p),Xo.forEach(p),Yi.forEach(p),Qi.forEach(p),ei.forEach(p),Si=b(Dn),_r=d(Dn,"DIV",{class:!0});var Po=g(_r);Rr=d(Po,"BUTTON",{class:!0,"data-svelte-h":!0}),S(Rr)!=="svelte-1bzgqm7"&&(Rr.textContent=uo),Ka=b(Po),Jn=d(Po,"BUTTON",{class:!0});var Oa=g(Jn);Ti.l(Oa),Oa.forEach(p),Po.forEach(p),Dn.forEach(p),Xa.forEach(p),xe.forEach(p),this.h()},h:function(){i(a,"class","text-2xl font-bold text-gray-900"),l(a,c,2600,12,105736),i(_,"stroke-linecap","round"),i(_,"stroke-linejoin","round"),i(_,"stroke-width","2"),i(_,"d","M6 18L18 6M6 6l12 12"),l(_,c,2603,16,106015),i(m,"class","w-6 h-6"),i(m,"fill","none"),i(m,"stroke","currentColor"),i(m,"viewBox","0 0 24 24"),l(m,c,2602,14,105923),i(v,"class","text-gray-400 hover:text-gray-600"),l(v,c,2601,12,105818),i(o,"class","flex justify-between items-center mb-6"),l(o,c,2599,10,105671),i(T,"class","text-lg font-medium text-gray-900 mb-4"),l(T,c,2612,14,106367),i(P,"class","block text-sm font-medium text-gray-700 mb-1"),l(P,c,2615,18,106548),i(L,"type","text"),i(L,"class","input-field"),i(L,"placeholder","e.g., Gold Bars"),l(L,c,2616,18,106647),l(D,c,2614,16,106524),i(X,"class","block text-sm font-medium text-gray-700 mb-1"),l(X,c,2624,18,106925),i(F,"type","text"),i(F,"class","input-field"),i(F,"placeholder","e.g., GB-001-2024"),l(F,c,2625,18,107025),l(Z,c,2623,16,106901),i(le,"class","block text-sm font-medium text-gray-700 mb-1"),l(le,c,2633,18,107313),i(he,"type","number"),i(he,"class","flex-1 input-field"),i(he,"placeholder","0.00"),l(he,c,2635,20,107455),Te.__value="kg",U(Te,Te.__value),l(Te,c,2642,22,107802),ve.__value="g",U(ve,ve.__value),l(ve,c,2643,22,107855),Y.__value="oz",U(Y,Y.__value),l(Y,c,2644,22,107906),i(ie,"class","input-field"),n[12].product_details.weightUnit===void 0&&na(()=>n[80].call(ie)),l(ie,c,2641,20,107700),i(oe,"class","flex space-x-2"),l(oe,c,2634,18,107406),l(me,c,2632,16,107289),i(Be,"class","block text-sm font-medium text-gray-700 mb-1"),l(Be,c,2649,18,108055),i(fe,"type","number"),i(fe,"class","input-field"),i(fe,"placeholder","999.5"),i(fe,"step","0.1"),l(fe,c,2650,18,108148),l(at,c,2648,16,108031),i(ke,"class","block text-sm font-medium text-gray-700 mb-1"),l(ke,c,2659,18,108473),i(Oe,"class","input-field"),i(Oe,"rows","2"),i(Oe,"placeholder","Detailed description of the shipment..."),l(Oe,c,2660,18,108571),i(Ee,"class","md:col-span-2"),l(Ee,c,2658,16,108427),i(k,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(k,c,2613,14,106456),i(Ne,"class","block text-sm font-medium text-gray-700 mb-3"),l(Ne,c,2671,16,108973),i(Ct,"stroke-linecap","round"),i(Ct,"stroke-linejoin","round"),i(Ct,"stroke-width","2"),i(Ct,"d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"),l(Ct,c,2675,22,109335),i(Je,"class","w-5 h-5 text-blue-600"),i(Je,"fill","none"),i(Je,"stroke","currentColor"),i(Je,"viewBox","0 0 24 24"),l(Je,c,2674,20,109223),i(Et,"class","text-sm text-gray-600"),l(Et,c,2677,20,109602),i(ft,"class","flex items-center space-x-2 mb-3"),l(ft,c,2673,18,109156),i(ar,"d","M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02"),i(ar,"stroke-width","2"),i(ar,"stroke-linecap","round"),i(ar,"stroke-linejoin","round"),l(ar,c,2692,22,110594),i(Vt,"class","mx-auto h-12 w-12 text-gray-400"),i(Vt,"stroke","currentColor"),i(Vt,"fill","none"),i(Vt,"viewBox","0 0 48 48"),l(Vt,c,2691,20,110472),i(pt,"class","font-medium text-blue-600 hover:text-blue-500"),l(pt,c,2695,22,110962),i(Se,"class","mt-1 text-sm text-gray-600"),l(Se,c,2694,20,110901),i($e,"class","mt-1 text-xs text-gray-500"),l($e,c,2697,20,111107),i(we,"class","border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors cursor-pointer"),i(we,"role","button"),i(we,"tabindex","0"),i(we,"aria-label","Drag and drop area for image uploads"),l(we,c,2681,18,109787),i(Ve,"id","create-image-upload"),i(Ve,"type","file"),Ve.multiple=!0,i(Ve,"accept","image/*"),i(Ve,"class","hidden"),l(Ve,c,2701,18,111286),i(ae,"class","bg-gray-50 border border-gray-200 rounded-lg p-4"),l(ae,c,2672,16,109075),i(Ye,"class","mt-6"),l(Ye,c,2670,14,108938),i(I,"class","border border-gray-200 rounded-lg p-4"),l(I,c,2611,12,106301),i(Gt,"class","text-lg font-medium text-gray-900 mb-4"),l(Gt,c,2743,14,113470),i(ze,"class","block text-sm font-medium text-gray-700 mb-1"),l(ze,c,2746,18,113654),i(tt,"type","text"),i(tt,"class","input-field"),i(tt,"placeholder","e.g., London Precious Metals Vault"),l(tt,c,2747,18,113756),l(Mt,c,2745,16,113630),i(Qr,"class","block text-sm font-medium text-gray-700 mb-1"),l(Qr,c,2755,18,114048),i(lr,"type","text"),i(lr,"class","input-field"),i(lr,"placeholder","e.g., John Smith - Senior Vault Manager"),l(lr,c,2756,18,114150),l(Is,c,2754,16,114024),i(qs,"class","block text-sm font-medium text-gray-700 mb-1"),l(qs,c,2764,18,114447),i(xt,"type","datetime-local"),i(xt,"class","input-field"),l(xt,c,2765,18,114545),l(bt,c,2763,16,114423),i(vn,"class","block text-sm font-medium text-gray-700 mb-1"),l(vn,c,2772,18,114774),i(Wt,"type","text"),i(Wt,"class","input-field"),i(Wt,"placeholder","e.g., 123 Vault Street, London"),l(Wt,c,2773,18,114875),l(Pt,c,2771,16,114750),i($r,"class","block text-sm font-medium text-gray-700 mb-1"),l($r,c,2782,18,115242),i(gt,"type","text"),i(gt,"class","input-field"),i(gt,"placeholder","e.g., London"),l(gt,c,2783,18,115340),l(Js,c,2781,16,115218),i(ps,"class","block text-sm font-medium text-gray-700 mb-1"),l(ps,c,2791,18,115615),i(xr,"type","text"),i(xr,"class","input-field"),i(xr,"placeholder","e.g., United Kingdom"),l(xr,c,2792,18,115716),l(fs,c,2790,16,115591),i(Fe,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(Fe,c,2744,14,113562),i(x,"class","block text-sm font-medium text-gray-700 mb-2"),l(x,c,2803,16,116081),i(_e,"stroke-linecap","round"),i(_e,"stroke-linejoin","round"),i(_e,"stroke-width","2"),i(_e,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(_e,c,2807,22,116444),i(ue,"stroke-linecap","round"),i(ue,"stroke-linejoin","round"),i(ue,"stroke-width","2"),i(ue,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(ue,c,2808,22,116631),i(ne,"class","w-4 h-4 text-blue-600"),i(ne,"fill","none"),i(ne,"stroke","currentColor"),i(ne,"viewBox","0 0 24 24"),l(ne,c,2806,20,116332),i(Pe,"class","text-xs text-gray-600"),l(Pe,c,2810,20,116793),i(J,"class","flex items-center space-x-2 mb-2"),l(J,c,2805,18,116265),i(ts,"id","create-origin-map"),i(ts,"class","w-full h-32 bg-gray-200 rounded border-2 border-dashed border-gray-300"),l(ts,c,2812,18,116911),i(ut,"class","mt-2 text-xs text-gray-600"),l(ut,c,2813,18,117043),i(Q,"class","bg-gray-50 border border-gray-200 rounded-lg p-3"),l(Q,c,2804,16,116184),i(js,"class","mt-4"),l(js,c,2802,14,116046),i(et,"class","border border-gray-200 rounded-lg p-4"),l(et,c,2742,12,113404),i(te,"class","text-lg font-medium text-gray-900 mb-4"),l(te,c,2822,14,117422),i(zt,"class","block text-sm font-medium text-gray-700 mb-1"),l(zt,c,2825,18,117604),i(nt,"type","text"),i(nt,"class","input-field"),i(nt,"placeholder","e.g., Frankfurt Airport Cargo Terminal"),l(nt,c,2826,18,117707),l(Kt,c,2824,16,117580),i(Dt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Dt,c,2834,18,118004),i(At,"type","text"),i(At,"class","input-field"),i(At,"placeholder","e.g., Maria Schmidt - Cargo Security"),l(At,c,2835,18,118107),l(cr,c,2833,16,117980),i(Ot,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ot,c,2843,18,118402),i(it,"type","text"),i(it,"class","input-field"),i(it,"placeholder","e.g., 456 Cargo Street, Frankfurt"),l(it,c,2844,18,118504),l(ss,c,2842,16,118378),i(Xt,"class","block text-sm font-medium text-gray-700 mb-1"),l(Xt,c,2853,18,118876),i(dt,"type","text"),i(dt,"class","input-field"),i(dt,"placeholder","e.g., Frankfurt"),l(dt,c,2854,18,118975),l(Qs,c,2852,16,118852),i(qt,"class","block text-sm font-medium text-gray-700 mb-1"),l(qt,c,2862,18,119254),i(It,"type","text"),i(It,"class","input-field"),i(It,"placeholder","e.g., Germany"),l(It,c,2863,18,119356),l(vs,c,2861,16,119230),i(vt,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(vt,c,2823,14,117512),i(rs,"class","block text-sm font-medium text-gray-700 mb-2"),l(rs,c,2874,16,119716),i(Ds,"stroke-linecap","round"),i(Ds,"stroke-linejoin","round"),i(Ds,"stroke-width","2"),i(Ds,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(Ds,c,2878,22,120080),i(ns,"stroke-linecap","round"),i(ns,"stroke-linejoin","round"),i(ns,"stroke-width","2"),i(ns,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(ns,c,2879,22,120267),i(br,"class","w-4 h-4 text-blue-600"),i(br,"fill","none"),i(br,"stroke","currentColor"),i(br,"viewBox","0 0 24 24"),l(br,c,2877,20,119968),i(As,"class","text-xs text-gray-600"),l(As,c,2881,20,120429),i(Ir,"class","flex items-center space-x-2 mb-2"),l(Ir,c,2876,18,119901),i(Tr,"id","create-current-map"),i(Tr,"class","w-full h-32 bg-gray-200 rounded border-2 border-dashed border-gray-300"),l(Tr,c,2883,18,120547),i(is,"class","mt-2 text-xs text-gray-600"),l(is,c,2884,18,120680),i(_s,"class","bg-gray-50 border border-gray-200 rounded-lg p-3"),l(_s,c,2875,16,119820),i(sn,"class","mt-4"),l(sn,c,2873,14,119681),i(Ft,"class","border border-gray-200 rounded-lg p-4"),l(Ft,c,2821,12,117356),i(Os,"class","text-lg font-medium text-gray-900 mb-4"),l(Os,c,2893,14,121068),i(ur,"class","block text-sm font-medium text-gray-700 mb-1"),l(ur,c,2896,18,121257),i(De,"type","text"),i(De,"class","input-field"),i(De,"placeholder","e.g., Zurich Gold Vault"),l(De,c,2897,18,121364),l(ot,c,2895,16,121233),i(bs,"class","block text-sm font-medium text-gray-700 mb-1"),l(bs,c,2905,18,121650),i($s,"type","text"),i($s,"class","input-field"),i($s,"placeholder","e.g., Swiss Bank Corp"),l($s,c,2906,18,121751),l(qe,c,2904,16,121626),i(Me,"class","block text-sm font-medium text-gray-700 mb-1"),l(Me,c,2914,18,122029),i(Ze,"type","text"),i(Ze,"class","input-field"),i(Ze,"placeholder","e.g., +41 44 123 4567"),l(Ze,c,2915,18,122133),l(Ut,c,2913,16,122005),i($,"class","block text-sm font-medium text-gray-700 mb-1"),l($,c,2923,18,122414),i(Mr,"type","date"),i(Mr,"class","input-field"),l(Mr,c,2924,18,122519),l(He,c,2922,16,122390),i(fr,"class","block text-sm font-medium text-gray-700 mb-1"),l(fr,c,2931,18,122745),i(wr,"type","text"),i(wr,"class","input-field"),i(wr,"placeholder","e.g., 456 Gold Street, Zurich"),l(wr,c,2932,18,122851),l(Vn,c,2930,16,122721),i(Ls,"class","block text-sm font-medium text-gray-700 mb-1"),l(Ls,c,2941,18,123227),i(Pr,"type","text"),i(Pr,"class","input-field"),i(Pr,"placeholder","e.g., Zurich"),l(Pr,c,2942,18,123330),l(er,c,2940,16,123203),i(zn,"class","block text-sm font-medium text-gray-700 mb-1"),l(zn,c,2950,18,123610),i(Qt,"type","text"),i(Qt,"class","input-field"),i(Qt,"placeholder","e.g., Switzerland"),l(Qt,c,2951,18,123716),l(Fn,c,2949,16,123586),i(lt,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),l(lt,c,2894,14,121165),i(Yn,"class","block text-sm font-medium text-gray-700 mb-2"),l(Yn,c,2962,16,124088),i(ws,"stroke-linecap","round"),i(ws,"stroke-linejoin","round"),i(ws,"stroke-width","2"),i(ws,"d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"),l(ws,c,2966,22,124456),i(Us,"stroke-linecap","round"),i(Us,"stroke-linejoin","round"),i(Us,"stroke-width","2"),i(Us,"d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"),l(Us,c,2967,22,124643),i(rr,"class","w-5 h-5 text-blue-600"),i(rr,"fill","none"),i(rr,"stroke","currentColor"),i(rr,"viewBox","0 0 24 24"),l(rr,c,2965,20,124344),i(an,"class","text-sm text-gray-600"),l(an,c,2969,20,124805),i(on,"class","flex items-center space-x-2 mb-3"),l(on,c,2964,18,124277),i(ln,"id","create-destination-map"),i(ln,"class","w-full h-48 bg-gray-200 rounded-lg border-2 border-dashed border-gray-300"),l(ln,c,2973,18,124989),i(qn,"class","font-medium text-gray-700"),l(qn,c,2978,22,125334),i(Hn,"class","text-blue-600 font-mono"),l(Hn,c,2979,22,125414),i(Rt,"class","bg-white px-3 py-2 rounded border"),l(Rt,c,2977,20,125264),i(os,"class","font-medium text-gray-700"),l(os,c,2982,22,125630),i(Gn,"class","text-blue-600 font-mono"),l(Gn,c,2983,22,125711),i(Hr,"class","bg-white px-3 py-2 rounded border"),l(Hr,c,2981,20,125560),i(ks,"class","mt-3 grid grid-cols-2 gap-4 text-sm"),l(ks,c,2976,18,125194),i(sr,"class","bg-gray-50 border border-gray-200 rounded-lg p-4"),l(sr,c,2963,16,124196),i(gr,"class","mt-4"),l(gr,c,2961,14,124053),i(Zt,"class","border border-gray-200 rounded-lg p-4"),l(Zt,c,2892,12,121002),i(nr,"class","text-lg font-medium text-gray-900 mb-4"),l(nr,c,2992,14,126043),i(Wn,"for","create-journey-status"),i(Wn,"class","block text-sm font-medium text-gray-700 mb-1"),l(Wn,c,2995,18,126225),vr.__value="pending",U(vr,vr.__value),l(vr,c,2997,20,126469),mi.__value="pickup",U(mi,mi.__value),l(mi,c,2998,20,126530),Ar.__value="in-transit",U(Ar,Ar.__value),l(Ar,c,2999,20,126589),yi.__value="delivered",U(yi,yi.__value),l(yi,c,3e3,20,126656),i(_t,"id","create-journey-status"),i(_t,"class","input-field"),n[12].journey_status===void 0&&na(()=>n[109].call(_t)),l(_t,c,2996,18,126354),l(Es,c,2994,16,126201),i(Fi,"for","create-security-level"),i(Fi,"class","block text-sm font-medium text-gray-700 mb-1"),l(Fi,c,3004,18,126792),wi.__value="standard",U(wi,wi.__value),l(wi,c,3006,20,127036),Lr.__value="high",U(Lr,Lr.__value),l(Lr,c,3007,20,127099),ki.__value="maximum",U(ki,ki.__value),l(ki,c,3008,20,127154),i(ls,"id","create-security-level"),i(ls,"class","input-field"),n[12].security_level===void 0&&na(()=>n[110].call(ls)),l(ls,c,3005,18,126921),l(Or,c,3003,16,126768),i(qi,"for","create-verification-status"),i(qi,"class","block text-sm font-medium text-gray-700 mb-1"),l(qi,c,3012,18,127286),Ei.__value="pending",U(Ei,Ei.__value),l(Ei,c,3014,20,127550),ir.__value="verified",U(ir,ir.__value),l(ir,c,3015,20,127611),xi.__value="failed",U(xi,xi.__value),l(xi,c,3016,20,127674),i(cs,"id","create-verification-status"),i(cs,"class","input-field"),n[12].verification_status===void 0&&na(()=>n[111].call(cs)),l(cs,c,3013,18,127425),l(Ur,c,3011,16,127262),i(Dr,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),l(Dr,c,2993,14,126133),i(un,"class","border border-gray-200 rounded-lg p-4"),l(un,c,2991,12,125977),i(E,"class","space-y-6"),l(E,c,2609,10,106228),i(Rr,"class","btn-secondary"),l(Rr,c,3025,12,127954),Jn.disabled=n[1],i(Jn,"class","btn-primary"),l(Jn,c,3028,12,128080),i(_r,"class","flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"),l(_r,c,3024,10,127866),i(r,"class","p-6"),l(r,c,2598,8,105643),i(t,"class","bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"),l(t,c,2597,6,105545),i(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"),l(e,c,2596,4,105446)},m:function(K,xe){Ke(K,e,xe),s(e,t),s(t,r),s(r,o),s(o,a),s(o,f),s(o,v),s(v,m),s(m,_),s(r,C),s(r,E),s(E,I),s(I,T),s(I,w),s(I,k),s(k,D),s(D,P),s(D,M),s(D,L),U(L,n[12].product_details.type),s(k,W),s(k,Z),s(Z,X),s(Z,Qe),s(Z,F),U(F,n[12].product_details.serialNumber),s(k,re),s(k,me),s(me,le),s(me,ce),s(me,oe),s(oe,he),U(he,n[12].product_details.weight),s(oe,ye),s(oe,ie),s(ie,Te),s(ie,ve),s(ie,Y),Jr(ie,n[12].product_details.weightUnit,!0),s(k,pe),s(k,at),s(at,Be),s(at,ht),s(at,fe),U(fe,n[12].product_details.purity),s(k,je),s(k,Ee),s(Ee,ke),s(Ee,ct),s(Ee,Oe),U(Oe,n[12].product_details.description),s(I,Nt),s(I,Ye),s(Ye,Ne),s(Ye,xs),s(Ye,ae),s(ae,ft),s(ft,Je),s(Je,Ct),s(ft,Rn),s(ft,Et),s(ae,us),s(ae,we),s(we,Vt),s(Vt,ar),s(we,Ns),s(we,Se),s(Se,pt),s(Se,mr),s(we,Vs),s(we,$e),s(ae,Ht),s(ae,Ve),s(ae,Xr),Cr&&Cr.m(ae,null),s(E,Zr),s(E,et),s(et,Gt),s(et,yt),s(et,Fe),s(Fe,Mt),s(Mt,ze),s(Mt,ui),s(Mt,tt),U(tt,n[12].origin_facility),s(Fe,Ss),s(Fe,Is),s(Is,Qr),s(Is,zs),s(Is,lr),U(lr,n[12].origin_guardian),s(Fe,hs),s(Fe,bt),s(bt,qs),s(bt,Hs),s(bt,xt),U(xt,n[12].pickup_date),s(Fe,Gs),s(Fe,Pt),s(Pt,vn),s(Pt,Ws),s(Pt,Wt),U(Wt,n[12].origin_location.address),s(Fe,Ts),s(Fe,Js),s(Js,$r),s(Js,$t),s(Js,gt),U(gt,n[12].origin_location.city),s(Fe,yr),s(Fe,fs),s(fs,ps),s(fs,Ks),s(fs,xr),U(xr,n[12].origin_location.country),s(et,di),s(et,js),s(js,x),s(js,z),s(js,Q),s(Q,J),s(J,ne),s(ne,_e),s(ne,ue),s(J,ee),s(J,Pe),s(Q,es),s(Q,ts),s(Q,Xs),s(Q,ut),s(ut,Ps),s(ut,Sr),s(ut,Zs),s(ut,St),s(E,Jt),s(E,Ft),s(Ft,te),s(Ft,en),s(Ft,vt),s(vt,Kt),s(Kt,zt),s(Kt,to),s(Kt,nt),U(nt,n[12].current_facility),s(vt,_o),s(vt,cr),s(cr,Dt),s(cr,tn),s(cr,At),U(At,n[12].current_guardian),s(vt,so),s(vt,ss),s(ss,Ot),s(ss,gs),s(ss,it),U(it,n[12].current_location.address),s(vt,mo),s(vt,Qs),s(Qs,Xt),s(Qs,ro),s(Qs,dt),U(dt,n[12].current_location.city),s(vt,bn),s(vt,vs),s(vs,qt),s(vs,no),s(vs,It),U(It,n[12].current_location.country),s(Ft,Bo),s(Ft,sn),s(sn,rs),s(sn,Vr),s(sn,_s),s(_s,Ir),s(Ir,br),s(br,Ds),s(br,ns),s(Ir,wn),s(Ir,As),s(_s,kn),s(_s,Tr),s(_s,Cn),s(_s,is),s(is,En),s(is,yo),s(is,io),s(is,fi),s(E,xn),s(E,Zt),s(Zt,Os),s(Zt,jr),s(Zt,lt),s(lt,ot),s(ot,ur),s(ot,rn),s(ot,De),U(De,n[12].destination_facility),s(lt,ys),s(lt,qe),s(qe,bs),s(qe,Ys),s(qe,$s),U($s,n[12].recipient_name),s(lt,Xe),s(lt,Ut),s(Ut,Me),s(Ut,Vo),s(Ut,Ze),U(Ze,n[12].recipient_contact),s(lt,q),s(lt,He),s(He,$),s(He,Mo),s(He,Mr),U(Mr,n[12].estimated_delivery),s(lt,hr),s(lt,Vn),s(Vn,fr),s(Vn,nn),s(Vn,wr),U(wr,n[12].destination_location.address),s(lt,Fr),s(lt,er),s(er,Ls),s(er,Tn),s(er,Pr),U(Pr,n[12].destination_location.city),s(lt,Mn),s(lt,Fn),s(Fn,zn),s(Fn,Bi),s(Fn,Qt),U(Qt,n[12].destination_location.country),s(Zt,zr),s(Zt,gr),s(gr,Yn),s(gr,tr),s(gr,sr),s(sr,on),s(on,rr),s(rr,ws),s(rr,Us),s(on,ao),s(on,an),s(sr,Ni),s(sr,ln),s(sr,Vi),s(sr,ks),s(ks,Rt),s(Rt,qn),s(Rt,qr),s(Rt,Hn),s(Hn,Cs),s(ks,gi),s(ks,Hr),s(Hr,os),s(Hr,jn),s(Hr,Gn),s(Gn,as),s(E,cn),s(E,un),s(un,nr),s(un,dn),s(un,Dr),s(Dr,Es),s(Es,Wn),s(Es,lo),s(Es,_t),s(_t,vr),s(_t,mi),s(_t,Ar),s(_t,yi),Jr(_t,n[12].journey_status,!0),s(Dr,hn),s(Dr,Or),s(Or,Fi),s(Or,za),s(Or,ls),s(ls,wi),s(ls,Lr),s(ls,ki),Jr(ls,n[12].security_level,!0),s(Dr,fn),s(Dr,Ur),s(Ur,qi),s(Ur,Ga),s(Ur,cs),s(cs,Ei),s(cs,ir),s(cs,xi),Jr(cs,n[12].verification_status,!0),s(r,Si),s(r,_r),s(_r,Rr),s(_r,Ka),s(_r,Jn),Ti.m(Jn,null),Hi||(Tl=[N(v,"click",n[76],!1,!1,!1,!1),N(L,"input",n[77]),N(F,"input",n[78]),N(he,"input",n[79]),N(ie,"change",n[80]),N(fe,"input",n[81]),N(Oe,"input",n[82]),N(we,"click",n[83],!1,!1,!1,!1),N(we,"keydown",n[84],!1,!1,!1,!1),N(we,"dragover",f0,!1,!1,!1,!1),N(we,"drop",n[85],!1,!1,!1,!1),N(Ve,"change",n[86],!1,!1,!1,!1),N(tt,"input",n[88]),N(lr,"input",n[89]),N(xt,"input",n[90]),N(Wt,"input",n[91]),N(Wt,"blur",n[92],!1,!1,!1,!1),N(gt,"input",n[93]),N(xr,"input",n[94]),N(nt,"input",n[95]),N(At,"input",n[96]),N(it,"input",n[97]),N(it,"blur",n[98],!1,!1,!1,!1),N(dt,"input",n[99]),N(It,"input",n[100]),N(De,"input",n[101]),N($s,"input",n[102]),N(Ze,"input",n[103]),N(Mr,"input",n[104]),N(wr,"input",n[105]),N(wr,"blur",n[106],!1,!1,!1,!1),N(Pr,"input",n[107]),N(Qt,"input",n[108]),N(_t,"change",n[109]),N(ls,"change",n[110]),N(cs,"change",n[111]),N(Rr,"click",n[112],!1,!1,!1,!1),N(Jn,"click",n[28],!1,!1,!1,!1)],Hi=!0)},p:function(K,xe){xe[0]&4096&&L.value!==K[12].product_details.type&&U(L,K[12].product_details.type),xe[0]&4096&&F.value!==K[12].product_details.serialNumber&&U(F,K[12].product_details.serialNumber),xe[0]&4096&&Uo(he.value)!==K[12].product_details.weight&&U(he,K[12].product_details.weight),xe[0]&4096&&Jr(ie,K[12].product_details.weightUnit),xe[0]&4096&&Uo(fe.value)!==K[12].product_details.purity&&U(fe,K[12].product_details.purity),xe[0]&4096&&U(Oe,K[12].product_details.description),K[12].product_details.photos&&K[12].product_details.photos.length>0?Cr?Cr.p(K,xe):(Cr=Ju(K),Cr.c(),Cr.m(ae,null)):Cr&&(Cr.d(1),Cr=null),xe[0]&4096&&tt.value!==K[12].origin_facility&&U(tt,K[12].origin_facility),xe[0]&4096&&lr.value!==K[12].origin_guardian&&U(lr,K[12].origin_guardian),xe[0]&4096&&U(xt,K[12].pickup_date),xe[0]&4096&&Wt.value!==K[12].origin_location.address&&U(Wt,K[12].origin_location.address),xe[0]&4096&&gt.value!==K[12].origin_location.city&&U(gt,K[12].origin_location.city),xe[0]&4096&&xr.value!==K[12].origin_location.country&&U(xr,K[12].origin_location.country),xe[0]&4096&&Bn!==(Bn=K[12].origin_location.latitude.toFixed(6)+"")&&de(Sr,Bn),xe[0]&4096&&mn!==(mn=K[12].origin_location.longitude.toFixed(6)+"")&&de(St,mn),xe[0]&4096&&nt.value!==K[12].current_facility&&U(nt,K[12].current_facility),xe[0]&4096&&At.value!==K[12].current_guardian&&U(At,K[12].current_guardian),xe[0]&4096&&it.value!==K[12].current_location.address&&U(it,K[12].current_location.address),xe[0]&4096&&dt.value!==K[12].current_location.city&&U(dt,K[12].current_location.city),xe[0]&4096&&It.value!==K[12].current_location.country&&U(It,K[12].current_location.country),xe[0]&4096&&ms!==(ms=K[12].current_location.latitude.toFixed(6)+"")&&de(yo,ms),xe[0]&4096&&wt!==(wt=K[12].current_location.longitude.toFixed(6)+"")&&de(fi,wt),xe[0]&4096&&De.value!==K[12].destination_facility&&U(De,K[12].destination_facility),xe[0]&4096&&$s.value!==K[12].recipient_name&&U($s,K[12].recipient_name),xe[0]&4096&&Ze.value!==K[12].recipient_contact&&U(Ze,K[12].recipient_contact),xe[0]&4096&&U(Mr,K[12].estimated_delivery),xe[0]&4096&&wr.value!==K[12].destination_location.address&&U(wr,K[12].destination_location.address),xe[0]&4096&&Pr.value!==K[12].destination_location.city&&U(Pr,K[12].destination_location.city),xe[0]&4096&&Qt.value!==K[12].destination_location.country&&U(Qt,K[12].destination_location.country),xe[0]&4096&&kr!==(kr=K[12].destination_location.latitude.toFixed(6)+"")&&de(Cs,kr),xe[0]&4096&&vi!==(vi=K[12].destination_location.longitude.toFixed(6)+"")&&de(as,vi),xe[0]&4096&&Jr(_t,K[12].journey_status),xe[0]&4096&&Jr(ls,K[12].security_level),xe[0]&4096&&Jr(cs,K[12].verification_status),Ii!==(Ii=Gi(K))&&(Ti.d(1),Ti=Ii(K),Ti&&(Ti.c(),Ti.m(Jn,null))),xe[0]&2&&Lo(Jn,"disabled",K[1])},d:function(K){K&&p(e),Cr&&Cr.d(),Ti.d(),Hi=!1,xl(Tl)}};return mt("SvelteRegisterBlock",{block:Ta,id:Wu.name,type:"if",source:"(2596:2) {#if showCreateForm}",ctx:n}),Ta}function Ju(n){let e,t,r,o=n[12].product_details.photos.length+"",a,h,f,v,m=Ro(n[12].product_details.photos),_=[];for(let E=0;E<m.length;E+=1)_[E]=Ku(Wd(n,m,E));const C={c:function(){e=u("div"),t=u("h4"),r=R("Uploaded Images ("),a=R(o),h=R(")"),f=y(),v=u("div");for(let I=0;I<_.length;I+=1)_[I].c();this.h()},l:function(I){e=d(I,"DIV",{class:!0});var T=g(e);t=d(T,"H4",{class:!0});var O=g(t);r=B(O,"Uploaded Images ("),a=B(O,o),h=B(O,")"),O.forEach(p),f=b(T),v=d(T,"DIV",{class:!0});var w=g(v);for(let k=0;k<_.length;k+=1)_[k].l(w);w.forEach(p),T.forEach(p),this.h()},h:function(){i(t,"class","text-sm font-medium text-gray-700 mb-2"),l(t,c,2713,22,111790),i(v,"class","grid grid-cols-2 md:grid-cols-4 gap-3"),l(v,c,2714,22,111929),i(e,"class","mt-4"),l(e,c,2712,20,111749)},m:function(I,T){Ke(I,e,T),s(e,t),s(t,r),s(t,a),s(t,h),s(e,f),s(e,v);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(v,null)},p:function(I,T){if(T[0]&4096&&o!==(o=I[12].product_details.photos.length+"")&&de(a,o),T[0]&4096|T[1]&8){m=Ro(I[12].product_details.photos);let O;for(O=0;O<m.length;O+=1){const w=Wd(I,m,O);_[O]?_[O].p(w,T):(_[O]=Ku(w),_[O].c(),_[O].m(v,null))}for(;O<_.length;O+=1)_[O].d(1);_.length=m.length}},d:function(I){I&&p(e),Bl(_,I)}};return mt("SvelteRegisterBlock",{block:C,id:Ju.name,type:"if",source:"(2712:18) {#if createForm.product_details.photos && createForm.product_details.photos.length > 0}",ctx:n}),C}function Ku(n){let e,t,r,o,a,h,f,v,m,_;function C(){return n[87](n[122])}const E={c:function(){e=u("div"),t=u("img"),o=y(),a=u("button"),h=H("svg"),f=H("path"),v=y(),this.h()},l:function(T){e=d(T,"DIV",{class:!0});var O=g(e);t=d(O,"IMG",{src:!0,alt:!0,class:!0}),o=b(O),a=d(O,"BUTTON",{type:!0,class:!0,title:!0});var w=g(a);h=G(w,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var k=g(h);f=G(k,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(f).forEach(p),k.forEach(p),w.forEach(p),v=b(O),O.forEach(p),this.h()},h:function(){Cl(t.src,r=n[120])||i(t,"src",r),i(t,"alt","Product image "+(n[122]+1)),i(t,"class","w-full h-24 object-cover rounded-lg border border-gray-200"),l(t,c,2717,28,112146),i(f,"stroke-linecap","round"),i(f,"stroke-linejoin","round"),i(f,"stroke-width","2"),i(f,"d","M6 18L18 6M6 6l12 12"),l(f,c,2729,32,112965),i(h,"class","w-4 h-4"),i(h,"fill","none"),i(h,"stroke","currentColor"),i(h,"viewBox","0 0 24 24"),l(h,c,2728,30,112857),i(a,"type","button"),i(a,"class","absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600"),i(a,"title","Remove image"),l(a,c,2722,28,112413),i(e,"class","relative group"),l(e,c,2716,26,112089)},m:function(T,O){Ke(T,e,O),s(e,t),s(e,o),s(e,a),s(a,h),s(h,f),s(e,v),m||(_=N(a,"click",C,!1,!1,!1,!1),m=!0)},p:function(T,O){n=T,O[0]&4096&&!Cl(t.src,r=n[120])&&i(t,"src",r)},d:function(T){T&&p(e),m=!1,_()}};return mt("SvelteRegisterBlock",{block:E,id:Ku.name,type:"each",source:"(2716:24) {#each createForm.product_details.photos as photo, index}",ctx:n}),E}function Uh(n){let e;const t={c:function(){e=R("🚀 Create Shipment & Generate Code")},l:function(o){e=B(o,"🚀 Create Shipment & Generate Code")},m:function(o,a){Ke(o,e,a)},d:function(o){o&&p(e)}};return mt("SvelteRegisterBlock",{block:t,id:Uh.name,type:"else",source:"(3032:14) {:else}",ctx:n}),t}function Rh(n){let e;const t={c:function(){e=u("div"),this.h()},l:function(o){e=d(o,"DIV",{class:!0}),g(e).forEach(p),this.h()},h:function(){i(e,"class","loading-spinner mx-auto"),l(e,c,3030,16,128206)},m:function(o,a){Ke(o,e,a)},d:function(o){o&&p(e)}};return mt("SvelteRegisterBlock",{block:t,id:Rh.name,type:"if",source:"(3030:14) {#if loading}",ctx:n}),t}function Xu(n){let e,t,r,o,a,h,f,v,m,_,C,E,I="Admin Panel",T,O,w="Kier Logistics Management",k,D,P,A,M,L,W,Z,X,Ue,Qe,F,re,me,le,ge,ce,oe,he,ye,ie,Te,be,ve,Ae,Y,Re,pe,at,Be,We,ht,fe,je,Ee,ke,Kr,ct,Oe,Nt="Generate Secure Tracking Codes",Ye,Ne,or="Create new XXX-XXXX-XXXX format codes",xs,ae,ft,Je,Ct="Single Code",Rn,Et,Bs,us,we,Vt="Multiple Codes",ar,Ns,Se,pt,Ce,mr,Vs,$e,Ms,Ht,Ve,Xr="Maximum 100 codes at once",Zr,et,Gt,Fs,yt,Fe,Mt,ze,ds,ui,tt,Ss,Is="Code Format",Qr,Yr,zs="Secure tracking code specifications",lr,hs,bt,qs,eo="Format: XXX-XXXX-XXXX",Hs,xt,Gs,Pt,vn="Example:",Ui,Ws,Wt,Ts,Js="Total Length:",$r,Ri,$t,gt,yr="Character Set:",fs,ps,_n,Ks,xr="Security:",di,js,x,j,z="Security Features",Q,J,ne,_e="• No ambiguous characters (0/O, 1/I, etc.)",ue,ee,Pe="• Hyphen-separated for easy reading",st,es,ts="• Cryptographically secure random generation",Xs,ut,Ps="• Unique code validation",Bn,Sr,Zs="• Format validation with regex",mn,St,Jt,Ft,te,rt,en,vt,Kt,zt,ia="Active Tracking Codes",to,nt,_o="Manage existing tracking codes",cr,Dt,yn,tn,At,so,ss,Ot,hi,gs,it,mo="Tracking Code",Qs,Xt,oa="Status",ro,dt,bn="Created",vs,qt,Nn="Last Accessed",no,It,Bo="Access Count",sn,rs,No="Actions",Vr,_s,Ir,br,Ds,ns,wn,As,Lt,kn,Tr,Cn,is="Shipment Management",En,ms,yo="Edit shipment details and tracking information",io,wt,fi,xn,Zt,Os,bo,jr,lt=(!Le||!Le.from)&&Th(n),ot=n[5]&&Bu(n);function ur(Ze,q){return Ze[1]?Ph:jh}let wo=ur(n),rn=wo(n),De=n[4]&&Nu(n),ys=n[2]&&Vu(n),qe=n[5]&&Mu(n),bs=Ro(n[3]),kt=[];for(let Ze=0;Ze<bs.length;Ze+=1)kt[Ze]=Fu(Kd(n,bs,Ze));let Ys=n[3].length===0&&zu(n),$s=Ro(n[0]),Xe=[];for(let Ze=0;Ze<$s.length;Ze+=1)Xe[Ze]=qu(Jd(n,$s,Ze));let Ut=n[0].length===0&&Hu(n),Me=n[8]&&Gu(n),Tt=n[10]&&Wu(n);const Vo={c:function(){e=y(),t=u("div"),r=u("header"),o=u("div"),a=u("div"),h=u("div"),f=u("div"),v=H("svg"),m=H("path"),_=y(),C=u("div"),E=u("h1"),E.textContent=I,T=y(),O=u("p"),O.textContent=w,k=y(),D=u("div"),P=u("button"),A=H("svg"),M=H("path"),L=R(`
            Create Shipment`),W=y(),Z=u("button"),X=H("svg"),Ue=H("path"),Qe=R(`
            Test DB`),F=y(),re=u("button"),me=H("svg"),le=H("path"),ge=R(`
            Test Tables`),ce=y(),oe=u("button"),he=H("svg"),ye=H("path"),ie=R(`
            Test Connection`),Te=y(),be=u("a"),ve=H("svg"),Ae=H("path"),Y=R(`
            Back to Tracking`),Re=y(),pe=u("main"),lt&&lt.c(),at=y(),ot&&ot.c(),Be=y(),We=u("div"),ht=u("div"),fe=u("div"),je=u("div"),Ee=H("svg"),ke=H("path"),Kr=y(),ct=u("div"),Oe=u("h2"),Oe.textContent=Nt,Ye=y(),Ne=u("p"),Ne.textContent=or,xs=y(),ae=u("div"),ft=u("div"),Je=u("h3"),Je.textContent=Ct,Rn=y(),Et=u("button"),rn.c(),Bs=y(),us=u("div"),we=u("h3"),we.textContent=Vt,ar=y(),Ns=u("div"),Se=u("input"),pt=y(),Ce=u("button"),mr=R("Generate "),Vs=R(n[6]),$e=R(" Codes"),Ht=y(),Ve=u("p"),Ve.textContent=Xr,Zr=y(),De&&De.c(),et=y(),ys&&ys.c(),Gt=y(),qe&&qe.c(),Fs=y(),yt=u("div"),Fe=u("div"),Mt=u("div"),ze=H("svg"),ds=H("path"),ui=y(),tt=u("div"),Ss=u("h2"),Ss.textContent=Is,Qr=y(),Yr=u("p"),Yr.textContent=zs,lr=y(),hs=u("div"),bt=u("div"),qs=u("h3"),qs.textContent=eo,Hs=y(),xt=u("div"),Gs=u("p"),Pt=u("strong"),Pt.textContent=vn,Ui=R(" ABC-1234-DEF5"),Ws=y(),Wt=u("p"),Ts=u("strong"),Ts.textContent=Js,$r=R(" 14 characters (including hyphens)"),Ri=y(),$t=u("p"),gt=u("strong"),gt.textContent=yr,fs=R(" A-H, J-N, P-Z, 2-9 (no ambiguous chars)"),ps=y(),_n=u("p"),Ks=u("strong"),Ks.textContent=xr,di=R(" 11^11 possible combinations"),js=y(),x=u("div"),j=u("h3"),j.textContent=z,Q=y(),J=u("ul"),ne=u("li"),ne.textContent=_e,ue=y(),ee=u("li"),ee.textContent=Pe,st=y(),es=u("li"),es.textContent=ts,Xs=y(),ut=u("li"),ut.textContent=Ps,Bn=y(),Sr=u("li"),Sr.textContent=Zs,mn=y(),St=u("div"),Jt=u("div"),Ft=u("div"),te=u("div"),rt=H("svg"),en=H("path"),vt=y(),Kt=u("div"),zt=u("h2"),zt.textContent=ia,to=y(),nt=u("p"),nt.textContent=_o,cr=y(),Dt=u("button"),yn=H("svg"),tn=H("path"),At=R(`
          Refresh`),so=y(),ss=u("div"),Ot=u("table"),hi=u("thead"),gs=u("tr"),it=u("th"),it.textContent=mo,Qs=y(),Xt=u("th"),Xt.textContent=oa,ro=y(),dt=u("th"),dt.textContent=bn,vs=y(),qt=u("th"),qt.textContent=Nn,no=y(),It=u("th"),It.textContent=Bo,sn=y(),rs=u("th"),rs.textContent=No,Vr=y(),_s=u("tbody");for(let q=0;q<kt.length;q+=1)kt[q].c();Ir=y(),Ys&&Ys.c(),br=y(),Ds=u("div"),ns=u("div"),wn=u("div"),As=H("svg"),Lt=H("path"),kn=y(),Tr=u("div"),Cn=u("h2"),Cn.textContent=is,En=y(),ms=u("p"),ms.textContent=yo,io=y(),wt=u("div");for(let q=0;q<Xe.length;q+=1)Xe[q].c();fi=y(),Ut&&Ut.c(),xn=y(),Me&&Me.c(),Zt=y(),Tt&&Tt.c(),this.h()},l:function(q){Bh("svelte-1haqte1",Gd.head).forEach(p),e=b(q),t=d(q,"DIV",{class:!0});var $=g(t);r=d($,"HEADER",{class:!0});var dr=g(r);o=d(dr,"DIV",{class:!0});var Mo=g(o);a=d(Mo,"DIV",{class:!0});var Mr=g(a);h=d(Mr,"DIV",{class:!0});var hr=g(h);f=d(hr,"DIV",{class:!0});var Vn=g(f);v=G(Vn,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var fr=g(v);m=G(fr,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(m).forEach(p),fr.forEach(p),Vn.forEach(p),_=b(hr),C=d(hr,"DIV",{});var Sn=g(C);E=d(Sn,"H1",{class:!0,"data-svelte-h":!0}),S(E)!=="svelte-1d8jd3e"&&(E.textContent=I),T=b(Sn),O=d(Sn,"P",{class:!0,"data-svelte-h":!0}),S(O)!=="svelte-1ehpnr2"&&(O.textContent=w),Sn.forEach(p),hr.forEach(p),k=b(Mr),D=d(Mr,"DIV",{class:!0});var nn=g(D);P=d(nn,"BUTTON",{class:!0,title:!0});var wr=g(P);A=G(wr,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Fr=g(A);M=G(Fr,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(M).forEach(p),Fr.forEach(p),L=B(wr,`
            Create Shipment`),wr.forEach(p),W=b(nn),Z=d(nn,"BUTTON",{class:!0,title:!0});var er=g(Z);X=G(er,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ls=g(X);Ue=G(Ls,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Ue).forEach(p),Ls.forEach(p),Qe=B(er,`
            Test DB`),er.forEach(p),F=b(nn),re=d(nn,"BUTTON",{class:!0,title:!0});var In=g(re);me=G(In,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Tn=g(me);le=G(Tn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(le).forEach(p),Tn.forEach(p),ge=B(In,`
            Test Tables`),In.forEach(p),ce=b(nn),oe=d(nn,"BUTTON",{class:!0,title:!0});var Pr=g(oe);he=G(Pr,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Mn=g(he);ye=G(Mn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ye).forEach(p),Mn.forEach(p),ie=B(Pr,`
            Test Connection`),Pr.forEach(p),Te=b(nn),be=d(nn,"A",{href:!0,class:!0});var Fn=g(be);ve=G(Fn,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var zn=g(ve);Ae=G(zn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Ae).forEach(p),zn.forEach(p),Y=B(Fn,`
            Back to Tracking`),Fn.forEach(p),nn.forEach(p),Mr.forEach(p),Mo.forEach(p),dr.forEach(p),Re=b($),pe=d($,"MAIN",{class:!0});var pr=g(pe);lt&&lt.l(pr),at=b(pr),ot&&ot.l(pr),Be=b(pr),We=d(pr,"DIV",{class:!0});var Bi=g(We);ht=d(Bi,"DIV",{class:!0});var Qt=g(ht);fe=d(Qt,"DIV",{class:!0});var zr=g(fe);je=d(zr,"DIV",{class:!0});var gr=g(je);Ee=G(gr,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Yn=g(Ee);ke=G(Yn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ke).forEach(p),Yn.forEach(p),gr.forEach(p),Kr=b(zr),ct=d(zr,"DIV",{});var oo=g(ct);Oe=d(oo,"H2",{class:!0,"data-svelte-h":!0}),S(Oe)!=="svelte-1dg61au"&&(Oe.textContent=Nt),Ye=b(oo),Ne=d(oo,"P",{class:!0,"data-svelte-h":!0}),S(Ne)!=="svelte-1wvmzmk"&&(Ne.textContent=or),oo.forEach(p),zr.forEach(p),xs=b(Qt),ae=d(Qt,"DIV",{class:!0});var tr=g(ae);ft=d(tr,"DIV",{class:!0});var sr=g(ft);Je=d(sr,"H3",{class:!0,"data-svelte-h":!0}),S(Je)!=="svelte-10orzbw"&&(Je.textContent=Ct),Rn=b(sr),Et=d(sr,"BUTTON",{class:!0});var on=g(Et);rn.l(on),on.forEach(p),sr.forEach(p),Bs=b(tr),us=d(tr,"DIV",{class:!0});var rr=g(us);we=d(rr,"H3",{class:!0,"data-svelte-h":!0}),S(we)!=="svelte-vyonx"&&(we.textContent=Vt),ar=b(rr),Ns=d(rr,"DIV",{class:!0});var ws=g(Ns);Se=d(ws,"INPUT",{type:!0,min:!0,max:!0,class:!0,placeholder:!0}),pt=b(ws),Ce=d(ws,"BUTTON",{class:!0});var Us=g(Ce);mr=B(Us,"Generate "),Vs=B(Us,n[6]),$e=B(Us," Codes"),Us.forEach(p),ws.forEach(p),Ht=b(rr),Ve=d(rr,"P",{class:!0,"data-svelte-h":!0}),S(Ve)!=="svelte-10h3t1k"&&(Ve.textContent=Xr),rr.forEach(p),Zr=b(tr),De&&De.l(tr),et=b(tr),ys&&ys.l(tr),Gt=b(tr),qe&&qe.l(tr),tr.forEach(p),Qt.forEach(p),Fs=b(Bi),yt=d(Bi,"DIV",{class:!0});var ao=g(yt);Fe=d(ao,"DIV",{class:!0});var an=g(Fe);Mt=d(an,"DIV",{class:!0});var pi=g(Mt);ze=G(pi,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Ni=g(ze);ds=G(Ni,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(ds).forEach(p),Ni.forEach(p),pi.forEach(p),ui=b(an),tt=d(an,"DIV",{});var ln=g(tt);Ss=d(ln,"H2",{class:!0,"data-svelte-h":!0}),S(Ss)!=="svelte-1i36pd5"&&(Ss.textContent=Is),Qr=b(ln),Yr=d(ln,"P",{class:!0,"data-svelte-h":!0}),S(Yr)!=="svelte-15hks9m"&&(Yr.textContent=zs),ln.forEach(p),an.forEach(p),lr=b(ao),hs=d(ao,"DIV",{class:!0});var Vi=g(hs);bt=d(Vi,"DIV",{class:!0});var ks=g(bt);qs=d(ks,"H3",{class:!0,"data-svelte-h":!0}),S(qs)!=="svelte-175228g"&&(qs.textContent=eo),Hs=b(ks),xt=d(ks,"DIV",{class:!0});var Rt=g(xt);Gs=d(Rt,"P",{});var qn=g(Gs);Pt=d(qn,"STRONG",{"data-svelte-h":!0}),S(Pt)!=="svelte-dxly1o"&&(Pt.textContent=vn),Ui=B(qn," ABC-1234-DEF5"),qn.forEach(p),Ws=b(Rt),Wt=d(Rt,"P",{});var ko=g(Wt);Ts=d(ko,"STRONG",{"data-svelte-h":!0}),S(Ts)!=="svelte-12pco0q"&&(Ts.textContent=Js),$r=B(ko," 14 characters (including hyphens)"),ko.forEach(p),Ri=b(Rt),$t=d(Rt,"P",{});var qr=g($t);gt=d(qr,"STRONG",{"data-svelte-h":!0}),S(gt)!=="svelte-qrft1b"&&(gt.textContent=yr),fs=B(qr," A-H, J-N, P-Z, 2-9 (no ambiguous chars)"),qr.forEach(p),ps=b(Rt),_n=d(Rt,"P",{});var Hn=g(_n);Ks=d(Hn,"STRONG",{"data-svelte-h":!0}),S(Ks)!=="svelte-gibuva"&&(Ks.textContent=xr),di=B(Hn," 11^11 possible combinations"),Hn.forEach(p),Rt.forEach(p),ks.forEach(p),js=b(Vi),x=d(Vi,"DIV",{class:!0});var kr=g(x);j=d(kr,"H3",{class:!0,"data-svelte-h":!0}),S(j)!=="svelte-9scgxb"&&(j.textContent=z),Q=b(kr),J=d(kr,"UL",{class:!0});var Cs=g(J);ne=d(Cs,"LI",{"data-svelte-h":!0}),S(ne)!=="svelte-5dhm6x"&&(ne.textContent=_e),ue=b(Cs),ee=d(Cs,"LI",{"data-svelte-h":!0}),S(ee)!=="svelte-1ye5a8r"&&(ee.textContent=Pe),st=b(Cs),es=d(Cs,"LI",{"data-svelte-h":!0}),S(es)!=="svelte-nilq2z"&&(es.textContent=ts),Xs=b(Cs),ut=d(Cs,"LI",{"data-svelte-h":!0}),S(ut)!=="svelte-11ry5ll"&&(ut.textContent=Ps),Bn=b(Cs),Sr=d(Cs,"LI",{"data-svelte-h":!0}),S(Sr)!=="svelte-9elvi7"&&(Sr.textContent=Zs),Cs.forEach(p),kr.forEach(p),Vi.forEach(p),ao.forEach(p),Bi.forEach(p),mn=b(pr),St=d(pr,"DIV",{class:!0});var gi=g(St);Jt=d(gi,"DIV",{class:!0});var Hr=g(Jt);Ft=d(Hr,"DIV",{class:!0});var os=g(Ft);te=d(os,"DIV",{class:!0});var $n=g(te);rt=G($n,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var jn=g(rt);en=G(jn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(en).forEach(p),jn.forEach(p),$n.forEach(p),vt=b(os),Kt=d(os,"DIV",{});var Gn=g(Kt);zt=d(Gn,"H2",{class:!0,"data-svelte-h":!0}),S(zt)!=="svelte-1p7gmaq"&&(zt.textContent=ia),to=b(Gn),nt=d(Gn,"P",{class:!0,"data-svelte-h":!0}),S(nt)!=="svelte-1qksh78"&&(nt.textContent=_o),Gn.forEach(p),os.forEach(p),cr=b(Hr),Dt=d(Hr,"BUTTON",{class:!0});var vi=g(Dt);yn=G(vi,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var as=g(yn);tn=G(as,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(tn).forEach(p),as.forEach(p),At=B(vi,`
          Refresh`),vi.forEach(p),Hr.forEach(p),so=b(gi),ss=d(gi,"DIV",{class:!0});var cn=g(ss);Ot=d(cn,"TABLE",{class:!0});var un=g(Ot);hi=d(un,"THEAD",{class:!0});var nr=g(hi);gs=d(nr,"TR",{});var Gr=g(gs);it=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(it)!=="svelte-zaklhg"&&(it.textContent=mo),Qs=b(Gr),Xt=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(Xt)!=="svelte-1b7bi28"&&(Xt.textContent=oa),ro=b(Gr),dt=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(dt)!=="svelte-ttr0ay"&&(dt.textContent=bn),vs=b(Gr),qt=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(qt)!=="svelte-1mu00kb"&&(qt.textContent=Nn),no=b(Gr),It=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(It)!=="svelte-5ldi1j"&&(It.textContent=Bo),sn=b(Gr),rs=d(Gr,"TH",{class:!0,"data-svelte-h":!0}),S(rs)!=="svelte-1up9d47"&&(rs.textContent=No),Gr.forEach(p),nr.forEach(p),Vr=b(un),_s=d(un,"TBODY",{class:!0});var dn=g(_s);for(let vr=0;vr<kt.length;vr+=1)kt[vr].l(dn);dn.forEach(p),un.forEach(p),cn.forEach(p),Ir=b(gi),Ys&&Ys.l(gi),gi.forEach(p),br=b(pr),Ds=d(pr,"DIV",{class:!0});var Dr=g(Ds);ns=d(Dr,"DIV",{class:!0});var Es=g(ns);wn=d(Es,"DIV",{class:!0});var Wn=g(wn);As=G(Wn,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var Pn=g(As);Lt=G(Pn,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(Lt).forEach(p),Pn.forEach(p),Wn.forEach(p),kn=b(Es),Tr=d(Es,"DIV",{});var lo=g(Tr);Cn=d(lo,"H2",{class:!0,"data-svelte-h":!0}),S(Cn)!=="svelte-1rtrem2"&&(Cn.textContent=is),En=b(lo),ms=d(lo,"P",{class:!0,"data-svelte-h":!0}),S(ms)!=="svelte-1ovez81"&&(ms.textContent=yo),lo.forEach(p),Es.forEach(p),io=b(Dr),wt=d(Dr,"DIV",{class:!0});var _t=g(wt);for(let vr=0;vr<Xe.length;vr+=1)Xe[vr].l(_t);fi=b(_t),Ut&&Ut.l(_t),_t.forEach(p),Dr.forEach(p),pr.forEach(p),xn=b($),Me&&Me.l($),Zt=b($),Tt&&Tt.l($),$.forEach(p),this.h()},h:function(){Gd.title="Admin - Gold Shipment Tracker",i(m,"stroke-linecap","round"),i(m,"stroke-linejoin","round"),i(m,"stroke-width","2"),i(m,"d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"),l(m,c,1623,14,59342),i(v,"class","w-6 h-6 text-white"),i(v,"fill","none"),i(v,"stroke","currentColor"),i(v,"viewBox","0 0 24 24"),l(v,c,1622,12,59241),i(f,"class","w-10 h-10 bg-gradient-to-br from-red-400 to-red-600 rounded-lg flex items-center justify-center"),l(f,c,1621,10,59119),i(E,"class","text-2xl font-bold text-gray-900"),l(E,c,1627,12,59589),i(O,"class","text-sm text-gray-600"),l(O,c,1628,12,59663),l(C,c,1626,10,59571),i(h,"class","flex items-center space-x-3"),l(h,c,1620,8,59067),i(M,"stroke-linecap","round"),i(M,"stroke-linejoin","round"),i(M,"stroke-width","2"),i(M,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),l(M,c,1649,14,60563),i(A,"class","w-4 h-4 mr-2"),i(A,"fill","none"),i(A,"stroke","currentColor"),i(A,"viewBox","0 0 24 24"),l(A,c,1648,12,60468),P.disabled=n[1],i(P,"class","btn-primary"),i(P,"title","Create new shipment with all details"),l(P,c,1632,10,59818),i(Ue,"stroke-linecap","round"),i(Ue,"stroke-linejoin","round"),i(Ue,"stroke-width","2"),i(Ue,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),l(Ue,c,1660,14,61040),i(X,"class","w-4 h-4 mr-2"),i(X,"fill","none"),i(X,"stroke","currentColor"),i(X,"viewBox","0 0 24 24"),l(X,c,1659,12,60945),Z.disabled=n[1],i(Z,"class","btn-secondary"),i(Z,"title","Test database connection and JSON handling"),l(Z,c,1653,10,60749),i(le,"stroke-linecap","round"),i(le,"stroke-linejoin","round"),i(le,"stroke-width","2"),i(le,"d","M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 002 2z"),l(le,c,1671,14,61524),i(me,"class","w-4 h-4 mr-2"),i(me,"fill","none"),i(me,"stroke","currentColor"),i(me,"viewBox","0 0 24 24"),l(me,c,1670,12,61429),re.disabled=n[1],i(re,"class","btn-secondary"),i(re,"title","Test database tables and schemas"),l(re,c,1664,10,61237),i(ye,"stroke-linecap","round"),i(ye,"stroke-linejoin","round"),i(ye,"stroke-width","2"),i(ye,"d","M13 10V3L4 14h7v7l9-11h-7z"),l(ye,c,1682,14,62057),i(he,"class","w-4 h-4 mr-2"),i(he,"fill","none"),i(he,"stroke","currentColor"),i(he,"viewBox","0 0 24 24"),l(he,c,1681,12,61962),oe.disabled=n[1],i(oe,"class","btn-secondary"),i(oe,"title","Test Supabase connection and environment variables"),l(oe,c,1675,10,61748),i(Ae,"stroke-linecap","round"),i(Ae,"stroke-linejoin","round"),i(Ae,"stroke-width","2"),i(Ae,"d","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),l(Ae,c,1688,14,62381),i(ve,"class","w-4 h-4 mr-2"),i(ve,"fill","none"),i(ve,"stroke","currentColor"),i(ve,"viewBox","0 0 24 24"),l(ve,c,1687,10,62286),i(be,"href","/"),i(be,"class","btn-secondary"),l(be,c,1686,8,62241),i(D,"class","flex items-center space-x-4"),l(D,c,1631,8,59766),i(a,"class","flex justify-between items-center py-6"),l(a,c,1619,6,59006),i(o,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),l(o,c,1618,4,58947),i(r,"class","bg-white shadow-sm border-b border-gray-200"),l(r,c,1617,2,58882),i(ke,"stroke-linecap","round"),i(ke,"stroke-linejoin","round"),i(ke,"stroke-width","2"),i(ke,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),l(ke,c,1776,14,66989),i(Ee,"class","w-6 h-6 text-white"),i(Ee,"fill","none"),i(Ee,"stroke","currentColor"),i(Ee,"viewBox","0 0 24 24"),l(Ee,c,1775,12,66888),i(je,"class","w-10 h-10 bg-gradient-to-br from-gold-400 to-gold-600 rounded-lg flex items-center justify-center"),l(je,c,1774,10,66764),i(Oe,"class","text-xl font-semibold text-gray-900"),l(Oe,c,1780,12,67162),i(Ne,"class","text-sm text-gray-600"),l(Ne,c,1781,12,67258),l(ct,c,1779,10,67144),i(fe,"class","flex items-center space-x-3 mb-6"),l(fe,c,1773,8,66707),i(Je,"class","text-lg font-medium text-gray-900 mb-3"),l(Je,c,1788,12,67506),Et.disabled=n[1],i(Et,"class","w-full btn-primary disabled:opacity-50"),l(Et,c,1789,10,67584),i(ft,"class","border-b border-gray-200 pb-4"),l(ft,c,1787,10,67450),i(we,"class","text-lg font-medium text-gray-900 mb-3"),l(we,c,1807,12,68286),i(Se,"type","number"),i(Se,"min","1"),i(Se,"max","100"),i(Se,"class","flex-1 input-field"),i(Se,"placeholder","Number of codes"),l(Se,c,1809,14,68417),Ce.disabled=Ms=n[1]||n[6]<1||n[6]>100,i(Ce,"class","btn-primary disabled:opacity-50"),l(Ce,c,1817,14,68663),i(Ns,"class","flex space-x-2 mb-3"),l(Ns,c,1808,12,68369),i(Ve,"class","text-xs text-gray-500"),l(Ve,c,1825,12,68969),i(us,"class","border-b border-gray-200 pb-4"),l(us,c,1806,10,68230),i(ae,"class","space-y-4"),l(ae,c,1785,8,67374),i(ht,"class","card"),l(ht,c,1772,6,66680),i(ds,"stroke-linecap","round"),i(ds,"stroke-linejoin","round"),i(ds,"stroke-width","2"),i(ds,"d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),l(ds,c,1881,14,71457),i(ze,"class","w-6 h-6 text-white"),i(ze,"fill","none"),i(ze,"stroke","currentColor"),i(ze,"viewBox","0 0 24 24"),l(ze,c,1880,12,71356),i(Mt,"class","w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center"),l(Mt,c,1879,10,71232),i(Ss,"class","text-xl font-semibold text-gray-900"),l(Ss,c,1885,12,71661),i(Yr,"class","text-sm text-gray-600"),l(Yr,c,1886,12,71738),l(tt,c,1884,10,71643),i(Fe,"class","flex items-center space-x-3 mb-6"),l(Fe,c,1878,8,71175),i(qs,"class","text-sm font-medium text-blue-800 mb-2"),l(qs,c,1892,12,71961),l(Pt,c,1894,17,72114),l(Gs,c,1894,14,72111),l(Ts,c,1895,17,72175),l(Wt,c,1895,14,72172),l(gt,c,1896,17,72261),l($t,c,1896,14,72258),l(Ks,c,1897,17,72354),l(_n,c,1897,14,72351),i(xt,"class","space-y-2 text-sm text-blue-700"),l(xt,c,1893,12,72051),i(bt,"class","bg-blue-50 border border-blue-200 rounded-lg p-4"),l(bt,c,1891,10,71886),i(j,"class","text-sm font-medium text-gray-800 mb-2"),l(j,c,1902,12,72535),l(ne,c,1904,14,72680),l(ee,c,1905,14,72746),l(es,c,1906,14,72805),l(ut,c,1907,14,72873),l(Sr,c,1908,14,72921),i(J,"class","text-sm text-gray-700 space-y-1"),l(J,c,1903,12,72621),i(x,"class","bg-gray-50 border border-gray-200 rounded-lg p-4"),l(x,c,1901,10,72460),i(hs,"class","space-y-4"),l(hs,c,1890,8,71852),i(yt,"class","card"),l(yt,c,1877,6,71148),i(We,"class","grid grid-cols-1 lg:grid-cols-2 gap-8"),l(We,c,1770,4,66584),i(en,"stroke-linecap","round"),i(en,"stroke-linejoin","round"),i(en,"stroke-width","2"),i(en,"d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"),l(en,c,1921,14,73443),i(rt,"class","w-6 h-6 text-white"),i(rt,"fill","none"),i(rt,"stroke","currentColor"),i(rt,"viewBox","0 0 24 24"),l(rt,c,1920,12,73342),i(te,"class","w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center"),l(te,c,1919,10,73216),i(zt,"class","text-xl font-semibold text-gray-900"),l(zt,c,1925,12,73716),i(nt,"class","text-sm text-gray-600"),l(nt,c,1926,12,73803),l(Kt,c,1924,10,73698),i(Ft,"class","flex items-center space-x-3"),l(Ft,c,1918,8,73164),i(tn,"stroke-linecap","round"),i(tn,"stroke-linejoin","round"),i(tn,"stroke-width","2"),i(tn,"d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),l(tn,c,1934,12,74103),i(yn,"class","w-4 h-4 mr-2"),i(yn,"fill","none"),i(yn,"stroke","currentColor"),i(yn,"viewBox","0 0 24 24"),l(yn,c,1933,10,74010),i(Dt,"class","btn-secondary"),l(Dt,c,1929,8,73911),i(Jt,"class","flex items-center justify-between mb-6"),l(Jt,c,1917,6,73103),i(it,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(it,c,1944,14,74524),i(Xt,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(Xt,c,1947,14,74680),i(dt,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(dt,c,1950,14,74829),i(qt,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(qt,c,1953,14,74979),i(It,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(It,c,1956,14,75135),i(rs,"class","px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"),l(rs,c,1959,14,75290),l(gs,c,1943,12,74505),i(hi,"class","bg-gray-50"),l(hi,c,1942,10,74466),i(_s,"class","bg-white divide-y divide-gray-200"),l(_s,c,1964,10,75473),i(Ot,"class","min-w-full divide-y divide-gray-200"),l(Ot,c,1941,8,74404),i(ss,"class","overflow-x-auto"),l(ss,c,1940,6,74366),i(St,"class","card mt-8"),l(St,c,1916,4,73073),i(Lt,"stroke-linecap","round"),i(Lt,"stroke-linejoin","round"),i(Lt,"stroke-width","2"),i(Lt,"d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"),l(Lt,c,2023,12,78112),i(As,"class","w-6 h-6 text-white"),i(As,"fill","none"),i(As,"stroke","currentColor"),i(As,"viewBox","0 0 24 24"),l(As,c,2022,10,78013),i(wn,"class","w-10 h-10 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center"),l(wn,c,2021,8,77887),i(Cn,"class","text-xl font-semibold text-gray-900"),l(Cn,c,2027,10,78314),i(ms,"class","text-sm text-gray-600"),l(ms,c,2028,10,78397),l(Tr,c,2026,8,78298),i(ns,"class","flex items-center space-x-3 mb-6"),l(ns,c,2020,6,77832),i(wt,"class","space-y-4"),l(wt,c,2033,6,78545),i(Ds,"class","card mt-8"),l(Ds,c,2019,4,77802),i(pe,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"),l(pe,c,1698,2,62745),i(t,"class","min-h-screen bg-gray-50"),l(t,c,1615,0,58824)},m:function(q,He){Ke(q,e,He),Ke(q,t,He),s(t,r),s(r,o),s(o,a),s(a,h),s(h,f),s(f,v),s(v,m),s(h,_),s(h,C),s(C,E),s(C,T),s(C,O),s(a,k),s(a,D),s(D,P),s(P,A),s(A,M),s(P,L),s(D,W),s(D,Z),s(Z,X),s(X,Ue),s(Z,Qe),s(D,F),s(D,re),s(re,me),s(me,le),s(re,ge),s(D,ce),s(D,oe),s(oe,he),s(he,ye),s(oe,ie),s(D,Te),s(D,be),s(be,ve),s(ve,Ae),s(be,Y),s(t,Re),s(t,pe),lt&&lt.m(pe,null),s(pe,at),ot&&ot.m(pe,null),s(pe,Be),s(pe,We),s(We,ht),s(ht,fe),s(fe,je),s(je,Ee),s(Ee,ke),s(fe,Kr),s(fe,ct),s(ct,Oe),s(ct,Ye),s(ct,Ne),s(ht,xs),s(ht,ae),s(ae,ft),s(ft,Je),s(ft,Rn),s(ft,Et),rn.m(Et,null),s(ae,Bs),s(ae,us),s(us,we),s(us,ar),s(us,Ns),s(Ns,Se),U(Se,n[6]),s(Ns,pt),s(Ns,Ce),s(Ce,mr),s(Ce,Vs),s(Ce,$e),s(us,Ht),s(us,Ve),s(ae,Zr),De&&De.m(ae,null),s(ae,et),ys&&ys.m(ae,null),s(ae,Gt),qe&&qe.m(ae,null),s(We,Fs),s(We,yt),s(yt,Fe),s(Fe,Mt),s(Mt,ze),s(ze,ds),s(Fe,ui),s(Fe,tt),s(tt,Ss),s(tt,Qr),s(tt,Yr),s(yt,lr),s(yt,hs),s(hs,bt),s(bt,qs),s(bt,Hs),s(bt,xt),s(xt,Gs),s(Gs,Pt),s(Gs,Ui),s(xt,Ws),s(xt,Wt),s(Wt,Ts),s(Wt,$r),s(xt,Ri),s(xt,$t),s($t,gt),s($t,fs),s(xt,ps),s(xt,_n),s(_n,Ks),s(_n,di),s(hs,js),s(hs,x),s(x,j),s(x,Q),s(x,J),s(J,ne),s(J,ue),s(J,ee),s(J,st),s(J,es),s(J,Xs),s(J,ut),s(J,Bn),s(J,Sr),s(pe,mn),s(pe,St),s(St,Jt),s(Jt,Ft),s(Ft,te),s(te,rt),s(rt,en),s(Ft,vt),s(Ft,Kt),s(Kt,zt),s(Kt,to),s(Kt,nt),s(Jt,cr),s(Jt,Dt),s(Dt,yn),s(yn,tn),s(Dt,At),s(St,so),s(St,ss),s(ss,Ot),s(Ot,hi),s(hi,gs),s(gs,it),s(gs,Qs),s(gs,Xt),s(gs,ro),s(gs,dt),s(gs,vs),s(gs,qt),s(gs,no),s(gs,It),s(gs,sn),s(gs,rs),s(Ot,Vr),s(Ot,_s);for(let $=0;$<kt.length;$+=1)kt[$]&&kt[$].m(_s,null);s(St,Ir),Ys&&Ys.m(St,null),s(pe,br),s(pe,Ds),s(Ds,ns),s(ns,wn),s(wn,As),s(As,Lt),s(ns,kn),s(ns,Tr),s(Tr,Cn),s(Tr,En),s(Tr,ms),s(Ds,io),s(Ds,wt);for(let $=0;$<Xe.length;$+=1)Xe[$]&&Xe[$].m(wt,null);s(wt,fi),Ut&&Ut.m(wt,null),s(t,xn),Me&&Me.m(t,null),s(t,Zt),Tt&&Tt.m(t,null),Os=!0,bo||(jr=[N(P,"click",n[35],!1,!1,!1,!1),N(Z,"click",n[25],!1,!1,!1,!1),N(re,"click",n[31],!1,!1,!1,!1),N(oe,"click",n[26],!1,!1,!1,!1),N(Et,"click",n[14],!1,!1,!1,!1),N(Se,"input",n[38]),N(Ce,"click",n[15],!1,!1,!1,!1),N(Dt,"click",n[13],!1,!1,!1,!1)],bo=!0)},p:function(q,He){if((!Os||He[0]&2)&&Lo(P,"disabled",q[1]),(!Os||He[0]&2)&&Lo(Z,"disabled",q[1]),(!Os||He[0]&2)&&Lo(re,"disabled",q[1]),(!Os||He[0]&2)&&Lo(oe,"disabled",q[1]),(!Le||!Le.from)&&lt.p(q,He),q[5]?ot?ot.p(q,He):(ot=Bu(q),ot.c(),ot.m(pe,Be)):ot&&(ot.d(1),ot=null),wo!==(wo=ur(q))&&(rn.d(1),rn=wo(q),rn&&(rn.c(),rn.m(Et,null))),(!Os||He[0]&2)&&Lo(Et,"disabled",q[1]),He[0]&64&&Uo(Se.value)!==q[6]&&U(Se,q[6]),(!Os||He[0]&64)&&de(Vs,q[6]),(!Os||He[0]&66&&Ms!==(Ms=q[1]||q[6]<1||q[6]>100))&&Lo(Ce,"disabled",Ms),q[4]?De?De.p(q,He):(De=Nu(q),De.c(),De.m(ae,et)):De&&(De.d(1),De=null),q[2]?ys?ys.p(q,He):(ys=Vu(q),ys.c(),ys.m(ae,Gt)):ys&&(ys.d(1),ys=null),q[5]?qe?qe.p(q,He):(qe=Mu(q),qe.c(),qe.m(ae,null)):qe&&(qe.d(1),qe=null),He[0]&851976){bs=Ro(q[3]);let $;for($=0;$<bs.length;$+=1){const dr=Kd(q,bs,$);kt[$]?kt[$].p(dr,He):(kt[$]=Fu(dr),kt[$].c(),kt[$].m(_s,null))}for(;$<kt.length;$+=1)kt[$].d(1);kt.length=bs.length}if(q[3].length===0?Ys||(Ys=zu(q),Ys.c(),Ys.m(St,null)):Ys&&(Ys.d(1),Ys=null),He[0]&786433){$s=Ro(q[0]);let $;for($=0;$<$s.length;$+=1){const dr=Jd(q,$s,$);Xe[$]?Xe[$].p(dr,He):(Xe[$]=qu(dr),Xe[$].c(),Xe[$].m(wt,fi))}for(;$<Xe.length;$+=1)Xe[$].d(1);Xe.length=$s.length}q[0].length===0?Ut||(Ut=Hu(q),Ut.c(),Ut.m(wt,null)):Ut&&(Ut.d(1),Ut=null),q[8]?Me?(Me.p(q,He),He[0]&256&&Wc(Me,1)):(Me=Gu(q),Me.c(),Wc(Me,1),Me.m(t,Zt)):Me&&(qh(),mu(Me,1,1,()=>{Me=null}),Nh()),q[10]?Tt?Tt.p(q,He):(Tt=Wu(q),Tt.c(),Tt.m(t,null)):Tt&&(Tt.d(1),Tt=null)},i:function(q){Os||(Wc(Me),Os=!0)},o:function(q){mu(Me),Os=!1},d:function(q){q&&(p(e),p(t)),lt&&lt.d(),ot&&ot.d(),rn.d(),De&&De.d(),ys&&ys.d(),qe&&qe.d(),Bl(kt,q),Ys&&Ys.d(),Bl(Xe,q),Ut&&Ut.d(),Me&&Me.d(),Tt&&Tt.d(),bo=!1,xl(jr)}};return mt("SvelteRegisterBlock",{block:Vo,id:Xu.name,type:"component",source:"",ctx:n}),Vo}function Ol(n){return new Date(n).toLocaleString()}function h0(n){switch(n){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}}const f0=n=>n.preventDefault();function p0(n,e,t){let{$$slots:r={},$$scope:o}=e;Yd("Page",r,[]);let a=[],h=!0,f=null,v=[],m="",_="",C=1,E=[],I=!1,T=null,O=!1,w={origin_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},origin_facility:"",origin_guardian:"",pickup_date:null,current_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},current_facility:"",current_guardian:"",destination_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},destination_facility:"",recipient_name:"",recipient_contact:"",estimated_delivery:null,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"",photos:[],description:""},journey_status:"pending",security_level:"high",verification_status:"pending"},k={origin_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},origin_facility:"",origin_guardian:"",pickup_date:null,current_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},current_facility:"",current_guardian:"",destination_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},destination_facility:"",recipient_name:"",recipient_contact:"",estimated_delivery:null,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"",photos:[],description:""},journey_status:"pending",security_level:"high",verification_status:"pending"};function D(){t(12,k={origin_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},origin_facility:"",origin_guardian:"",pickup_date:null,current_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},current_facility:"",current_guardian:"",destination_location:{latitude:0,longitude:0,address:"",city:"",country:"",facility:""},destination_facility:"",recipient_name:"",recipient_contact:"",estimated_delivery:null,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"",photos:[],description:""},journey_status:"pending",security_level:"high",verification_status:"pending"});const x=document.getElementById("create-image-upload");x&&(x.value="")}let P=null,A={};Cd(async()=>{if(await L(),await W(),t(1,h=!1),typeof window<"u")try{console.log("🗺️ Loading Leaflet...");const x=await Sa(()=>import("../chunks/leaflet-src.623ca7c9.js").then(j=>j.l),["..\\chunks\\leaflet-src.623ca7c9.js","..\\chunks\\_commonjsHelpers.23102255.js"],import.meta.url);await Sa(()=>Promise.resolve({}),["..\\assets\\leaflet.4d8e306f.css"],import.meta.url),window.L=x.default,console.log("✅ Leaflet loaded successfully:",window.L),M("origin-map","origin"),M("current-map","current"),M("destination-map","destination")}catch(x){console.error("❌ Failed to load Leaflet:",x)}});function M(x,j){if(!(typeof window>"u"))try{console.log(`🗺️ Initializing ${j} map for element:`,x);const z=document.getElementById(x);if(!z){console.error(`❌ Map container not found: ${x}`);return}if(z.innerHTML="",!window.L){console.error("❌ Leaflet not loaded yet"),z.innerHTML=`
          <div class="w-full h-full bg-gray-200 rounded border-2 border-dashed border-gray-300 flex items-center justify-center">
            <div class="text-center text-gray-500">
              <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-1.447-.894L15 4m0 13V4m-6 3l6-3"></path>
              </svg>
              <p class="text-sm">Map loading...</p>
              <button onclick="location.reload()" class="mt-2 text-xs text-blue-600 hover:text-blue-800">Retry</button>
            </div>
          </div>
        `;return}console.log(`✅ Leaflet found, creating map for ${j}`);const Q=window.L,J=Q.map(x).setView([0,0],2);Q.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(J),A[j]={map:J,marker:null},J.on("click",_e=>{const{lat:ue,lng:ee}=_e.latlng;console.log(`📍 ${j} location set to:`,ue,ee),j==="origin"?(t(11,w.origin_location.latitude=ue,w),t(11,w.origin_location.longitude=ee,w)):j==="current"?(t(11,w.current_location.latitude=ue,w),t(11,w.current_location.longitude=ee,w)):j==="destination"&&(t(11,w.destination_location.latitude=ue,w),t(11,w.destination_location.longitude=ee,w)),A[j].marker?A[j].marker.setLatLng([ue,ee]):A[j].marker=Q.marker([ue,ee]).addTo(J),J.setView([ue,ee],10)});let ne=[0,0];j==="origin"&&w.origin_location.latitude&&w.origin_location.longitude?ne=[w.origin_location.latitude,w.origin_location.longitude]:j==="current"&&w.current_location.latitude&&w.current_location.longitude?ne=[w.current_location.latitude,w.current_location.longitude]:j==="destination"&&w.destination_location.latitude&&w.destination_location.longitude&&(ne=[w.destination_location.latitude,w.destination_location.longitude]),(ne[0]!==0||ne[1]!==0)&&(J.setView(ne,10),A[j].marker=Q.marker(ne).addTo(J)),console.log(`✅ ${j} map initialized successfully`)}catch(z){console.error(`❌ Failed to initialize ${j} map:`,z);const Q=document.getElementById(x);Q&&(Q.innerHTML=`
          <div class="w-full h-full bg-red-100 border border-red-300 rounded flex items-center justify-center">
            <div class="text-center text-red-600">
              <svg class="w-8 h-8 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
              </svg>
              <p class="text-sm">Map failed to load</p>
              <p class="text-xs">Error: ${z.message}</p>
            </div>
          </div>
        `)}}async function L(){try{t(2,f=null);const{data:x,error:j}=await Le.from("tracking_codes").select("*").order("created_at",{ascending:!1});if(j){console.error("Supabase error:",j),j.message.includes("Missing Supabase environment variables")?t(2,f="Database not configured. Please set up your .env file with Supabase credentials."):t(2,f="Failed to load tracking codes: "+j.message);return}t(3,v=x||[])}catch(x){console.error("Error loading tracking codes:",x),t(2,f="Failed to load tracking codes: "+(x.message||"Unknown error"))}}async function W(){try{t(2,f=null),console.log("🔍 Loading shipments..."),console.log("🔍 Supabase client:",Le),console.log("🔍 Environment check:",{url:"https://mleddklrniohnrtekgnh.supabase.co",key:"✅ Loaded"});const{data:x,error:j}=await Le.from("shipments").select(`
          *,
          tracking_codes (
            code,
            status,
            created_at
          )
        `).order("created_at",{ascending:!1});if(j){console.error("❌ Supabase error:",j),j.message.includes("Missing Supabase environment variables")?t(2,f="Database not configured. Please set up your .env file with Supabase credentials."):j.message.includes("fetch")?t(2,f="Network error: Failed to connect to database. Check your internet connection and Supabase URL."):t(2,f="Failed to load shipments: "+j.message);return}console.log("✅ Shipments loaded successfully:",x),t(0,a=x||[])}catch(x){console.error("❌ Error loading shipments:",x),x.message.includes("fetch")?t(2,f="Network error: Failed to connect to database. Please check your Supabase configuration."):t(2,f="Failed to load shipments: "+(x.message||"Unknown error"))}}async function Z(){try{t(1,h=!0),t(2,f=null);const x=kl();if(console.log("🔑 Generated tracking code:",x),!bu(x))throw new Error("Generated code failed validation");console.log("✅ Code validation passed");const{data:j,error:z}=await Le.from("tracking_codes").insert({code:x,status:"active",created_at:new Date().toISOString()}).select().single();if(z)throw console.error("❌ Error creating tracking code:",z),new Error("Failed to create tracking code: "+z.message);console.log("✅ Tracking code created:",j);const{data:Q,error:J}=await Le.from("shipments").insert({tracking_code:x,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,purityUnit:"999.5",serialNumber:"Pending",photos:[],description:"Shipment details pending"},current_location:{latitude:0,longitude:0,address:"Processing Center",city:"Processing",country:"Processing",facility:"Kier Logistics Hub"},delivery_info:{estimatedDelivery:null,currentStatus:"pending",delayReason:null,nextLocation:null,etaHours:0},status:"pending",created_at:new Date().toISOString()}).select().single();if(J)throw console.error("❌ Error creating shipment:",J),new Error("Failed to create shipment: "+J.message);console.log("✅ Shipment created:",Q),t(4,m=x),t(5,_=`Tracking code ${x} generated successfully!`),await L(),await W(),setTimeout(()=>t(5,_=""),3e3)}catch(x){console.error("Error generating tracking code:",x),t(2,f=x.message||"Failed to generate tracking code")}finally{t(1,h=!1)}}async function X(){try{if(C<1||C>100){t(2,f="Please enter a number between 1 and 100");return}t(1,h=!0),t(2,f=null),t(7,E=yu(C));for(const x of E){await zd.createTrackingCode(x);try{const{error:j}=await Le.from("enhanced_shipments").insert([{tracking_code:x,origin_location:{latitude:0,longitude:0,address:"Processing Center",city:"Processing",country:"Processing"},origin_facility:"Kier Logistics Hub",origin_guardian:"System Generated",pickup_date:null,current_location:{latitude:0,longitude:0,address:"Processing Center",city:"Processing",country:"Processing"},current_facility:"Kier Logistics Hub",current_guardian:"System Generated",destination_location:{latitude:0,longitude:0,address:"Destination TBD",city:"TBD",country:"TBD"},destination_facility:"Destination TBD",recipient_name:"Recipient TBD",recipient_contact:"Contact TBD",estimated_delivery:null,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"Pending Assignment",description:"Shipment details pending"},journey_status:"pending",security_level:"high",verification_status:"pending"}]);if(j){console.warn(`Warning: Could not create enhanced shipment record for ${x}:`,j);const{error:z}=await Le.from("shipments").insert([{tracking_code:x,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"Pending Assignment",photos:[],description:"Shipment details pending"},current_location:{latitude:0,longitude:0,address:"Processing Center",city:"Processing",country:"Processing",facility:"Kier Logistics Hub"},delivery_info:{estimatedDelivery:null,currentStatus:"pending",delayReason:null,nextLocation:null,etaHours:0},status:"pending"}]);z&&console.warn(`Warning: Could not create regular shipment record for ${x}:`,z)}}catch(j){console.warn(`Warning: Could not create shipment record for ${x}:`,j)}}t(5,_=`${C} tracking codes generated and saved successfully!`),t(4,m=E[0]),await L()}catch(x){console.error("Error generating multiple tracking codes:",x),t(2,f="Failed to generate tracking codes")}finally{t(1,h=!1)}}async function Ue(x){try{await navigator.clipboard.writeText(x),t(5,_="Copied to clipboard!"),setTimeout(()=>t(5,_=""),2e3)}catch{t(2,f="Failed to copy to clipboard")}}async function Qe(){try{const x=E.join(`
`);await navigator.clipboard.writeText(x),t(5,_="All codes copied to clipboard!"),setTimeout(()=>t(5,_=""),2e3)}catch{t(2,f="Failed to copy codes")}}async function F(x,j){try{if(!confirm(`Are you sure you want to DELETE tracking code "${j}"? This action cannot be undone and will remove all associated data.`))return;t(1,h=!0),t(2,f=null),console.log("🗑️ Deleting tracking code:",j,"ID:",x);const{error:z}=await Le.from("shipments").delete().eq("tracking_code",j);z&&console.warn("Warning: Could not delete shipment record:",z);const{error:Q}=await Le.from("tracking_codes").delete().eq("id",x);if(Q)throw console.error("Error deleting tracking code:",Q),new Error("Failed to delete tracking code: "+Q.message);t(5,_=`Tracking code "${j}" deleted successfully!`),console.log("✅ Tracking code deleted successfully"),await L(),await W(),setTimeout(()=>t(5,_=""),3e3)}catch(z){console.error("Error deleting tracking code:",z),t(2,f=z.message||"Failed to delete tracking code")}finally{t(1,h=!1)}}async function re(x){var j,z,Q,J,ne,_e,ue,ee,Pe,st,es,ts,Xs,ut,Ps,Bn,Sr,Zs,mn,St,Jt,Ft;try{console.log("🔍 Edit button clicked for tracking code:",x),t(1,h=!0),t(2,f=null);let{data:te,error:rt}=await Le.from("enhanced_shipments").select("*").eq("tracking_code",x).maybeSingle();if(!te)console.log("No enhanced shipment found, creating new one..."),te={tracking_code:x,origin_location:{},origin_facility:"",origin_guardian:"",pickup_date:null,current_location:{},current_facility:"",current_guardian:"",destination_location:{},destination_facility:"",recipient_name:"",recipient_contact:"",estimated_delivery:null,product_details:{type:"Gold Shipment",weight:0,weightUnit:"kg",purity:999.5,serialNumber:"",description:""},journey_status:"pending",security_level:"high",verification_status:"pending"};else if(rt)throw console.error("Error fetching enhanced shipment:",rt),new Error("Failed to load shipment details: "+rt.message);if(rt){console.error("Supabase error fetching shipment:",rt),rt.message.includes("Missing Supabase environment variables")?t(2,f="Database not configured. Please set up your .env file with Supabase credentials."):t(2,f="Failed to load shipment details: "+rt.message);return}t(9,T=te),t(11,w={origin_location:{latitude:((j=te.origin_location)==null?void 0:j.latitude)||0,longitude:((z=te.origin_location)==null?void 0:z.longitude)||0,address:((Q=te.origin_location)==null?void 0:Q.address)||"",city:((J=te.origin_location)==null?void 0:J.city)||"",country:((ne=te.origin_location)==null?void 0:ne.country)||""},origin_facility:te.origin_facility||"",origin_guardian:te.origin_guardian||"",pickup_date:te.pickup_date||null,current_location:{latitude:((_e=te.current_location)==null?void 0:_e.latitude)||0,longitude:((ue=te.current_location)==null?void 0:ue.longitude)||0,address:((ee=te.current_location)==null?void 0:ee.address)||"",city:((Pe=te.current_location)==null?void 0:Pe.city)||"",country:((st=te.current_location)==null?void 0:st.country)||""},current_facility:te.current_facility||"",current_guardian:te.current_guardian||"",destination_location:{latitude:((es=te.destination_location)==null?void 0:es.latitude)||0,longitude:((ts=te.destination_location)==null?void 0:ts.longitude)||0,address:((Xs=te.destination_location)==null?void 0:Xs.address)||"",city:((ut=te.destination_location)==null?void 0:ut.city)||"",country:((Ps=te.destination_location)==null?void 0:Ps.country)||""},destination_facility:te.destination_facility||"",recipient_name:te.recipient_name||"",recipient_contact:te.recipient_contact||"",estimated_delivery:te.estimated_delivery||null,product_details:{type:((Bn=te.product_details)==null?void 0:Bn.type)||"Gold Shipment",weight:((Sr=te.product_details)==null?void 0:Sr.weight)||0,weightUnit:((Zs=te.product_details)==null?void 0:Zs.weightUnit)||"kg",purity:((mn=te.product_details)==null?void 0:mn.purity)||999.5,serialNumber:((St=te.product_details)==null?void 0:St.serialNumber)||"",photos:((Jt=te.product_details)==null?void 0:Jt.photos)||[],description:((Ft=te.product_details)==null?void 0:Ft.description)||""},journey_status:te.journey_status||"pending",security_level:te.security_level||"high",verification_status:te.verification_status||"pending"}),t(8,I=!0),console.log("✅ Modal should now be visible. showEditModal:",I),console.log("✅ editingShipment data:",T),setTimeout(()=>{typeof window<"u"&&(console.log("🗺️ Initializing maps..."),M("origin-map","origin"),M("current-map","current"),M("destination-map","destination"))},200)}catch(te){console.error("Error editing shipment:",te),t(2,f="Failed to edit shipment")}finally{t(1,h=!1)}}async function me(){var x;try{t(1,h=!0),t(2,f=null);const j=T.tracking_code;console.log("📸 DEBUG: editForm.product_details:",w.product_details),console.log("📸 DEBUG: Photos array:",w.product_details.photos),console.log("📸 DEBUG: Photos length:",(x=w.product_details.photos)==null?void 0:x.length),console.log("📸 DEBUG: Photos type:",typeof w.product_details.photos),console.log("📸 DEBUG: Photos content:",JSON.stringify(w.product_details.photos,null,2));const z={tracking_code:j,origin_location:w.origin_location,origin_facility:w.origin_facility,origin_guardian:w.origin_guardian,pickup_date:w.pickup_date,current_location:w.current_location,current_facility:w.current_facility,current_guardian:w.current_guardian,destination_location:w.destination_location,destination_facility:w.destination_facility,recipient_name:w.recipient_name,recipient_contact:w.recipient_contact,estimated_delivery:w.estimated_delivery,product_details:w.product_details,journey_status:w.journey_status,security_level:w.security_level,verification_status:w.verification_status};console.log("🔍 Saving enhanced shipment data:",z),console.log("🔍 Tracking code:",j),console.log("📸 DEBUG: Enhanced data product_details:",z.product_details),console.log("📸 DEBUG: Enhanced data photos:",z.product_details.photos);let{data:Q,error:J}=await Le.from("enhanced_shipments").update(z).eq("tracking_code",j).select();if(J){console.log("⚠️ Update failed, trying to insert new record...");const{data:ne,error:_e}=await Le.from("enhanced_shipments").insert([z]).select();if(_e){console.error("❌ Enhanced shipment save error:",_e),console.log("🔄 Falling back to regular shipments table...");const{data:ue,error:ee}=await Le.from("shipments").select("id").eq("tracking_code",j).single();if(ee){console.log("📝 No existing shipment found, creating new one...");const{data:Pe,error:st}=await Le.from("shipments").insert([{tracking_code:j,product_details:w.product_details,current_location:w.current_location,delivery_info:{destination:w.destination_location,recipient_name:w.recipient_name,recipient_contact:w.recipient_contact,estimatedDelivery:w.estimated_delivery},status:w.journey_status==="delivered"?"delivered":w.journey_status==="in-transit"?"in-transit":w.journey_status==="pickup"?"pickup":"pending"}]).select();if(st)throw new Error(`Failed to create shipment: ${st.message}`);console.log("✅ New shipment created:",Pe),t(5,_="Shipment created successfully in regular table!")}else{const Pe={product_details:w.product_details,current_location:w.current_location,delivery_info:{destination:w.destination_location,recipient_name:w.recipient_name,recipient_contact:w.recipient_contact,estimatedDelivery:w.estimated_delivery},status:w.journey_status==="delivered"?"delivered":w.journey_status==="in-transit"?"in-transit":w.journey_status==="pickup"?"pickup":"pending"},{data:st,error:es}=await Le.from("shipments").update(Pe).eq("id",ue.id).select();if(es)throw new Error(`Failed to update shipment: ${es.message}`);console.log("✅ Regular shipment updated:",st),t(5,_="Shipment updated successfully in regular table!")}}else console.log("✅ Enhanced shipment created:",ne),t(5,_="Shipment saved successfully to enhanced table!")}else console.log("✅ Enhanced shipment updated:",Q),t(5,_="Shipment updated successfully!");t(8,I=!1),t(9,T=null),await W(),typeof window<"u"&&window.dispatchEvent(new CustomEvent("adminShipmentUpdated",{detail:{trackingCode:j,message:"Shipment updated - refresh tracking page to see changes"}})),setTimeout(()=>t(5,_=""),3e3)}catch(j){console.error("Error saving shipment:",j),t(2,f=j.message||"Failed to save shipment changes")}finally{t(1,h=!1)}}function le(){t(8,I=!1),t(9,T=null)}function ge(x){const{images:j,trackingCode:z}=x.detail;console.log("✅ Images uploaded successfully:",j),console.log("📸 DEBUG: Current photos before update:",w.product_details.photos),t(11,w.product_details.photos=[...w.product_details.photos||[],...j],w),console.log("📸 DEBUG: Photos after update:",w.product_details.photos),console.log("📸 DEBUG: Photos length after update:",w.product_details.photos.length),t(5,_=`Successfully uploaded ${j.length} image(s) for tracking code ${z}`),setTimeout(()=>t(5,_=""),5e3)}function ce(x){const{error:j}=x.detail;console.error("❌ Image upload failed:",j),t(2,f=`Failed to upload images: ${j}`),setTimeout(()=>t(2,f=""),5e3)}function oe(x){const{imageUrl:j,trackingCode:z}=x.detail;console.log("🗑️ Removing image:",j),t(11,w.product_details.photos=(w.product_details.photos||[]).filter(Q=>Q!==j),w),t(5,_=`Image removed from tracking code ${z}`),setTimeout(()=>t(5,_=""),3e3)}async function he(){try{console.log("🧪 Testing database connection...");const{data:x,error:j}=await Le.from("tracking_codes").select("*").limit(1);if(j){console.error("❌ Read test failed:",j),t(2,f="Database read test failed: "+j.message);return}if(console.log("✅ Read test passed:",x),x&&x.length>0){const z=x[0];console.log("🧪 Testing update with valid status...");const{data:Q,error:J}=await Le.from("tracking_codes").update({status:"suspended"}).eq("id",z.id).select();if(J){console.error("❌ Update test failed:",J),t(2,f="Database update test failed: "+J.message);return}console.log("✅ Update test passed:",Q),await Le.from("tracking_codes").update({status:z.status}).eq("id",z.id),console.log("✅ Test reverted to original status:",z.status)}t(5,_="Database connection test passed!"),setTimeout(()=>t(5,_=""),5e3)}catch(x){console.error("❌ Database test failed:",x),t(2,f="Database test failed: "+(x.message||"Unknown error"))}}async function ye(){try{console.log("🔍 Testing Supabase connection..."),console.log("🔍 Supabase client:",Le),console.log("🔍 Environment variables:",{url:"https://mleddklrniohnrtekgnh.supabase.co",key:"✅ Loaded"});const{data:x,error:j}=await Le.from("tracking_codes").select("count").limit(1);j?(console.error("❌ Connection test failed:",j),t(2,f="Connection test failed: "+j.message)):(console.log("✅ Connection test passed:",x),t(5,_="Supabase connection successful!"),setTimeout(()=>t(5,_=""),5e3))}catch(x){console.error("❌ Connection test error:",x),t(2,f="Connection test error: "+(x.message||"Unknown error"))}}async function ie(x){try{let j,z,Q,J;if(x==="origin"?(j=w.origin_location,z=w.origin_location.address,Q=w.origin_location.city,J=w.origin_location.country):x==="current"?(j=w.current_location,z=w.current_location.address,Q=w.current_location.city,J=w.current_location.country):x==="destination"&&(j=w.destination_location,z=w.destination_location.address,Q=w.destination_location.city,J=w.destination_location.country),!z||!Q||!J){console.warn(`Missing address information for ${x}`);return}const ne=`${z}, ${Q}, ${J}`;console.log(`🔍 Searching coordinates for ${x}:`,ne);const ue=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(ne)}&limit=1`)).json();if(ue&&ue.length>0){const ee=ue[0];j.latitude=parseFloat(ee.lat),j.longitude=parseFloat(ee.lon),console.log(`✅ Coordinates for ${x} found:`,ee),console.log(`📍 Set ${x} coordinates:`,j.latitude,j.longitude)}else console.warn(`❌ No coordinates found for ${x}:`,ne)}catch(j){console.error("❌ Error finding coordinates:",j),j="Failed to find coordinates: "+j.message}}async function Te(){var x,j,z,Q,J,ne,_e,ue;try{t(1,h=!0),t(2,f=null);const ee=kl();console.log("🔑 Generated tracking code:",ee),console.log("📝 Step 1: Creating tracking code record...");const{error:Pe}=await Le.from("tracking_codes").insert([{code:ee,status:"active",metadata:{created_by:"admin"}}]);if(Pe)throw new Error(`Failed to create tracking code: ${Pe.message}`);console.log("✅ Tracking code record created successfully");const st={tracking_code:ee,origin_location:k.origin_location,origin_facility:k.origin_facility,origin_guardian:k.origin_guardian,pickup_date:k.pickup_date,current_location:k.current_location,current_facility:k.current_facility,current_guardian:k.current_guardian,destination_location:k.destination_location,destination_facility:k.destination_facility,recipient_name:k.recipient_name,recipient_contact:k.recipient_contact,estimated_delivery:k.estimated_delivery,product_details:k.product_details,journey_status:k.journey_status,security_level:k.security_level,verification_status:k.verification_status};console.log("📦 Complete shipment data prepared:",st),console.log("📸 PHOTO DEBUG BEFORE SAVING:"),console.log("📸 Product details:",st.product_details),console.log("📸 Photos array:",st.product_details.photos),console.log("📸 Photos length:",(x=st.product_details.photos)==null?void 0:x.length),console.log("📸 Photos type:",typeof st.product_details.photos),((j=st.product_details.photos)==null?void 0:j.length)>0&&console.log("📸 First photo sample:",st.product_details.photos[0].substring(0,100)+"..."),console.log("📝 Step 3: Attempting to save to enhanced_shipments...");let{data:es,error:ts}=await Le.from("enhanced_shipments").insert([st]).select();if(ts){console.log("⚠️ Enhanced table failed, trying regular shipments table..."),console.log("❌ Enhanced error:",ts),console.log("📸 PHOTO DEBUG - Enhanced save failed"),ts.code==="42P01"||ts.message.includes('relation "enhanced_shipments" does not exist')?console.log("📋 Enhanced_shipments table does not exist, using regular table"):ts.code==="42703"||ts.message.includes("column")||ts.message.includes("does not exist")?console.log("📋 Enhanced_shipments table schema mismatch, using regular table"):console.log("⚠️ Unknown enhanced table error, falling back to regular table");const Xs={tracking_code:ee,product_details:k.product_details,current_location:k.current_location,delivery_info:{destination:k.destination_location,recipient_name:k.recipient_name,recipient_contact:k.recipient_contact,estimatedDelivery:k.estimated_delivery},status:k.journey_status==="delivered"?"delivered":k.journey_status==="in-transit"?"in-transit":k.journey_status==="pickup"?"pickup":"pending"};console.log("📝 Step 4: Saving to regular shipments table...");const{data:ut,error:Ps}=await Le.from("shipments").insert([Xs]).select();if(Ps)throw console.error("❌ Regular shipments table also failed:",Ps),new Error(`Failed to create shipment in both tables: ${Ps.message}`);console.log("✅ Regular shipment created:",ut),t(5,_=`Shipment created successfully with tracking code: ${ee}`)}else console.log("✅ Enhanced shipment created:",es),console.log("📸 PHOTO DEBUG AFTER SAVE:"),console.log("📸 Saved product details:",(z=es[0])==null?void 0:z.product_details),console.log("📸 Saved photos:",(J=(Q=es[0])==null?void 0:Q.product_details)==null?void 0:J.photos),console.log("📸 Saved photos length:",(ue=(_e=(ne=es[0])==null?void 0:ne.product_details)==null?void 0:_e.photos)==null?void 0:ue.length),t(5,_=`Enhanced shipment created successfully with tracking code: ${ee}`);console.log("📝 Step 5: Finalizing and reloading data..."),t(10,O=!1),Be(),D(),await L(),await W(),t(5,_=`✅ Shipment created successfully! Tracking Code: ${ee}`),setTimeout(()=>t(5,_=""),5e3)}catch(ee){if(console.error("❌ Error creating complete shipment:",ee),t(2,f=ee.message||"Failed to create shipment"),ee.message.includes("Failed to create shipment")&&trackingCode){console.log("🧹 Cleaning up orphaned tracking code...");try{await Le.from("tracking_codes").delete().eq("tracking_code",trackingCode),console.log("✅ Orphaned tracking code cleaned up")}catch(Pe){console.warn("⚠️ Could not clean up orphaned tracking code:",Pe)}}}finally{t(1,h=!1)}}async function be(x){try{let j="",z="",Q="";if(x==="origin"?(j=k.origin_location.address,z=k.origin_location.city,Q=k.origin_location.country):x==="current"?(j=k.current_location.address,z=k.current_location.city,Q=k.current_location.country):x==="destination"&&(j=k.destination_location.address,z=k.destination_location.city,Q=k.destination_location.country),!j&&!z&&!Q){console.warn(`Missing address information for ${x}`);return}const J=[j,z,Q].filter(Boolean).join(", ");console.log(`🔍 Searching coordinates for ${x}:`,J);const _e=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(J)}&limit=1`)).json();if(_e&&_e.length>0){const{lat:ue,lon:ee}=_e[0];if(console.log(`✅ Coordinates found for ${x}:`,ue,ee),x==="origin"?(t(12,k.origin_location.latitude=parseFloat(ue),k),t(12,k.origin_location.longitude=parseFloat(ee),k)):x==="current"?(t(12,k.current_location.latitude=parseFloat(ue),k),t(12,k.current_location.longitude=parseFloat(ee),k)):x==="destination"&&(t(12,k.destination_location.latitude=parseFloat(ue),k),t(12,k.destination_location.longitude=parseFloat(ee),k)),A[`create-${x}`]&&A[`create-${x}`].map){const Pe=A[`create-${x}`].map,st=window.L;A[`create-${x}`].marker&&Pe.removeLayer(A[`create-${x}`].marker),A[`create-${x}`].marker=st.marker([parseFloat(ue),parseFloat(ee)]).addTo(Pe),Pe.setView([parseFloat(ue),parseFloat(ee)],10),console.log(`📍 Updated ${x} map marker at coordinates:`,ue,ee)}}else console.warn(`❌ No coordinates found for ${x}:`,J)}catch(j){console.error(`❌ Error finding coordinates for ${x}:`,j)}}function ve(x,j){if(!(typeof window>"u"))try{console.log(`🗺️ Initializing create ${j} map for element:`,x);const z=document.getElementById(x);if(!z){console.error(`❌ Create map container not found: ${x}`);return}if(A[`create-${j}`]&&A[`create-${j}`].map){console.log(`✅ Map for ${j} already initialized, skipping...`);return}if(z.innerHTML="",!window.L){console.error("❌ Leaflet not loaded yet for create form");return}console.log(`✅ Leaflet found, creating create map for ${j}`);const Q=window.L,J=Q.map(x).setView([0,0],2);Q.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(J),J.on("click",_e=>{const{lat:ue,lng:ee}=_e.latlng;console.log(`📍 ${j} location set to:`,ue,ee),j==="origin"?(t(12,k.origin_location.latitude=ue,k),t(12,k.origin_location.longitude=ee,k)):j==="current"?(t(12,k.current_location.latitude=ue,k),t(12,k.current_location.longitude=ee,k)):j==="destination"&&(t(12,k.destination_location.latitude=ue,k),t(12,k.destination_location.longitude=ee,k)),A[`create-${j}`]&&A[`create-${j}`].marker?A[`create-${j}`].marker.setLatLng([ue,ee]):(A[`create-${j}`]||(A[`create-${j}`]={map:J,marker:null}),A[`create-${j}`].marker=Q.marker([ue,ee]).addTo(J)),J.setView([ue,ee],10)}),A[`create-${j}`]={map:J,marker:null};let ne=[0,0];j==="origin"&&k.origin_location.latitude&&k.origin_location.longitude?ne=[k.origin_location.latitude,k.origin_location.longitude]:j==="current"&&k.current_location.latitude&&k.current_location.longitude?ne=[k.current_location.latitude,k.current_location.longitude]:j==="destination"&&k.destination_location.latitude&&k.destination_location.longitude&&(ne=[k.destination_location.latitude,k.destination_location.longitude]),(ne[0]!==0||ne[1]!==0)&&(J.setView(ne,10),A[`create-${j}`].marker=Q.marker(ne).addTo(J)),console.log(`✅ Create ${j} map initialized successfully`)}catch(z){console.error(`❌ Failed to initialize create ${j} map:`,z)}}async function Ae(){try{console.log("🔍 Testing database tables...");const{data:x,error:j}=await Le.from("tracking_codes").select("count").limit(1);j?console.log("❌ tracking_codes table error:",j):console.log("✅ tracking_codes table accessible");const{data:z,error:Q}=await Le.from("shipments").select("count").limit(1);Q?console.log("❌ shipments table error:",Q):console.log("✅ shipments table accessible");const{data:J,error:ne}=await Le.from("enhanced_shipments").select("count").limit(1);ne?(console.log("❌ enhanced_shipments table error:",ne),ne.code==="42P01"?console.log("📋 Table does not exist"):ne.code==="42703"&&console.log("📋 Schema mismatch")):console.log("✅ enhanced_shipments table accessible"),console.log("🔍 Testing table schemas...");try{const{data:_e}=await Le.from("shipments").select("*").limit(1);console.log("📋 shipments table columns:",_e&&_e.length>0?Object.keys(_e[0]):"No data")}catch(_e){console.log("❌ Could not get shipments schema:",_e)}try{const{data:_e}=await Le.from("tracking_codes").select("*").limit(1);console.log("📋 tracking_codes table columns:",_e&&_e.length>0?Object.keys(_e[0]):"No data")}catch(_e){console.log("❌ Could not get tracking_codes schema:",_e)}console.log("✅ Database table test completed")}catch(x){console.error("❌ Database table test failed:",x)}}function Y(x){const j=Array.from(x.target.files);pe(j)}function Re(x){x.preventDefault();const j=Array.from(x.dataTransfer.files);pe(j)}function pe(x){const j=x.filter(z=>z.type.startsWith("image/"));if(j.length===0){alert("Please select only image files");return}j.forEach(z=>{if(z.size>10*1024*1024){alert(`File ${z.name} is too large. Maximum size is 10MB.`);return}const Q=new FileReader;Q.onload=J=>{t(12,k.product_details.photos=[...k.product_details.photos||[],J.target.result],k),t(12,k)},Q.readAsDataURL(z)})}function at(x){t(12,k.product_details.photos=k.product_details.photos.filter((j,z)=>z!==x),k)}function Be(){try{console.log("🧹 Cleaning up create form maps..."),["origin","current","destination"].forEach(x=>{const j=`create-${x}`;if(A[j]&&A[j].map)try{A[j].map.remove(),console.log(`✅ Cleaned up ${x} map`)}catch(z){console.warn(`⚠️ Error cleaning up ${x} map:`,z)}}),A={},console.log("✅ All create form maps cleaned up")}catch(x){console.error("❌ Error cleaning up create form maps:",x)}}const We=[];u0.keys(e).forEach(x=>{!~We.indexOf(x)&&x.slice(0,2)!=="$$"&&x!=="slot"&&d0.warn(`<Page> was created with unknown prop '${x}'`)});const ht=()=>{t(10,O=!0),setTimeout(()=>{typeof window<"u"&&window.L&&(ve("create-origin-map","origin"),ve("create-current-map","current"),ve("create-destination-map","destination"))},200)},fe=()=>window.location.reload(),je=()=>t(5,_="");function Ee(){C=Uo(this.value),t(6,C)}const ke=()=>Ue(m),Kr=x=>Ue(x.code),ct=x=>re(x.code),Oe=x=>F(x.id,x.code),Nt=x=>re(x.tracking_code),Ye=x=>F(x.id,x.tracking_code);function Ne(){w.product_details.type=this.value,t(11,w)}function or(){w.product_details.weight=Uo(this.value),t(11,w)}function xs(){w.product_details.weightUnit=ta(this),t(11,w)}function ae(){w.product_details.purity=Uo(this.value),t(11,w)}function ft(){w.product_details.purityUnit=ta(this),t(11,w)}function Je(){w.product_details.serialNumber=this.value,t(11,w)}function Ct(){w.product_details.description=this.value,t(11,w)}function Rn(){w.origin_facility=this.value,t(11,w)}function Et(){w.origin_guardian=this.value,t(11,w)}const Bs=x=>t(11,w.pickup_date=x.target.value?new Date(x.target.value).toISOString():null,w);function us(){w.origin_location.address=this.value,t(11,w)}const we=()=>ie("origin");function Vt(){w.origin_location.city=this.value,t(11,w)}function ar(){w.origin_location.country=this.value,t(11,w)}function Ns(){w.current_facility=this.value,t(11,w)}function Se(){w.current_guardian=this.value,t(11,w)}function pt(){w.current_location.address=this.value,t(11,w)}const Ce=()=>ie("current");function mr(){w.current_location.city=this.value,t(11,w)}function Vs(){w.current_location.country=this.value,t(11,w)}function $e(){w.destination_facility=this.value,t(11,w)}function Ms(){w.recipient_name=this.value,t(11,w)}function Ht(){w.recipient_contact=this.value,t(11,w)}function Ve(){w.destination_location.address=this.value,t(11,w)}const Xr=()=>ie("destination");function Zr(){w.destination_location.city=this.value,t(11,w)}function et(){w.destination_location.country=this.value,t(11,w)}function Gt(){w.estimated_delivery=this.value,t(11,w)}function Fs(){w.journey_status=ta(this),t(11,w)}function yt(){w.security_level=ta(this),t(11,w)}function Fe(){w.verification_status=ta(this),t(11,w)}const Mt=()=>t(10,O=!1);function ze(){k.product_details.type=this.value,t(12,k)}function ds(){k.product_details.serialNumber=this.value,t(12,k)}function ui(){k.product_details.weight=Uo(this.value),t(12,k)}function tt(){k.product_details.weightUnit=ta(this),t(12,k)}function Ss(){k.product_details.purity=Uo(this.value),t(12,k)}function Is(){k.product_details.description=this.value,t(12,k)}const Qr=()=>document.getElementById("create-image-upload").click(),Yr=x=>x.key==="Enter"||x.key===" "?document.getElementById("create-image-upload").click():null,zs=x=>Re(x),lr=x=>Y(x),hs=x=>at(x);function bt(){k.origin_facility=this.value,t(12,k)}function qs(){k.origin_guardian=this.value,t(12,k)}function eo(){k.pickup_date=this.value,t(12,k)}function Hs(){k.origin_location.address=this.value,t(12,k)}const xt=()=>be("origin");function Gs(){k.origin_location.city=this.value,t(12,k)}function Pt(){k.origin_location.country=this.value,t(12,k)}function vn(){k.current_facility=this.value,t(12,k)}function Ui(){k.current_guardian=this.value,t(12,k)}function Ws(){k.current_location.address=this.value,t(12,k)}const Wt=()=>be("current");function Ts(){k.current_location.city=this.value,t(12,k)}function Js(){k.current_location.country=this.value,t(12,k)}function $r(){k.destination_facility=this.value,t(12,k)}function Ri(){k.recipient_name=this.value,t(12,k)}function $t(){k.recipient_contact=this.value,t(12,k)}function gt(){k.estimated_delivery=this.value,t(12,k)}function yr(){k.destination_location.address=this.value,t(12,k)}const fs=()=>be("destination");function ps(){k.destination_location.city=this.value,t(12,k)}function _n(){k.destination_location.country=this.value,t(12,k)}function Ks(){k.journey_status=ta(this),t(12,k)}function xr(){k.security_level=ta(this),t(12,k)}function di(){k.verification_status=ta(this),t(12,k)}const js=()=>t(10,O=!1);return n.$capture_state=()=>({onMount:Cd,generateSecureTrackingCode:kl,generateMultipleCodes:yu,validateTrackingCode:bu,supabase:Le,supabaseHelpers:zd,ImageUpload:Ih,shipments:a,loading:h,error:f,trackingCodes:v,newTrackingCode:m,success:_,codeCount:C,generatedCodes:E,showEditModal:I,editingShipment:T,showCreateForm:O,editForm:w,createForm:k,resetCreateForm:D,map:P,mapMarkers:A,initializeMap:M,loadTrackingCodes:L,loadShipments:W,generateTrackingCode:Z,generateMultipleTrackingCodes:X,copyToClipboard:Ue,copyAllCodes:Qe,deleteCode:F,editShipment:re,saveShipment:me,closeEditModal:le,handleImageUploadSuccess:ge,handleImageUploadError:ce,handleImageRemove:oe,formatDate:Ol,getStatusColor:h0,testDatabase:he,testSupabaseConnection:ye,findCoordinates:ie,createCompleteShipment:Te,findCoordinatesForCreate:be,initializeCreateMap:ve,testDatabaseTables:Ae,handleCreateImageSelect:Y,handleCreateImageDrop:Re,handleCreateImageFiles:pe,removeCreateImage:at,cleanupCreateMaps:Be}),n.$inject_state=x=>{"shipments"in x&&t(0,a=x.shipments),"loading"in x&&t(1,h=x.loading),"error"in x&&t(2,f=x.error),"trackingCodes"in x&&t(3,v=x.trackingCodes),"newTrackingCode"in x&&t(4,m=x.newTrackingCode),"success"in x&&t(5,_=x.success),"codeCount"in x&&t(6,C=x.codeCount),"generatedCodes"in x&&t(7,E=x.generatedCodes),"showEditModal"in x&&t(8,I=x.showEditModal),"editingShipment"in x&&t(9,T=x.editingShipment),"showCreateForm"in x&&t(10,O=x.showCreateForm),"editForm"in x&&t(11,w=x.editForm),"createForm"in x&&t(12,k=x.createForm),"map"in x&&(P=x.map),"mapMarkers"in x&&(A=x.mapMarkers)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),[a,h,f,v,m,_,C,E,I,T,O,w,k,L,Z,X,Ue,Qe,F,re,me,le,ge,ce,oe,he,ye,ie,Te,be,ve,Ae,Y,Re,at,ht,fe,je,Ee,ke,Kr,ct,Oe,Nt,Ye,Ne,or,xs,ae,ft,Je,Ct,Rn,Et,Bs,us,we,Vt,ar,Ns,Se,pt,Ce,mr,Vs,$e,Ms,Ht,Ve,Xr,Zr,et,Gt,Fs,yt,Fe,Mt,ze,ds,ui,tt,Ss,Is,Qr,Yr,zs,lr,hs,bt,qs,eo,Hs,xt,Gs,Pt,vn,Ui,Ws,Wt,Ts,Js,$r,Ri,$t,gt,yr,fs,ps,_n,Ks,xr,di,js]}class P0 extends Zd{constructor(e){super(e),Qd(this,e,p0,Xu,Xd,{},null,[-1,-1,-1,-1,-1]),mt("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Xu.name})}}export{P0 as component};
